{"ast":null,"code":"/*\r\n== malihu jquery custom scrollbar plugin == \r\nVersion: 3.1.5 \r\nPlugin URI: http://manos.malihu.gr/jquery-custom-content-scroller \r\nAuthor: malihu\r\nAuthor URI: http://manos.malihu.gr\r\nLicense: MIT License (MIT)\r\n*/\n\n/*\r\nCopyright Manos Malihutsakis (email: manos@malihu.gr)\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n*/\n\n/*\r\nThe code below is fairly long, fully commented and should be normally used in development. \r\nFor production, use either the minified jquery.mCustomScrollbar.min.js script or \r\nthe production-ready jquery.mCustomScrollbar.concat.min.js which contains the plugin \r\nand dependencies (minified). \r\n*/\n(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"jquery\"], factory);\n  } else if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory;\n  } else {\n    factory(jQuery, window, document);\n  }\n})(function ($) {\n  (function (init) {\n    var _rjs = typeof define === \"function\" && define.amd,\n\n    /* RequireJS */\n    _njs = typeof module !== \"undefined\" && module.exports,\n\n    /* NodeJS */\n    _dlp = \"https:\" == document.location.protocol ? \"https:\" : \"http:\",\n\n    /* location protocol */\n    _url = \"cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js\";\n\n    if (!_rjs) {\n      if (_njs) {\n        require(\"jquery-mousewheel\")($);\n      } else {\n        /* load jquery-mousewheel plugin (via CDN) if it's not present or not loaded via RequireJS \r\n        (works when mCustomScrollbar fn is called on window load) */\n        $.event.special.mousewheel || $(\"head\").append(decodeURI(\"%3Cscript src=\" + _dlp + \"//\" + _url + \"%3E%3C/script%3E\"));\n      }\n    }\n\n    init();\n  })(function () {\n    /* \r\n    ----------------------------------------\r\n    PLUGIN NAMESPACE, PREFIX, DEFAULT SELECTOR(S) \r\n    ----------------------------------------\r\n    */\n    var pluginNS = \"mCustomScrollbar\",\n        pluginPfx = \"mCS\",\n        defaultSelector = \".mCustomScrollbar\",\n\n    /* \r\n    ----------------------------------------\r\n    DEFAULT OPTIONS \r\n    ----------------------------------------\r\n    */\n    defaults = {\n      /*\r\n      set element/content width/height programmatically \r\n      values: boolean, pixels, percentage \r\n      \toption\t\t\t\t\t\tdefault\r\n      \t-------------------------------------\r\n      \tsetWidth\t\t\t\t\tfalse\r\n      \tsetHeight\t\t\t\t\tfalse\r\n      */\n\n      /*\r\n      set the initial css top property of content  \r\n      values: string (e.g. \"-100px\", \"10%\" etc.)\r\n      */\n      setTop: 0,\n\n      /*\r\n      set the initial css left property of content  \r\n      values: string (e.g. \"-100px\", \"10%\" etc.)\r\n      */\n      setLeft: 0,\n\n      /* \r\n      scrollbar axis (vertical and/or horizontal scrollbars) \r\n      values (string): \"y\", \"x\", \"yx\"\r\n      */\n      axis: \"y\",\n\n      /*\r\n      position of scrollbar relative to content  \r\n      values (string): \"inside\", \"outside\" (\"outside\" requires elements with position:relative)\r\n      */\n      scrollbarPosition: \"inside\",\n\n      /*\r\n      scrolling inertia\r\n      values: integer (milliseconds)\r\n      */\n      scrollInertia: 950,\n\n      /* \r\n      auto-adjust scrollbar dragger length\r\n      values: boolean\r\n      */\n      autoDraggerLength: true,\n\n      /*\r\n      auto-hide scrollbar when idle \r\n      values: boolean\r\n      \toption\t\t\t\t\t\tdefault\r\n      \t-------------------------------------\r\n      \tautoHideScrollbar\t\t\tfalse\r\n      */\n\n      /*\r\n      auto-expands scrollbar on mouse-over and dragging\r\n      values: boolean\r\n      \toption\t\t\t\t\t\tdefault\r\n      \t-------------------------------------\r\n      \tautoExpandScrollbar\t\t\tfalse\r\n      */\n\n      /*\r\n      always show scrollbar, even when there's nothing to scroll \r\n      values: integer (0=disable, 1=always show dragger rail and buttons, 2=always show dragger rail, dragger and buttons), boolean\r\n      */\n      alwaysShowScrollbar: 0,\n\n      /*\r\n      scrolling always snaps to a multiple of this number in pixels\r\n      values: integer, array ([y,x])\r\n      \toption\t\t\t\t\t\tdefault\r\n      \t-------------------------------------\r\n      \tsnapAmount\t\t\t\t\tnull\r\n      */\n\n      /*\r\n      when snapping, snap with this number in pixels as an offset \r\n      values: integer\r\n      */\n      snapOffset: 0,\n\n      /* \r\n      mouse-wheel scrolling\r\n      */\n      mouseWheel: {\n        /* \r\n        enable mouse-wheel scrolling\r\n        values: boolean\r\n        */\n        enable: true,\n\n        /* \r\n        scrolling amount in pixels\r\n        values: \"auto\", integer \r\n        */\n        scrollAmount: \"auto\",\n\n        /* \r\n        mouse-wheel scrolling axis \r\n        the default scrolling direction when both vertical and horizontal scrollbars are present \r\n        values (string): \"y\", \"x\" \r\n        */\n        axis: \"y\",\n\n        /* \r\n        prevent the default behaviour which automatically scrolls the parent element(s) when end of scrolling is reached \r\n        values: boolean\r\n        \toption\t\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \tpreventDefault\t\t\t\tnull\r\n        */\n\n        /*\r\n        the reported mouse-wheel delta value. The number of lines (translated to pixels) one wheel notch scrolls.  \r\n        values: \"auto\", integer \r\n        \"auto\" uses the default OS/browser value \r\n        */\n        deltaFactor: \"auto\",\n\n        /*\r\n        normalize mouse-wheel delta to -1 or 1 (disables mouse-wheel acceleration) \r\n        values: boolean\r\n        \toption\t\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \tnormalizeDelta\t\t\t\tnull\r\n        */\n\n        /*\r\n        invert mouse-wheel scrolling direction \r\n        values: boolean\r\n        \toption\t\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \tinvert\t\t\t\t\t\tnull\r\n        */\n\n        /*\r\n        the tags that disable mouse-wheel when cursor is over them\r\n        */\n        disableOver: [\"select\", \"option\", \"keygen\", \"datalist\", \"textarea\"]\n      },\n\n      /* \r\n      scrollbar buttons\r\n      */\n      scrollButtons: {\n        /*\r\n        enable scrollbar buttons\r\n        values: boolean\r\n        \toption\t\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \tenable\t\t\t\t\t\tnull\r\n        */\n\n        /*\r\n        scrollbar buttons scrolling type \r\n        values (string): \"stepless\", \"stepped\"\r\n        */\n        scrollType: \"stepless\",\n\n        /*\r\n        scrolling amount in pixels\r\n        values: \"auto\", integer \r\n        */\n        scrollAmount: \"auto\"\n        /*\r\n        tabindex of the scrollbar buttons\r\n        values: false, integer\r\n        \toption\t\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \ttabindex\t\t\t\t\tnull\r\n        */\n\n      },\n\n      /* \r\n      keyboard scrolling\r\n      */\n      keyboard: {\n        /*\r\n        enable scrolling via keyboard\r\n        values: boolean\r\n        */\n        enable: true,\n\n        /*\r\n        keyboard scrolling type \r\n        values (string): \"stepless\", \"stepped\"\r\n        */\n        scrollType: \"stepless\",\n\n        /*\r\n        scrolling amount in pixels\r\n        values: \"auto\", integer \r\n        */\n        scrollAmount: \"auto\"\n      },\n\n      /*\r\n      enable content touch-swipe scrolling \r\n      values: boolean, integer, string (number)\r\n      integer values define the axis-specific minimum amount required for scrolling momentum\r\n      */\n      contentTouchScroll: 25,\n\n      /*\r\n      enable/disable document (default) touch-swipe scrolling \r\n      */\n      documentTouchScroll: true,\n\n      /*\r\n      advanced option parameters\r\n      */\n      advanced: {\n        /*\r\n        auto-expand content horizontally (for \"x\" or \"yx\" axis) \r\n        values: boolean, integer (the value 2 forces the non scrollHeight/scrollWidth method, the value 3 forces the scrollHeight/scrollWidth method)\r\n        \toption\t\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \tautoExpandHorizontalScroll\tnull\r\n        */\n\n        /*\r\n        auto-scroll to elements with focus\r\n        */\n        autoScrollOnFocus: \"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']\",\n\n        /*\r\n        auto-update scrollbars on content, element or viewport resize \r\n        should be true for fluid layouts/elements, adding/removing content dynamically, hiding/showing elements, content with images etc. \r\n        values: boolean\r\n        */\n        updateOnContentResize: true,\n\n        /*\r\n        auto-update scrollbars each time each image inside the element is fully loaded \r\n        values: \"auto\", boolean\r\n        */\n        updateOnImageLoad: \"auto\",\n\n        /*\r\n        auto-update scrollbars based on the amount and size changes of specific selectors \r\n        useful when you need to update the scrollbar(s) automatically, each time a type of element is added, removed or changes its size \r\n        values: boolean, string (e.g. \"ul li\" will auto-update scrollbars each time list-items inside the element are changed) \r\n        a value of true (boolean) will auto-update scrollbars each time any element is changed\r\n        \toption\t\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \tupdateOnSelectorChange\t\tnull\r\n        */\n\n        /*\r\n        extra selectors that'll allow scrollbar dragging upon mousemove/up, pointermove/up, touchend etc. (e.g. \"selector-1, selector-2\")\r\n        \toption\t\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \textraDraggableSelectors\t\tnull\r\n        */\n\n        /*\r\n        extra selectors that'll release scrollbar dragging upon mouseup, pointerup, touchend etc. (e.g. \"selector-1, selector-2\")\r\n        \toption\t\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \treleaseDraggableSelectors\tnull\r\n        */\n\n        /*\r\n        auto-update timeout \r\n        values: integer (milliseconds)\r\n        */\n        autoUpdateTimeout: 60\n      },\n\n      /* \r\n      scrollbar theme \r\n      values: string (see CSS/plugin URI for a list of ready-to-use themes)\r\n      */\n      theme: \"light\",\n\n      /*\r\n      user defined callback functions\r\n      */\n      callbacks: {\n        /*\r\n        Available callbacks: \r\n        \tcallback\t\t\t\t\tdefault\r\n        \t-------------------------------------\r\n        \tonCreate\t\t\t\t\tnull\r\n        \tonInit\t\t\t\t\t\tnull\r\n        \tonScrollStart\t\t\t\tnull\r\n        \tonScroll\t\t\t\t\tnull\r\n        \tonTotalScroll\t\t\t\tnull\r\n        \tonTotalScrollBack\t\t\tnull\r\n        \twhileScrolling\t\t\t\tnull\r\n        \tonOverflowY\t\t\t\t\tnull\r\n        \tonOverflowX\t\t\t\t\tnull\r\n        \tonOverflowYNone\t\t\t\tnull\r\n        \tonOverflowXNone\t\t\t\tnull\r\n        \tonImageLoad\t\t\t\t\tnull\r\n        \tonSelectorChange\t\t\tnull\r\n        \tonBeforeUpdate\t\t\t\tnull\r\n        \tonUpdate\t\t\t\t\tnull\r\n        */\n        onTotalScrollOffset: 0,\n        onTotalScrollBackOffset: 0,\n        alwaysTriggerOffsets: true\n      }\n      /*\r\n      add scrollbar(s) on all elements matching the current selector, now and in the future \r\n      values: boolean, string \r\n      string values: \"on\" (enable), \"once\" (disable after first invocation), \"off\" (disable)\r\n      liveSelector values: string (selector)\r\n      \toption\t\t\t\t\t\tdefault\r\n      \t-------------------------------------\r\n      \tlive\t\t\t\t\t\tfalse\r\n      \tliveSelector\t\t\t\tnull\r\n      */\n\n    },\n\n    /* \r\n    ----------------------------------------\r\n    VARS, CONSTANTS \r\n    ----------------------------------------\r\n    */\n    totalInstances = 0,\n\n    /* plugin instances amount */\n    liveTimers = {},\n\n    /* live option timers */\n    oldIE = window.attachEvent && !window.addEventListener ? 1 : 0,\n\n    /* detect IE < 9 */\n    touchActive = false,\n        touchable,\n\n    /* global touch vars (for touch and pointer events) */\n\n    /* general plugin classes */\n    classes = [\"mCSB_dragger_onDrag\", \"mCSB_scrollTools_onDrag\", \"mCS_img_loaded\", \"mCS_disabled\", \"mCS_destroyed\", \"mCS_no_scrollbar\", \"mCS-autoHide\", \"mCS-dir-rtl\", \"mCS_no_scrollbar_y\", \"mCS_no_scrollbar_x\", \"mCS_y_hidden\", \"mCS_x_hidden\", \"mCSB_draggerContainer\", \"mCSB_buttonUp\", \"mCSB_buttonDown\", \"mCSB_buttonLeft\", \"mCSB_buttonRight\"],\n\n    /* \r\n    ----------------------------------------\r\n    METHODS \r\n    ----------------------------------------\r\n    */\n    methods = {\n      /* \r\n      plugin initialization method \r\n      creates the scrollbar(s), plugin data object and options\r\n      ----------------------------------------\r\n      */\n      init: function (options) {\n        var options = $.extend(true, {}, defaults, options),\n            selector = _selector.call(this);\n        /* validate selector */\n\n        /* \r\n        if live option is enabled, monitor for elements matching the current selector and \r\n        apply scrollbar(s) when found (now and in the future) \r\n        */\n\n\n        if (options.live) {\n          var liveSelector = options.liveSelector || this.selector || defaultSelector,\n\n          /* live selector(s) */\n          $liveSelector = $(liveSelector);\n          /* live selector(s) as jquery object */\n\n          if (options.live === \"off\") {\n            /* \r\n            disable live if requested \r\n            usage: $(selector).mCustomScrollbar({live:\"off\"}); \r\n            */\n            removeLiveTimers(liveSelector);\n            return;\n          }\n\n          liveTimers[liveSelector] = setTimeout(function () {\n            /* call mCustomScrollbar fn on live selector(s) every half-second */\n            $liveSelector.mCustomScrollbar(options);\n\n            if (options.live === \"once\" && $liveSelector.length) {\n              /* disable live after first invocation */\n              removeLiveTimers(liveSelector);\n            }\n          }, 500);\n        } else {\n          removeLiveTimers(liveSelector);\n        }\n        /* options backward compatibility (for versions < 3.0.0) and normalization */\n\n\n        options.setWidth = options.set_width ? options.set_width : options.setWidth;\n        options.setHeight = options.set_height ? options.set_height : options.setHeight;\n        options.axis = options.horizontalScroll ? \"x\" : _findAxis(options.axis);\n        options.scrollInertia = options.scrollInertia > 0 && options.scrollInertia < 17 ? 17 : options.scrollInertia;\n\n        if (typeof options.mouseWheel !== \"object\" && options.mouseWheel == true) {\n          /* old school mouseWheel option (non-object) */\n          options.mouseWheel = {\n            enable: true,\n            scrollAmount: \"auto\",\n            axis: \"y\",\n            preventDefault: false,\n            deltaFactor: \"auto\",\n            normalizeDelta: false,\n            invert: false\n          };\n        }\n\n        options.mouseWheel.scrollAmount = !options.mouseWheelPixels ? options.mouseWheel.scrollAmount : options.mouseWheelPixels;\n        options.mouseWheel.normalizeDelta = !options.advanced.normalizeMouseWheelDelta ? options.mouseWheel.normalizeDelta : options.advanced.normalizeMouseWheelDelta;\n        options.scrollButtons.scrollType = _findScrollButtonsType(options.scrollButtons.scrollType);\n\n        _theme(options);\n        /* theme-specific options */\n\n        /* plugin constructor */\n\n\n        return $(selector).each(function () {\n          var $this = $(this);\n\n          if (!$this.data(pluginPfx)) {\n            /* prevent multiple instantiations */\n\n            /* store options and create objects in jquery data */\n            $this.data(pluginPfx, {\n              idx: ++totalInstances,\n\n              /* instance index */\n              opt: options,\n\n              /* options */\n              scrollRatio: {\n                y: null,\n                x: null\n              },\n\n              /* scrollbar to content ratio */\n              overflowed: null,\n\n              /* overflowed axis */\n              contentReset: {\n                y: null,\n                x: null\n              },\n\n              /* object to check when content resets */\n              bindEvents: false,\n\n              /* object to check if events are bound */\n              tweenRunning: false,\n\n              /* object to check if tween is running */\n              sequential: {},\n\n              /* sequential scrolling object */\n              langDir: $this.css(\"direction\"),\n\n              /* detect/store direction (ltr or rtl) */\n              cbOffsets: null,\n\n              /* object to check whether callback offsets always trigger */\n\n              /* \r\n              object to check how scrolling events where last triggered \r\n              \"internal\" (default - triggered by this script), \"external\" (triggered by other scripts, e.g. via scrollTo method) \r\n              usage: object.data(\"mCS\").trigger\r\n              */\n              trigger: null,\n\n              /* \r\n              object to check for changes in elements in order to call the update method automatically \r\n              */\n              poll: {\n                size: {\n                  o: 0,\n                  n: 0\n                },\n                img: {\n                  o: 0,\n                  n: 0\n                },\n                change: {\n                  o: 0,\n                  n: 0\n                }\n              }\n            });\n            var d = $this.data(pluginPfx),\n                o = d.opt,\n\n            /* HTML data attributes */\n            htmlDataAxis = $this.data(\"mcs-axis\"),\n                htmlDataSbPos = $this.data(\"mcs-scrollbar-position\"),\n                htmlDataTheme = $this.data(\"mcs-theme\");\n\n            if (htmlDataAxis) {\n              o.axis = htmlDataAxis;\n            }\n            /* usage example: data-mcs-axis=\"y\" */\n\n\n            if (htmlDataSbPos) {\n              o.scrollbarPosition = htmlDataSbPos;\n            }\n            /* usage example: data-mcs-scrollbar-position=\"outside\" */\n\n\n            if (htmlDataTheme) {\n              /* usage example: data-mcs-theme=\"minimal\" */\n              o.theme = htmlDataTheme;\n\n              _theme(o);\n              /* theme-specific options */\n\n            }\n\n            _pluginMarkup.call(this);\n            /* add plugin markup */\n\n\n            if (d && o.callbacks.onCreate && typeof o.callbacks.onCreate === \"function\") {\n              o.callbacks.onCreate.call(this);\n            }\n            /* callbacks: onCreate */\n\n\n            $(\"#mCSB_\" + d.idx + \"_container img:not(.\" + classes[2] + \")\").addClass(classes[2]);\n            /* flag loaded images */\n\n            methods.update.call(null, $this);\n            /* call the update method */\n          }\n        });\n      },\n\n      /* ---------------------------------------- */\n\n      /* \r\n      plugin update method \r\n      updates content and scrollbar(s) values, events and status \r\n      ----------------------------------------\r\n      usage: $(selector).mCustomScrollbar(\"update\");\r\n      */\n      update: function (el, cb) {\n        var selector = el || _selector.call(this);\n        /* validate selector */\n\n\n        return $(selector).each(function () {\n          var $this = $(this);\n\n          if ($this.data(pluginPfx)) {\n            /* check if plugin has initialized */\n            var d = $this.data(pluginPfx),\n                o = d.opt,\n                mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n                mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n                mCSB_dragger = [$(\"#mCSB_\" + d.idx + \"_dragger_vertical\"), $(\"#mCSB_\" + d.idx + \"_dragger_horizontal\")];\n\n            if (!mCSB_container.length) {\n              return;\n            }\n\n            if (d.tweenRunning) {\n              _stop($this);\n            }\n            /* stop any running tweens while updating */\n\n\n            if (cb && d && o.callbacks.onBeforeUpdate && typeof o.callbacks.onBeforeUpdate === \"function\") {\n              o.callbacks.onBeforeUpdate.call(this);\n            }\n            /* callbacks: onBeforeUpdate */\n\n            /* if element was disabled or destroyed, remove class(es) */\n\n\n            if ($this.hasClass(classes[3])) {\n              $this.removeClass(classes[3]);\n            }\n\n            if ($this.hasClass(classes[4])) {\n              $this.removeClass(classes[4]);\n            }\n            /* css flexbox fix, detect/set max-height */\n\n\n            mCustomScrollBox.css(\"max-height\", \"none\");\n\n            if (mCustomScrollBox.height() !== $this.height()) {\n              mCustomScrollBox.css(\"max-height\", $this.height());\n            }\n\n            _expandContentHorizontally.call(this);\n            /* expand content horizontally */\n\n\n            if (o.axis !== \"y\" && !o.advanced.autoExpandHorizontalScroll) {\n              mCSB_container.css(\"width\", _contentWidth(mCSB_container));\n            }\n\n            d.overflowed = _overflowed.call(this);\n            /* determine if scrolling is required */\n\n            _scrollbarVisibility.call(this);\n            /* show/hide scrollbar(s) */\n\n            /* auto-adjust scrollbar dragger length analogous to content */\n\n\n            if (o.autoDraggerLength) {\n              _setDraggerLength.call(this);\n            }\n\n            _scrollRatio.call(this);\n            /* calculate and store scrollbar to content ratio */\n\n\n            _bindEvents.call(this);\n            /* bind scrollbar events */\n\n            /* reset scrolling position and/or events */\n\n\n            var to = [Math.abs(mCSB_container[0].offsetTop), Math.abs(mCSB_container[0].offsetLeft)];\n\n            if (o.axis !== \"x\") {\n              /* y/yx axis */\n              if (!d.overflowed[0]) {\n                /* y scrolling is not required */\n                _resetContentPosition.call(this);\n                /* reset content position */\n\n\n                if (o.axis === \"y\") {\n                  _unbindEvents.call(this);\n                } else if (o.axis === \"yx\" && d.overflowed[1]) {\n                  _scrollTo($this, to[1].toString(), {\n                    dir: \"x\",\n                    dur: 0,\n                    overwrite: \"none\"\n                  });\n                }\n              } else if (mCSB_dragger[0].height() > mCSB_dragger[0].parent().height()) {\n                _resetContentPosition.call(this);\n                /* reset content position */\n\n              } else {\n                /* y scrolling is required */\n                _scrollTo($this, to[0].toString(), {\n                  dir: \"y\",\n                  dur: 0,\n                  overwrite: \"none\"\n                });\n\n                d.contentReset.y = null;\n              }\n            }\n\n            if (o.axis !== \"y\") {\n              /* x/yx axis */\n              if (!d.overflowed[1]) {\n                /* x scrolling is not required */\n                _resetContentPosition.call(this);\n                /* reset content position */\n\n\n                if (o.axis === \"x\") {\n                  _unbindEvents.call(this);\n                } else if (o.axis === \"yx\" && d.overflowed[0]) {\n                  _scrollTo($this, to[0].toString(), {\n                    dir: \"y\",\n                    dur: 0,\n                    overwrite: \"none\"\n                  });\n                }\n              } else if (mCSB_dragger[1].width() > mCSB_dragger[1].parent().width()) {\n                _resetContentPosition.call(this);\n                /* reset content position */\n\n              } else {\n                /* x scrolling is required */\n                _scrollTo($this, to[1].toString(), {\n                  dir: \"x\",\n                  dur: 0,\n                  overwrite: \"none\"\n                });\n\n                d.contentReset.x = null;\n              }\n            }\n            /* callbacks: onImageLoad, onSelectorChange, onUpdate */\n\n\n            if (cb && d) {\n              if (cb === 2 && o.callbacks.onImageLoad && typeof o.callbacks.onImageLoad === \"function\") {\n                o.callbacks.onImageLoad.call(this);\n              } else if (cb === 3 && o.callbacks.onSelectorChange && typeof o.callbacks.onSelectorChange === \"function\") {\n                o.callbacks.onSelectorChange.call(this);\n              } else if (o.callbacks.onUpdate && typeof o.callbacks.onUpdate === \"function\") {\n                o.callbacks.onUpdate.call(this);\n              }\n            }\n\n            _autoUpdate.call(this);\n            /* initialize automatic updating (for dynamic content, fluid layouts etc.) */\n\n          }\n        });\n      },\n\n      /* ---------------------------------------- */\n\n      /* \r\n      plugin scrollTo method \r\n      triggers a scrolling event to a specific value\r\n      ----------------------------------------\r\n      usage: $(selector).mCustomScrollbar(\"scrollTo\",value,options);\r\n      */\n      scrollTo: function (val, options) {\n        /* prevent silly things like $(selector).mCustomScrollbar(\"scrollTo\",undefined); */\n        if (typeof val == \"undefined\" || val == null) {\n          return;\n        }\n\n        var selector = _selector.call(this);\n        /* validate selector */\n\n\n        return $(selector).each(function () {\n          var $this = $(this);\n\n          if ($this.data(pluginPfx)) {\n            /* check if plugin has initialized */\n            var d = $this.data(pluginPfx),\n                o = d.opt,\n\n            /* method default options */\n            methodDefaults = {\n              trigger: \"external\",\n\n              /* method is by default triggered externally (e.g. from other scripts) */\n              scrollInertia: o.scrollInertia,\n\n              /* scrolling inertia (animation duration) */\n              scrollEasing: \"mcsEaseInOut\",\n\n              /* animation easing */\n              moveDragger: false,\n\n              /* move dragger instead of content */\n              timeout: 60,\n\n              /* scroll-to delay */\n              callbacks: true,\n\n              /* enable/disable callbacks */\n              onStart: true,\n              onUpdate: true,\n              onComplete: true\n            },\n                methodOptions = $.extend(true, {}, methodDefaults, options),\n                to = _arr.call(this, val),\n                dur = methodOptions.scrollInertia > 0 && methodOptions.scrollInertia < 17 ? 17 : methodOptions.scrollInertia;\n            /* translate yx values to actual scroll-to positions */\n\n\n            to[0] = _to.call(this, to[0], \"y\");\n            to[1] = _to.call(this, to[1], \"x\");\n            /* \r\n            check if scroll-to value moves the dragger instead of content. \r\n            Only pixel values apply on dragger (e.g. 100, \"100px\", \"-=100\" etc.) \r\n            */\n\n            if (methodOptions.moveDragger) {\n              to[0] *= d.scrollRatio.y;\n              to[1] *= d.scrollRatio.x;\n            }\n\n            methodOptions.dur = _isTabHidden() ? 0 : dur; //skip animations if browser tab is hidden\n\n            setTimeout(function () {\n              /* do the scrolling */\n              if (to[0] !== null && typeof to[0] !== \"undefined\" && o.axis !== \"x\" && d.overflowed[0]) {\n                /* scroll y */\n                methodOptions.dir = \"y\";\n                methodOptions.overwrite = \"all\";\n\n                _scrollTo($this, to[0].toString(), methodOptions);\n              }\n\n              if (to[1] !== null && typeof to[1] !== \"undefined\" && o.axis !== \"y\" && d.overflowed[1]) {\n                /* scroll x */\n                methodOptions.dir = \"x\";\n                methodOptions.overwrite = \"none\";\n\n                _scrollTo($this, to[1].toString(), methodOptions);\n              }\n            }, methodOptions.timeout);\n          }\n        });\n      },\n\n      /* ---------------------------------------- */\n\n      /*\r\n      plugin stop method \r\n      stops scrolling animation\r\n      ----------------------------------------\r\n      usage: $(selector).mCustomScrollbar(\"stop\");\r\n      */\n      stop: function () {\n        var selector = _selector.call(this);\n        /* validate selector */\n\n\n        return $(selector).each(function () {\n          var $this = $(this);\n\n          if ($this.data(pluginPfx)) {\n            /* check if plugin has initialized */\n            _stop($this);\n          }\n        });\n      },\n\n      /* ---------------------------------------- */\n\n      /*\r\n      plugin disable method \r\n      temporarily disables the scrollbar(s) \r\n      ----------------------------------------\r\n      usage: $(selector).mCustomScrollbar(\"disable\",reset); \r\n      reset (boolean): resets content position to 0 \r\n      */\n      disable: function (r) {\n        var selector = _selector.call(this);\n        /* validate selector */\n\n\n        return $(selector).each(function () {\n          var $this = $(this);\n\n          if ($this.data(pluginPfx)) {\n            /* check if plugin has initialized */\n            var d = $this.data(pluginPfx);\n\n            _autoUpdate.call(this, \"remove\");\n            /* remove automatic updating */\n\n\n            _unbindEvents.call(this);\n            /* unbind events */\n\n\n            if (r) {\n              _resetContentPosition.call(this);\n            }\n            /* reset content position */\n\n\n            _scrollbarVisibility.call(this, true);\n            /* show/hide scrollbar(s) */\n\n\n            $this.addClass(classes[3]);\n            /* add disable class */\n          }\n        });\n      },\n\n      /* ---------------------------------------- */\n\n      /*\r\n      plugin destroy method \r\n      completely removes the scrollbar(s) and returns the element to its original state\r\n      ----------------------------------------\r\n      usage: $(selector).mCustomScrollbar(\"destroy\"); \r\n      */\n      destroy: function () {\n        var selector = _selector.call(this);\n        /* validate selector */\n\n\n        return $(selector).each(function () {\n          var $this = $(this);\n\n          if ($this.data(pluginPfx)) {\n            /* check if plugin has initialized */\n            var d = $this.data(pluginPfx),\n                o = d.opt,\n                mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n                mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n                scrollbar = $(\".mCSB_\" + d.idx + \"_scrollbar\");\n\n            if (o.live) {\n              removeLiveTimers(o.liveSelector || $(selector).selector);\n            }\n            /* remove live timers */\n\n\n            _autoUpdate.call(this, \"remove\");\n            /* remove automatic updating */\n\n\n            _unbindEvents.call(this);\n            /* unbind events */\n\n\n            _resetContentPosition.call(this);\n            /* reset content position */\n\n\n            $this.removeData(pluginPfx);\n            /* remove plugin data object */\n\n            _delete(this, \"mcs\");\n            /* delete callbacks object */\n\n            /* remove plugin markup */\n\n\n            scrollbar.remove();\n            /* remove scrollbar(s) first (those can be either inside or outside plugin's inner wrapper) */\n\n            mCSB_container.find(\"img.\" + classes[2]).removeClass(classes[2]);\n            /* remove loaded images flag */\n\n            mCustomScrollBox.replaceWith(mCSB_container.contents());\n            /* replace plugin's inner wrapper with the original content */\n\n            /* remove plugin classes from the element and add destroy class */\n\n            $this.removeClass(pluginNS + \" _\" + pluginPfx + \"_\" + d.idx + \" \" + classes[6] + \" \" + classes[7] + \" \" + classes[5] + \" \" + classes[3]).addClass(classes[4]);\n          }\n        });\n      }\n      /* ---------------------------------------- */\n\n    },\n\n    /* \r\n    ----------------------------------------\r\n    FUNCTIONS\r\n    ----------------------------------------\r\n    */\n\n    /* validates selector (if selector is invalid or undefined uses the default one) */\n    _selector = function () {\n      return typeof $(this) !== \"object\" || $(this).length < 1 ? defaultSelector : this;\n    },\n\n    /* -------------------- */\n\n    /* changes options according to theme */\n    _theme = function (obj) {\n      var fixedSizeScrollbarThemes = [\"rounded\", \"rounded-dark\", \"rounded-dots\", \"rounded-dots-dark\"],\n          nonExpandedScrollbarThemes = [\"rounded-dots\", \"rounded-dots-dark\", \"3d\", \"3d-dark\", \"3d-thick\", \"3d-thick-dark\", \"inset\", \"inset-dark\", \"inset-2\", \"inset-2-dark\", \"inset-3\", \"inset-3-dark\"],\n          disabledScrollButtonsThemes = [\"minimal\", \"minimal-dark\"],\n          enabledAutoHideScrollbarThemes = [\"minimal\", \"minimal-dark\"],\n          scrollbarPositionOutsideThemes = [\"minimal\", \"minimal-dark\"];\n      obj.autoDraggerLength = $.inArray(obj.theme, fixedSizeScrollbarThemes) > -1 ? false : obj.autoDraggerLength;\n      obj.autoExpandScrollbar = $.inArray(obj.theme, nonExpandedScrollbarThemes) > -1 ? false : obj.autoExpandScrollbar;\n      obj.scrollButtons.enable = $.inArray(obj.theme, disabledScrollButtonsThemes) > -1 ? false : obj.scrollButtons.enable;\n      obj.autoHideScrollbar = $.inArray(obj.theme, enabledAutoHideScrollbarThemes) > -1 ? true : obj.autoHideScrollbar;\n      obj.scrollbarPosition = $.inArray(obj.theme, scrollbarPositionOutsideThemes) > -1 ? \"outside\" : obj.scrollbarPosition;\n    },\n\n    /* -------------------- */\n\n    /* live option timers removal */\n    removeLiveTimers = function (selector) {\n      if (liveTimers[selector]) {\n        clearTimeout(liveTimers[selector]);\n\n        _delete(liveTimers, selector);\n      }\n    },\n\n    /* -------------------- */\n\n    /* normalizes axis option to valid values: \"y\", \"x\", \"yx\" */\n    _findAxis = function (val) {\n      return val === \"yx\" || val === \"xy\" || val === \"auto\" ? \"yx\" : val === \"x\" || val === \"horizontal\" ? \"x\" : \"y\";\n    },\n\n    /* -------------------- */\n\n    /* normalizes scrollButtons.scrollType option to valid values: \"stepless\", \"stepped\" */\n    _findScrollButtonsType = function (val) {\n      return val === \"stepped\" || val === \"pixels\" || val === \"step\" || val === \"click\" ? \"stepped\" : \"stepless\";\n    },\n\n    /* -------------------- */\n\n    /* generates plugin markup */\n    _pluginMarkup = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          expandClass = o.autoExpandScrollbar ? \" \" + classes[1] + \"_expand\" : \"\",\n          scrollbar = [\"<div id='mCSB_\" + d.idx + \"_scrollbar_vertical' class='mCSB_scrollTools mCSB_\" + d.idx + \"_scrollbar mCS-\" + o.theme + \" mCSB_scrollTools_vertical\" + expandClass + \"'><div class='\" + classes[12] + \"'><div id='mCSB_\" + d.idx + \"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>\", \"<div id='mCSB_\" + d.idx + \"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_\" + d.idx + \"_scrollbar mCS-\" + o.theme + \" mCSB_scrollTools_horizontal\" + expandClass + \"'><div class='\" + classes[12] + \"'><div id='mCSB_\" + d.idx + \"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>\"],\n          wrapperClass = o.axis === \"yx\" ? \"mCSB_vertical_horizontal\" : o.axis === \"x\" ? \"mCSB_horizontal\" : \"mCSB_vertical\",\n          scrollbars = o.axis === \"yx\" ? scrollbar[0] + scrollbar[1] : o.axis === \"x\" ? scrollbar[1] : scrollbar[0],\n          contentWrapper = o.axis === \"yx\" ? \"<div id='mCSB_\" + d.idx + \"_container_wrapper' class='mCSB_container_wrapper' />\" : \"\",\n          autoHideClass = o.autoHideScrollbar ? \" \" + classes[6] : \"\",\n          scrollbarDirClass = o.axis !== \"x\" && d.langDir === \"rtl\" ? \" \" + classes[7] : \"\";\n\n      if (o.setWidth) {\n        $this.css(\"width\", o.setWidth);\n      }\n      /* set element width */\n\n\n      if (o.setHeight) {\n        $this.css(\"height\", o.setHeight);\n      }\n      /* set element height */\n\n\n      o.setLeft = o.axis !== \"y\" && d.langDir === \"rtl\" ? \"989999px\" : o.setLeft;\n      /* adjust left position for rtl direction */\n\n      $this.addClass(pluginNS + \" _\" + pluginPfx + \"_\" + d.idx + autoHideClass + scrollbarDirClass).wrapInner(\"<div id='mCSB_\" + d.idx + \"' class='mCustomScrollBox mCS-\" + o.theme + \" \" + wrapperClass + \"'><div id='mCSB_\" + d.idx + \"_container' class='mCSB_container' style='position:relative; top:\" + o.setTop + \"; left:\" + o.setLeft + \";' dir='\" + d.langDir + \"' /></div>\");\n      var mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\");\n\n      if (o.axis !== \"y\" && !o.advanced.autoExpandHorizontalScroll) {\n        mCSB_container.css(\"width\", _contentWidth(mCSB_container));\n      }\n\n      if (o.scrollbarPosition === \"outside\") {\n        if ($this.css(\"position\") === \"static\") {\n          /* requires elements with non-static position */\n          $this.css(\"position\", \"relative\");\n        }\n\n        $this.css(\"overflow\", \"visible\");\n        mCustomScrollBox.addClass(\"mCSB_outside\").after(scrollbars);\n      } else {\n        mCustomScrollBox.addClass(\"mCSB_inside\").append(scrollbars);\n        mCSB_container.wrap(contentWrapper);\n      }\n\n      _scrollButtons.call(this);\n      /* add scrollbar buttons */\n\n      /* minimum dragger length */\n\n\n      var mCSB_dragger = [$(\"#mCSB_\" + d.idx + \"_dragger_vertical\"), $(\"#mCSB_\" + d.idx + \"_dragger_horizontal\")];\n      mCSB_dragger[0].css(\"min-height\", mCSB_dragger[0].height());\n      mCSB_dragger[1].css(\"min-width\", mCSB_dragger[1].width());\n    },\n\n    /* -------------------- */\n\n    /* calculates content width */\n    _contentWidth = function (el) {\n      var val = [el[0].scrollWidth, Math.max.apply(Math, el.children().map(function () {\n        return $(this).outerWidth(true);\n      }).get())],\n          w = el.parent().width();\n      return val[0] > w ? val[0] : val[1] > w ? val[1] : \"100%\";\n    },\n\n    /* -------------------- */\n\n    /* expands content horizontally */\n    _expandContentHorizontally = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\");\n\n      if (o.advanced.autoExpandHorizontalScroll && o.axis !== \"y\") {\n        /* calculate scrollWidth */\n        mCSB_container.css({\n          \"width\": \"auto\",\n          \"min-width\": 0,\n          \"overflow-x\": \"scroll\"\n        });\n        var w = Math.ceil(mCSB_container[0].scrollWidth);\n\n        if (o.advanced.autoExpandHorizontalScroll === 3 || o.advanced.autoExpandHorizontalScroll !== 2 && w > mCSB_container.parent().width()) {\n          mCSB_container.css({\n            \"width\": w,\n            \"min-width\": \"100%\",\n            \"overflow-x\": \"inherit\"\n          });\n        } else {\n          /* \r\n          wrap content with an infinite width div and set its position to absolute and width to auto. \r\n          Setting width to auto before calculating the actual width is important! \r\n          We must let the browser set the width as browser zoom values are impossible to calculate.\r\n          */\n          mCSB_container.css({\n            \"overflow-x\": \"inherit\",\n            \"position\": \"absolute\"\n          }).wrap(\"<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />\").css({\n            /* set actual width, original position and un-wrap */\n\n            /* \r\n            get the exact width (with decimals) and then round-up. \r\n            Using jquery outerWidth() will round the width value which will mess up with inner elements that have non-integer width\r\n            */\n            \"width\": Math.ceil(mCSB_container[0].getBoundingClientRect().right + 0.4) - Math.floor(mCSB_container[0].getBoundingClientRect().left),\n            \"min-width\": \"100%\",\n            \"position\": \"relative\"\n          }).unwrap();\n        }\n      }\n    },\n\n    /* -------------------- */\n\n    /* adds scrollbar buttons */\n    _scrollButtons = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          mCSB_scrollTools = $(\".mCSB_\" + d.idx + \"_scrollbar:first\"),\n          tabindex = !_isNumeric(o.scrollButtons.tabindex) ? \"\" : \"tabindex='\" + o.scrollButtons.tabindex + \"'\",\n          btnHTML = [\"<a href='#' class='\" + classes[13] + \"' \" + tabindex + \" />\", \"<a href='#' class='\" + classes[14] + \"' \" + tabindex + \" />\", \"<a href='#' class='\" + classes[15] + \"' \" + tabindex + \" />\", \"<a href='#' class='\" + classes[16] + \"' \" + tabindex + \" />\"],\n          btn = [o.axis === \"x\" ? btnHTML[2] : btnHTML[0], o.axis === \"x\" ? btnHTML[3] : btnHTML[1], btnHTML[2], btnHTML[3]];\n\n      if (o.scrollButtons.enable) {\n        mCSB_scrollTools.prepend(btn[0]).append(btn[1]).next(\".mCSB_scrollTools\").prepend(btn[2]).append(btn[3]);\n      }\n    },\n\n    /* -------------------- */\n\n    /* auto-adjusts scrollbar dragger length */\n    _setDraggerLength = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          mCSB_dragger = [$(\"#mCSB_\" + d.idx + \"_dragger_vertical\"), $(\"#mCSB_\" + d.idx + \"_dragger_horizontal\")],\n          ratio = [mCustomScrollBox.height() / mCSB_container.outerHeight(false), mCustomScrollBox.width() / mCSB_container.outerWidth(false)],\n          l = [parseInt(mCSB_dragger[0].css(\"min-height\")), Math.round(ratio[0] * mCSB_dragger[0].parent().height()), parseInt(mCSB_dragger[1].css(\"min-width\")), Math.round(ratio[1] * mCSB_dragger[1].parent().width())],\n          h = oldIE && l[1] < l[0] ? l[0] : l[1],\n          w = oldIE && l[3] < l[2] ? l[2] : l[3];\n      mCSB_dragger[0].css({\n        \"height\": h,\n        \"max-height\": mCSB_dragger[0].parent().height() - 10\n      }).find(\".mCSB_dragger_bar\").css({\n        \"line-height\": l[0] + \"px\"\n      });\n      mCSB_dragger[1].css({\n        \"width\": w,\n        \"max-width\": mCSB_dragger[1].parent().width() - 10\n      });\n    },\n\n    /* -------------------- */\n\n    /* calculates scrollbar to content ratio */\n    _scrollRatio = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          mCSB_dragger = [$(\"#mCSB_\" + d.idx + \"_dragger_vertical\"), $(\"#mCSB_\" + d.idx + \"_dragger_horizontal\")],\n          scrollAmount = [mCSB_container.outerHeight(false) - mCustomScrollBox.height(), mCSB_container.outerWidth(false) - mCustomScrollBox.width()],\n          ratio = [scrollAmount[0] / (mCSB_dragger[0].parent().height() - mCSB_dragger[0].height()), scrollAmount[1] / (mCSB_dragger[1].parent().width() - mCSB_dragger[1].width())];\n      d.scrollRatio = {\n        y: ratio[0],\n        x: ratio[1]\n      };\n    },\n\n    /* -------------------- */\n\n    /* toggles scrolling classes */\n    _onDragClasses = function (el, action, xpnd) {\n      var expandClass = xpnd ? classes[0] + \"_expanded\" : \"\",\n          scrollbar = el.closest(\".mCSB_scrollTools\");\n\n      if (action === \"active\") {\n        el.toggleClass(classes[0] + \" \" + expandClass);\n        scrollbar.toggleClass(classes[1]);\n        el[0]._draggable = el[0]._draggable ? 0 : 1;\n      } else {\n        if (!el[0]._draggable) {\n          if (action === \"hide\") {\n            el.removeClass(classes[0]);\n            scrollbar.removeClass(classes[1]);\n          } else {\n            el.addClass(classes[0]);\n            scrollbar.addClass(classes[1]);\n          }\n        }\n      }\n    },\n\n    /* -------------------- */\n\n    /* checks if content overflows its container to determine if scrolling is required */\n    _overflowed = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          contentHeight = d.overflowed == null ? mCSB_container.height() : mCSB_container.outerHeight(false),\n          contentWidth = d.overflowed == null ? mCSB_container.width() : mCSB_container.outerWidth(false),\n          h = mCSB_container[0].scrollHeight,\n          w = mCSB_container[0].scrollWidth;\n\n      if (h > contentHeight) {\n        contentHeight = h;\n      }\n\n      if (w > contentWidth) {\n        contentWidth = w;\n      }\n\n      return [contentHeight > mCustomScrollBox.height(), contentWidth > mCustomScrollBox.width()];\n    },\n\n    /* -------------------- */\n\n    /* resets content position to 0 */\n    _resetContentPosition = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          mCSB_dragger = [$(\"#mCSB_\" + d.idx + \"_dragger_vertical\"), $(\"#mCSB_\" + d.idx + \"_dragger_horizontal\")];\n\n      _stop($this);\n      /* stop any current scrolling before resetting */\n\n\n      if (o.axis !== \"x\" && !d.overflowed[0] || o.axis === \"y\" && d.overflowed[0]) {\n        /* reset y */\n        mCSB_dragger[0].add(mCSB_container).css(\"top\", 0);\n\n        _scrollTo($this, \"_resetY\");\n      }\n\n      if (o.axis !== \"y\" && !d.overflowed[1] || o.axis === \"x\" && d.overflowed[1]) {\n        /* reset x */\n        var cx = dx = 0;\n\n        if (d.langDir === \"rtl\") {\n          /* adjust left position for rtl direction */\n          cx = mCustomScrollBox.width() - mCSB_container.outerWidth(false);\n          dx = Math.abs(cx / d.scrollRatio.x);\n        }\n\n        mCSB_container.css(\"left\", cx);\n        mCSB_dragger[1].css(\"left\", dx);\n\n        _scrollTo($this, \"_resetX\");\n      }\n    },\n\n    /* -------------------- */\n\n    /* binds scrollbar events */\n    _bindEvents = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt;\n\n      if (!d.bindEvents) {\n        /* check if events are already bound */\n        _draggable.call(this);\n\n        if (o.contentTouchScroll) {\n          _contentDraggable.call(this);\n        }\n\n        _selectable.call(this);\n\n        if (o.mouseWheel.enable) {\n          /* bind mousewheel fn when plugin is available */\n          function _mwt() {\n            mousewheelTimeout = setTimeout(function () {\n              if (!$.event.special.mousewheel) {\n                _mwt();\n              } else {\n                clearTimeout(mousewheelTimeout);\n\n                _mousewheel.call($this[0]);\n              }\n            }, 100);\n          }\n\n          var mousewheelTimeout;\n\n          _mwt();\n        }\n\n        _draggerRail.call(this);\n\n        _wrapperScroll.call(this);\n\n        if (o.advanced.autoScrollOnFocus) {\n          _focus.call(this);\n        }\n\n        if (o.scrollButtons.enable) {\n          _buttons.call(this);\n        }\n\n        if (o.keyboard.enable) {\n          _keyboard.call(this);\n        }\n\n        d.bindEvents = true;\n      }\n    },\n\n    /* -------------------- */\n\n    /* unbinds scrollbar events */\n    _unbindEvents = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          namespace = pluginPfx + \"_\" + d.idx,\n          sb = \".mCSB_\" + d.idx + \"_scrollbar\",\n          sel = $(\"#mCSB_\" + d.idx + \",#mCSB_\" + d.idx + \"_container,#mCSB_\" + d.idx + \"_container_wrapper,\" + sb + \" .\" + classes[12] + \",#mCSB_\" + d.idx + \"_dragger_vertical,#mCSB_\" + d.idx + \"_dragger_horizontal,\" + sb + \">a\"),\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\");\n\n      if (o.advanced.releaseDraggableSelectors) {\n        sel.add($(o.advanced.releaseDraggableSelectors));\n      }\n\n      if (o.advanced.extraDraggableSelectors) {\n        sel.add($(o.advanced.extraDraggableSelectors));\n      }\n\n      if (d.bindEvents) {\n        /* check if events are bound */\n\n        /* unbind namespaced events from document/selectors */\n        $(document).add($(!_canAccessIFrame() || top.document)).unbind(\".\" + namespace);\n        sel.each(function () {\n          $(this).unbind(\".\" + namespace);\n        });\n        /* clear and delete timeouts/objects */\n\n        clearTimeout($this[0]._focusTimeout);\n\n        _delete($this[0], \"_focusTimeout\");\n\n        clearTimeout(d.sequential.step);\n\n        _delete(d.sequential, \"step\");\n\n        clearTimeout(mCSB_container[0].onCompleteTimeout);\n\n        _delete(mCSB_container[0], \"onCompleteTimeout\");\n\n        d.bindEvents = false;\n      }\n    },\n\n    /* -------------------- */\n\n    /* toggles scrollbar visibility */\n    _scrollbarVisibility = function (disabled) {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          contentWrapper = $(\"#mCSB_\" + d.idx + \"_container_wrapper\"),\n          content = contentWrapper.length ? contentWrapper : $(\"#mCSB_\" + d.idx + \"_container\"),\n          scrollbar = [$(\"#mCSB_\" + d.idx + \"_scrollbar_vertical\"), $(\"#mCSB_\" + d.idx + \"_scrollbar_horizontal\")],\n          mCSB_dragger = [scrollbar[0].find(\".mCSB_dragger\"), scrollbar[1].find(\".mCSB_dragger\")];\n\n      if (o.axis !== \"x\") {\n        if (d.overflowed[0] && !disabled) {\n          scrollbar[0].add(mCSB_dragger[0]).add(scrollbar[0].children(\"a\")).css(\"display\", \"block\");\n          content.removeClass(classes[8] + \" \" + classes[10]);\n        } else {\n          if (o.alwaysShowScrollbar) {\n            if (o.alwaysShowScrollbar !== 2) {\n              mCSB_dragger[0].css(\"display\", \"none\");\n            }\n\n            content.removeClass(classes[10]);\n          } else {\n            scrollbar[0].css(\"display\", \"none\");\n            content.addClass(classes[10]);\n          }\n\n          content.addClass(classes[8]);\n        }\n      }\n\n      if (o.axis !== \"y\") {\n        if (d.overflowed[1] && !disabled) {\n          scrollbar[1].add(mCSB_dragger[1]).add(scrollbar[1].children(\"a\")).css(\"display\", \"block\");\n          content.removeClass(classes[9] + \" \" + classes[11]);\n        } else {\n          if (o.alwaysShowScrollbar) {\n            if (o.alwaysShowScrollbar !== 2) {\n              mCSB_dragger[1].css(\"display\", \"none\");\n            }\n\n            content.removeClass(classes[11]);\n          } else {\n            scrollbar[1].css(\"display\", \"none\");\n            content.addClass(classes[11]);\n          }\n\n          content.addClass(classes[9]);\n        }\n      }\n\n      if (!d.overflowed[0] && !d.overflowed[1]) {\n        $this.addClass(classes[5]);\n      } else {\n        $this.removeClass(classes[5]);\n      }\n    },\n\n    /* -------------------- */\n\n    /* returns input coordinates of pointer, touch and mouse events (relative to document) */\n    _coordinates = function (e) {\n      var t = e.type,\n          o = e.target.ownerDocument !== document && frameElement !== null ? [$(frameElement).offset().top, $(frameElement).offset().left] : null,\n          io = _canAccessIFrame() && e.target.ownerDocument !== top.document && frameElement !== null ? [$(e.view.frameElement).offset().top, $(e.view.frameElement).offset().left] : [0, 0];\n\n      switch (t) {\n        case \"pointerdown\":\n        case \"MSPointerDown\":\n        case \"pointermove\":\n        case \"MSPointerMove\":\n        case \"pointerup\":\n        case \"MSPointerUp\":\n          return o ? [e.originalEvent.pageY - o[0] + io[0], e.originalEvent.pageX - o[1] + io[1], false] : [e.originalEvent.pageY, e.originalEvent.pageX, false];\n          break;\n\n        case \"touchstart\":\n        case \"touchmove\":\n        case \"touchend\":\n          var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0],\n              touches = e.originalEvent.touches.length || e.originalEvent.changedTouches.length;\n          return e.target.ownerDocument !== document ? [touch.screenY, touch.screenX, touches > 1] : [touch.pageY, touch.pageX, touches > 1];\n          break;\n\n        default:\n          return o ? [e.pageY - o[0] + io[0], e.pageX - o[1] + io[1], false] : [e.pageY, e.pageX, false];\n      }\n    },\n\n    /* -------------------- */\n\n    /* \r\n    SCROLLBAR DRAG EVENTS\r\n    scrolls content via scrollbar dragging \r\n    */\n    _draggable = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          namespace = pluginPfx + \"_\" + d.idx,\n          draggerId = [\"mCSB_\" + d.idx + \"_dragger_vertical\", \"mCSB_\" + d.idx + \"_dragger_horizontal\"],\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          mCSB_dragger = $(\"#\" + draggerId[0] + \",#\" + draggerId[1]),\n          draggable,\n          dragY,\n          dragX,\n          rds = o.advanced.releaseDraggableSelectors ? mCSB_dragger.add($(o.advanced.releaseDraggableSelectors)) : mCSB_dragger,\n          eds = o.advanced.extraDraggableSelectors ? $(!_canAccessIFrame() || top.document).add($(o.advanced.extraDraggableSelectors)) : $(!_canAccessIFrame() || top.document);\n      mCSB_dragger.bind(\"contextmenu.\" + namespace, function (e) {\n        e.preventDefault(); //prevent right click\n      }).bind(\"mousedown.\" + namespace + \" touchstart.\" + namespace + \" pointerdown.\" + namespace + \" MSPointerDown.\" + namespace, function (e) {\n        e.stopImmediatePropagation();\n        e.preventDefault();\n\n        if (!_mouseBtnLeft(e)) {\n          return;\n        }\n        /* left mouse button only */\n\n\n        touchActive = true;\n\n        if (oldIE) {\n          document.onselectstart = function () {\n            return false;\n          };\n        }\n        /* disable text selection for IE < 9 */\n\n\n        _iframe.call(mCSB_container, false);\n        /* enable scrollbar dragging over iframes by disabling their events */\n\n\n        _stop($this);\n\n        draggable = $(this);\n        var offset = draggable.offset(),\n            y = _coordinates(e)[0] - offset.top,\n            x = _coordinates(e)[1] - offset.left,\n            h = draggable.height() + offset.top,\n            w = draggable.width() + offset.left;\n\n        if (y < h && y > 0 && x < w && x > 0) {\n          dragY = y;\n          dragX = x;\n        }\n\n        _onDragClasses(draggable, \"active\", o.autoExpandScrollbar);\n      }).bind(\"touchmove.\" + namespace, function (e) {\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        var offset = draggable.offset(),\n            y = _coordinates(e)[0] - offset.top,\n            x = _coordinates(e)[1] - offset.left;\n\n        _drag(dragY, dragX, y, x);\n      });\n      $(document).add(eds).bind(\"mousemove.\" + namespace + \" pointermove.\" + namespace + \" MSPointerMove.\" + namespace, function (e) {\n        if (draggable) {\n          var offset = draggable.offset(),\n              y = _coordinates(e)[0] - offset.top,\n              x = _coordinates(e)[1] - offset.left;\n\n          if (dragY === y && dragX === x) {\n            return;\n          }\n          /* has it really moved? */\n\n\n          _drag(dragY, dragX, y, x);\n        }\n      }).add(rds).bind(\"mouseup.\" + namespace + \" touchend.\" + namespace + \" pointerup.\" + namespace + \" MSPointerUp.\" + namespace, function (e) {\n        if (draggable) {\n          _onDragClasses(draggable, \"active\", o.autoExpandScrollbar);\n\n          draggable = null;\n        }\n\n        touchActive = false;\n\n        if (oldIE) {\n          document.onselectstart = null;\n        }\n        /* enable text selection for IE < 9 */\n\n\n        _iframe.call(mCSB_container, true);\n        /* enable iframes events */\n\n      });\n\n      function _drag(dragY, dragX, y, x) {\n        mCSB_container[0].idleTimer = o.scrollInertia < 233 ? 250 : 0;\n\n        if (draggable.attr(\"id\") === draggerId[1]) {\n          var dir = \"x\",\n              to = (draggable[0].offsetLeft - dragX + x) * d.scrollRatio.x;\n        } else {\n          var dir = \"y\",\n              to = (draggable[0].offsetTop - dragY + y) * d.scrollRatio.y;\n        }\n\n        _scrollTo($this, to.toString(), {\n          dir: dir,\n          drag: true\n        });\n      }\n    },\n\n    /* -------------------- */\n\n    /* \r\n    TOUCH SWIPE EVENTS\r\n    scrolls content via touch swipe \r\n    Emulates the native touch-swipe scrolling with momentum found in iOS, Android and WP devices \r\n    */\n    _contentDraggable = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          namespace = pluginPfx + \"_\" + d.idx,\n          mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          mCSB_dragger = [$(\"#mCSB_\" + d.idx + \"_dragger_vertical\"), $(\"#mCSB_\" + d.idx + \"_dragger_horizontal\")],\n          draggable,\n          dragY,\n          dragX,\n          touchStartY,\n          touchStartX,\n          touchMoveY = [],\n          touchMoveX = [],\n          startTime,\n          runningTime,\n          endTime,\n          distance,\n          speed,\n          amount,\n          durA = 0,\n          durB,\n          overwrite = o.axis === \"yx\" ? \"none\" : \"all\",\n          touchIntent = [],\n          touchDrag,\n          docDrag,\n          iframe = mCSB_container.find(\"iframe\"),\n          events = [\"touchstart.\" + namespace + \" pointerdown.\" + namespace + \" MSPointerDown.\" + namespace, //start\n      \"touchmove.\" + namespace + \" pointermove.\" + namespace + \" MSPointerMove.\" + namespace, //move\n      \"touchend.\" + namespace + \" pointerup.\" + namespace + \" MSPointerUp.\" + namespace //end\n      ],\n          touchAction = document.body.style.touchAction !== undefined && document.body.style.touchAction !== \"\";\n      mCSB_container.bind(events[0], function (e) {\n        _onTouchstart(e);\n      }).bind(events[1], function (e) {\n        _onTouchmove(e);\n      });\n      mCustomScrollBox.bind(events[0], function (e) {\n        _onTouchstart2(e);\n      }).bind(events[2], function (e) {\n        _onTouchend(e);\n      });\n\n      if (iframe.length) {\n        iframe.each(function () {\n          $(this).bind(\"load\", function () {\n            /* bind events on accessible iframes */\n            if (_canAccessIFrame(this)) {\n              $(this.contentDocument || this.contentWindow.document).bind(events[0], function (e) {\n                _onTouchstart(e);\n\n                _onTouchstart2(e);\n              }).bind(events[1], function (e) {\n                _onTouchmove(e);\n              }).bind(events[2], function (e) {\n                _onTouchend(e);\n              });\n            }\n          });\n        });\n      }\n\n      function _onTouchstart(e) {\n        if (!_pointerTouch(e) || touchActive || _coordinates(e)[2]) {\n          touchable = 0;\n          return;\n        }\n\n        touchable = 1;\n        touchDrag = 0;\n        docDrag = 0;\n        draggable = 1;\n        $this.removeClass(\"mCS_touch_action\");\n        var offset = mCSB_container.offset();\n        dragY = _coordinates(e)[0] - offset.top;\n        dragX = _coordinates(e)[1] - offset.left;\n        touchIntent = [_coordinates(e)[0], _coordinates(e)[1]];\n      }\n\n      function _onTouchmove(e) {\n        if (!_pointerTouch(e) || touchActive || _coordinates(e)[2]) {\n          return;\n        }\n\n        if (!o.documentTouchScroll) {\n          e.preventDefault();\n        }\n\n        e.stopImmediatePropagation();\n\n        if (docDrag && !touchDrag) {\n          return;\n        }\n\n        if (draggable) {\n          runningTime = _getTime();\n          var offset = mCustomScrollBox.offset(),\n              y = _coordinates(e)[0] - offset.top,\n              x = _coordinates(e)[1] - offset.left,\n              easing = \"mcsLinearOut\";\n          touchMoveY.push(y);\n          touchMoveX.push(x);\n          touchIntent[2] = Math.abs(_coordinates(e)[0] - touchIntent[0]);\n          touchIntent[3] = Math.abs(_coordinates(e)[1] - touchIntent[1]);\n\n          if (d.overflowed[0]) {\n            var limit = mCSB_dragger[0].parent().height() - mCSB_dragger[0].height(),\n                prevent = dragY - y > 0 && y - dragY > -(limit * d.scrollRatio.y) && (touchIntent[3] * 2 < touchIntent[2] || o.axis === \"yx\");\n          }\n\n          if (d.overflowed[1]) {\n            var limitX = mCSB_dragger[1].parent().width() - mCSB_dragger[1].width(),\n                preventX = dragX - x > 0 && x - dragX > -(limitX * d.scrollRatio.x) && (touchIntent[2] * 2 < touchIntent[3] || o.axis === \"yx\");\n          }\n\n          if (prevent || preventX) {\n            /* prevent native document scrolling */\n            if (!touchAction) {\n              e.preventDefault();\n            }\n\n            touchDrag = 1;\n          } else {\n            docDrag = 1;\n            $this.addClass(\"mCS_touch_action\");\n          }\n\n          if (touchAction) {\n            e.preventDefault();\n          }\n\n          amount = o.axis === \"yx\" ? [dragY - y, dragX - x] : o.axis === \"x\" ? [null, dragX - x] : [dragY - y, null];\n          mCSB_container[0].idleTimer = 250;\n\n          if (d.overflowed[0]) {\n            _drag(amount[0], durA, easing, \"y\", \"all\", true);\n          }\n\n          if (d.overflowed[1]) {\n            _drag(amount[1], durA, easing, \"x\", overwrite, true);\n          }\n        }\n      }\n\n      function _onTouchstart2(e) {\n        if (!_pointerTouch(e) || touchActive || _coordinates(e)[2]) {\n          touchable = 0;\n          return;\n        }\n\n        touchable = 1;\n        e.stopImmediatePropagation();\n\n        _stop($this);\n\n        startTime = _getTime();\n        var offset = mCustomScrollBox.offset();\n        touchStartY = _coordinates(e)[0] - offset.top;\n        touchStartX = _coordinates(e)[1] - offset.left;\n        touchMoveY = [];\n        touchMoveX = [];\n      }\n\n      function _onTouchend(e) {\n        if (!_pointerTouch(e) || touchActive || _coordinates(e)[2]) {\n          return;\n        }\n\n        draggable = 0;\n        e.stopImmediatePropagation();\n        touchDrag = 0;\n        docDrag = 0;\n        endTime = _getTime();\n        var offset = mCustomScrollBox.offset(),\n            y = _coordinates(e)[0] - offset.top,\n            x = _coordinates(e)[1] - offset.left;\n\n        if (endTime - runningTime > 30) {\n          return;\n        }\n\n        speed = 1000 / (endTime - startTime);\n        var easing = \"mcsEaseOut\",\n            slow = speed < 2.5,\n            diff = slow ? [touchMoveY[touchMoveY.length - 2], touchMoveX[touchMoveX.length - 2]] : [0, 0];\n        distance = slow ? [y - diff[0], x - diff[1]] : [y - touchStartY, x - touchStartX];\n        var absDistance = [Math.abs(distance[0]), Math.abs(distance[1])];\n        speed = slow ? [Math.abs(distance[0] / 4), Math.abs(distance[1] / 4)] : [speed, speed];\n        var a = [Math.abs(mCSB_container[0].offsetTop) - distance[0] * _m(absDistance[0] / speed[0], speed[0]), Math.abs(mCSB_container[0].offsetLeft) - distance[1] * _m(absDistance[1] / speed[1], speed[1])];\n        amount = o.axis === \"yx\" ? [a[0], a[1]] : o.axis === \"x\" ? [null, a[1]] : [a[0], null];\n        durB = [absDistance[0] * 4 + o.scrollInertia, absDistance[1] * 4 + o.scrollInertia];\n        var md = parseInt(o.contentTouchScroll) || 0;\n        /* absolute minimum distance required */\n\n        amount[0] = absDistance[0] > md ? amount[0] : 0;\n        amount[1] = absDistance[1] > md ? amount[1] : 0;\n\n        if (d.overflowed[0]) {\n          _drag(amount[0], durB[0], easing, \"y\", overwrite, false);\n        }\n\n        if (d.overflowed[1]) {\n          _drag(amount[1], durB[1], easing, \"x\", overwrite, false);\n        }\n      }\n\n      function _m(ds, s) {\n        var r = [s * 1.5, s * 2, s / 1.5, s / 2];\n\n        if (ds > 90) {\n          return s > 4 ? r[0] : r[3];\n        } else if (ds > 60) {\n          return s > 3 ? r[3] : r[2];\n        } else if (ds > 30) {\n          return s > 8 ? r[1] : s > 6 ? r[0] : s > 4 ? s : r[2];\n        } else {\n          return s > 8 ? s : r[3];\n        }\n      }\n\n      function _drag(amount, dur, easing, dir, overwrite, drag) {\n        if (!amount) {\n          return;\n        }\n\n        _scrollTo($this, amount.toString(), {\n          dur: dur,\n          scrollEasing: easing,\n          dir: dir,\n          overwrite: overwrite,\n          drag: drag\n        });\n      }\n    },\n\n    /* -------------------- */\n\n    /* \r\n    SELECT TEXT EVENTS \r\n    scrolls content when text is selected \r\n    */\n    _selectable = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          seq = d.sequential,\n          namespace = pluginPfx + \"_\" + d.idx,\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          wrapper = mCSB_container.parent(),\n          action;\n      mCSB_container.bind(\"mousedown.\" + namespace, function (e) {\n        if (touchable) {\n          return;\n        }\n\n        if (!action) {\n          action = 1;\n          touchActive = true;\n        }\n      }).add(document).bind(\"mousemove.\" + namespace, function (e) {\n        if (!touchable && action && _sel()) {\n          var offset = mCSB_container.offset(),\n              y = _coordinates(e)[0] - offset.top + mCSB_container[0].offsetTop,\n              x = _coordinates(e)[1] - offset.left + mCSB_container[0].offsetLeft;\n\n          if (y > 0 && y < wrapper.height() && x > 0 && x < wrapper.width()) {\n            if (seq.step) {\n              _seq(\"off\", null, \"stepped\");\n            }\n          } else {\n            if (o.axis !== \"x\" && d.overflowed[0]) {\n              if (y < 0) {\n                _seq(\"on\", 38);\n              } else if (y > wrapper.height()) {\n                _seq(\"on\", 40);\n              }\n            }\n\n            if (o.axis !== \"y\" && d.overflowed[1]) {\n              if (x < 0) {\n                _seq(\"on\", 37);\n              } else if (x > wrapper.width()) {\n                _seq(\"on\", 39);\n              }\n            }\n          }\n        }\n      }).bind(\"mouseup.\" + namespace + \" dragend.\" + namespace, function (e) {\n        if (touchable) {\n          return;\n        }\n\n        if (action) {\n          action = 0;\n\n          _seq(\"off\", null);\n        }\n\n        touchActive = false;\n      });\n\n      function _sel() {\n        return window.getSelection ? window.getSelection().toString() : document.selection && document.selection.type != \"Control\" ? document.selection.createRange().text : 0;\n      }\n\n      function _seq(a, c, s) {\n        seq.type = s && action ? \"stepped\" : \"stepless\";\n        seq.scrollAmount = 10;\n\n        _sequentialScroll($this, a, c, \"mcsLinearOut\", s ? 60 : null);\n      }\n    },\n\n    /* -------------------- */\n\n    /* \r\n    MOUSE WHEEL EVENT\r\n    scrolls content via mouse-wheel \r\n    via mouse-wheel plugin (https://github.com/brandonaaron/jquery-mousewheel)\r\n    */\n    _mousewheel = function () {\n      if (!$(this).data(pluginPfx)) {\n        return;\n      }\n      /* Check if the scrollbar is ready to use mousewheel events (issue: #185) */\n\n\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          namespace = pluginPfx + \"_\" + d.idx,\n          mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n          mCSB_dragger = [$(\"#mCSB_\" + d.idx + \"_dragger_vertical\"), $(\"#mCSB_\" + d.idx + \"_dragger_horizontal\")],\n          iframe = $(\"#mCSB_\" + d.idx + \"_container\").find(\"iframe\");\n\n      if (iframe.length) {\n        iframe.each(function () {\n          $(this).bind(\"load\", function () {\n            /* bind events on accessible iframes */\n            if (_canAccessIFrame(this)) {\n              $(this.contentDocument || this.contentWindow.document).bind(\"mousewheel.\" + namespace, function (e, delta) {\n                _onMousewheel(e, delta);\n              });\n            }\n          });\n        });\n      }\n\n      mCustomScrollBox.bind(\"mousewheel.\" + namespace, function (e, delta) {\n        _onMousewheel(e, delta);\n      });\n\n      function _onMousewheel(e, delta) {\n        _stop($this);\n\n        if (_disableMousewheel($this, e.target)) {\n          return;\n        }\n        /* disables mouse-wheel when hovering specific elements */\n\n\n        var deltaFactor = o.mouseWheel.deltaFactor !== \"auto\" ? parseInt(o.mouseWheel.deltaFactor) : oldIE && e.deltaFactor < 100 ? 100 : e.deltaFactor || 100,\n            dur = o.scrollInertia;\n\n        if (o.axis === \"x\" || o.mouseWheel.axis === \"x\") {\n          var dir = \"x\",\n              px = [Math.round(deltaFactor * d.scrollRatio.x), parseInt(o.mouseWheel.scrollAmount)],\n              amount = o.mouseWheel.scrollAmount !== \"auto\" ? px[1] : px[0] >= mCustomScrollBox.width() ? mCustomScrollBox.width() * 0.9 : px[0],\n              contentPos = Math.abs($(\"#mCSB_\" + d.idx + \"_container\")[0].offsetLeft),\n              draggerPos = mCSB_dragger[1][0].offsetLeft,\n              limit = mCSB_dragger[1].parent().width() - mCSB_dragger[1].width(),\n              dlt = o.mouseWheel.axis === \"y\" ? e.deltaY || delta : e.deltaX;\n        } else {\n          var dir = \"y\",\n              px = [Math.round(deltaFactor * d.scrollRatio.y), parseInt(o.mouseWheel.scrollAmount)],\n              amount = o.mouseWheel.scrollAmount !== \"auto\" ? px[1] : px[0] >= mCustomScrollBox.height() ? mCustomScrollBox.height() * 0.9 : px[0],\n              contentPos = Math.abs($(\"#mCSB_\" + d.idx + \"_container\")[0].offsetTop),\n              draggerPos = mCSB_dragger[0][0].offsetTop,\n              limit = mCSB_dragger[0].parent().height() - mCSB_dragger[0].height(),\n              dlt = e.deltaY || delta;\n        }\n\n        if (dir === \"y\" && !d.overflowed[0] || dir === \"x\" && !d.overflowed[1]) {\n          return;\n        }\n\n        if (o.mouseWheel.invert || e.webkitDirectionInvertedFromDevice) {\n          dlt = -dlt;\n        }\n\n        if (o.mouseWheel.normalizeDelta) {\n          dlt = dlt < 0 ? -1 : 1;\n        }\n\n        if (dlt > 0 && draggerPos !== 0 || dlt < 0 && draggerPos !== limit || o.mouseWheel.preventDefault) {\n          e.stopImmediatePropagation();\n          e.preventDefault();\n        }\n\n        if (e.deltaFactor < 5 && !o.mouseWheel.normalizeDelta) {\n          //very low deltaFactor values mean some kind of delta acceleration (e.g. osx trackpad), so adjusting scrolling accordingly\n          amount = e.deltaFactor;\n          dur = 17;\n        }\n\n        _scrollTo($this, (contentPos - dlt * amount).toString(), {\n          dir: dir,\n          dur: dur\n        });\n      }\n    },\n\n    /* -------------------- */\n\n    /* checks if iframe can be accessed */\n    _canAccessIFrameCache = new Object(),\n        _canAccessIFrame = function (iframe) {\n      var result = false,\n          cacheKey = false,\n          html = null;\n\n      if (iframe === undefined) {\n        cacheKey = \"#empty\";\n      } else if ($(iframe).attr(\"id\") !== undefined) {\n        cacheKey = $(iframe).attr(\"id\");\n      }\n\n      if (cacheKey !== false && _canAccessIFrameCache[cacheKey] !== undefined) {\n        return _canAccessIFrameCache[cacheKey];\n      }\n\n      if (!iframe) {\n        try {\n          var doc = top.document;\n          html = doc.body.innerHTML;\n        } catch (err) {\n          /* do nothing */\n        }\n\n        result = html !== null;\n      } else {\n        try {\n          var doc = iframe.contentDocument || iframe.contentWindow.document;\n          html = doc.body.innerHTML;\n        } catch (err) {\n          /* do nothing */\n        }\n\n        result = html !== null;\n      }\n\n      if (cacheKey !== false) {\n        _canAccessIFrameCache[cacheKey] = result;\n      }\n\n      return result;\n    },\n\n    /* -------------------- */\n\n    /* switches iframe's pointer-events property (drag, mousewheel etc. over cross-domain iframes) */\n    _iframe = function (evt) {\n      var el = this.find(\"iframe\");\n\n      if (!el.length) {\n        return;\n      }\n      /* check if content contains iframes */\n\n\n      var val = !evt ? \"none\" : \"auto\";\n      el.css(\"pointer-events\", val);\n      /* for IE11, iframe's display property should not be \"block\" */\n    },\n\n    /* -------------------- */\n\n    /* disables mouse-wheel when hovering specific elements like select, datalist etc. */\n    _disableMousewheel = function (el, target) {\n      var tag = target.nodeName.toLowerCase(),\n          tags = el.data(pluginPfx).opt.mouseWheel.disableOver,\n\n      /* elements that require focus */\n      focusTags = [\"select\", \"textarea\"];\n      return $.inArray(tag, tags) > -1 && !($.inArray(tag, focusTags) > -1 && !$(target).is(\":focus\"));\n    },\n\n    /* -------------------- */\n\n    /* \r\n    DRAGGER RAIL CLICK EVENT\r\n    scrolls content via dragger rail \r\n    */\n    _draggerRail = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          namespace = pluginPfx + \"_\" + d.idx,\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          wrapper = mCSB_container.parent(),\n          mCSB_draggerContainer = $(\".mCSB_\" + d.idx + \"_scrollbar .\" + classes[12]),\n          clickable;\n      mCSB_draggerContainer.bind(\"mousedown.\" + namespace + \" touchstart.\" + namespace + \" pointerdown.\" + namespace + \" MSPointerDown.\" + namespace, function (e) {\n        touchActive = true;\n\n        if (!$(e.target).hasClass(\"mCSB_dragger\")) {\n          clickable = 1;\n        }\n      }).bind(\"touchend.\" + namespace + \" pointerup.\" + namespace + \" MSPointerUp.\" + namespace, function (e) {\n        touchActive = false;\n      }).bind(\"click.\" + namespace, function (e) {\n        if (!clickable) {\n          return;\n        }\n\n        clickable = 0;\n\n        if ($(e.target).hasClass(classes[12]) || $(e.target).hasClass(\"mCSB_draggerRail\")) {\n          _stop($this);\n\n          var el = $(this),\n              mCSB_dragger = el.find(\".mCSB_dragger\");\n\n          if (el.parent(\".mCSB_scrollTools_horizontal\").length > 0) {\n            if (!d.overflowed[1]) {\n              return;\n            }\n\n            var dir = \"x\",\n                clickDir = e.pageX > mCSB_dragger.offset().left ? -1 : 1,\n                to = Math.abs(mCSB_container[0].offsetLeft) - clickDir * (wrapper.width() * 0.9);\n          } else {\n            if (!d.overflowed[0]) {\n              return;\n            }\n\n            var dir = \"y\",\n                clickDir = e.pageY > mCSB_dragger.offset().top ? -1 : 1,\n                to = Math.abs(mCSB_container[0].offsetTop) - clickDir * (wrapper.height() * 0.9);\n          }\n\n          _scrollTo($this, to.toString(), {\n            dir: dir,\n            scrollEasing: \"mcsEaseInOut\"\n          });\n        }\n      });\n    },\n\n    /* -------------------- */\n\n    /* \r\n    FOCUS EVENT\r\n    scrolls content via element focus (e.g. clicking an input, pressing TAB key etc.)\r\n    */\n    _focus = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          namespace = pluginPfx + \"_\" + d.idx,\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          wrapper = mCSB_container.parent();\n      mCSB_container.bind(\"focusin.\" + namespace, function (e) {\n        var el = $(document.activeElement),\n            nested = mCSB_container.find(\".mCustomScrollBox\").length,\n            dur = 0;\n\n        if (!el.is(o.advanced.autoScrollOnFocus)) {\n          return;\n        }\n\n        _stop($this);\n\n        clearTimeout($this[0]._focusTimeout);\n        $this[0]._focusTimer = nested ? (dur + 17) * nested : 0;\n        $this[0]._focusTimeout = setTimeout(function () {\n          var to = [_childPos(el)[0], _childPos(el)[1]],\n              contentPos = [mCSB_container[0].offsetTop, mCSB_container[0].offsetLeft],\n              isVisible = [contentPos[0] + to[0] >= 0 && contentPos[0] + to[0] < wrapper.height() - el.outerHeight(false), contentPos[1] + to[1] >= 0 && contentPos[0] + to[1] < wrapper.width() - el.outerWidth(false)],\n              overwrite = o.axis === \"yx\" && !isVisible[0] && !isVisible[1] ? \"none\" : \"all\";\n\n          if (o.axis !== \"x\" && !isVisible[0]) {\n            _scrollTo($this, to[0].toString(), {\n              dir: \"y\",\n              scrollEasing: \"mcsEaseInOut\",\n              overwrite: overwrite,\n              dur: dur\n            });\n          }\n\n          if (o.axis !== \"y\" && !isVisible[1]) {\n            _scrollTo($this, to[1].toString(), {\n              dir: \"x\",\n              scrollEasing: \"mcsEaseInOut\",\n              overwrite: overwrite,\n              dur: dur\n            });\n          }\n        }, $this[0]._focusTimer);\n      });\n    },\n\n    /* -------------------- */\n\n    /* sets content wrapper scrollTop/scrollLeft always to 0 */\n    _wrapperScroll = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          namespace = pluginPfx + \"_\" + d.idx,\n          wrapper = $(\"#mCSB_\" + d.idx + \"_container\").parent();\n      wrapper.bind(\"scroll.\" + namespace, function (e) {\n        if (wrapper.scrollTop() !== 0 || wrapper.scrollLeft() !== 0) {\n          $(\".mCSB_\" + d.idx + \"_scrollbar\").css(\"visibility\", \"hidden\");\n          /* hide scrollbar(s) */\n        }\n      });\n    },\n\n    /* -------------------- */\n\n    /* \r\n    BUTTONS EVENTS\r\n    scrolls content via up, down, left and right buttons \r\n    */\n    _buttons = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          seq = d.sequential,\n          namespace = pluginPfx + \"_\" + d.idx,\n          sel = \".mCSB_\" + d.idx + \"_scrollbar\",\n          btn = $(sel + \">a\");\n      btn.bind(\"contextmenu.\" + namespace, function (e) {\n        e.preventDefault(); //prevent right click\n      }).bind(\"mousedown.\" + namespace + \" touchstart.\" + namespace + \" pointerdown.\" + namespace + \" MSPointerDown.\" + namespace + \" mouseup.\" + namespace + \" touchend.\" + namespace + \" pointerup.\" + namespace + \" MSPointerUp.\" + namespace + \" mouseout.\" + namespace + \" pointerout.\" + namespace + \" MSPointerOut.\" + namespace + \" click.\" + namespace, function (e) {\n        e.preventDefault();\n\n        if (!_mouseBtnLeft(e)) {\n          return;\n        }\n        /* left mouse button only */\n\n\n        var btnClass = $(this).attr(\"class\");\n        seq.type = o.scrollButtons.scrollType;\n\n        switch (e.type) {\n          case \"mousedown\":\n          case \"touchstart\":\n          case \"pointerdown\":\n          case \"MSPointerDown\":\n            if (seq.type === \"stepped\") {\n              return;\n            }\n\n            touchActive = true;\n            d.tweenRunning = false;\n\n            _seq(\"on\", btnClass);\n\n            break;\n\n          case \"mouseup\":\n          case \"touchend\":\n          case \"pointerup\":\n          case \"MSPointerUp\":\n          case \"mouseout\":\n          case \"pointerout\":\n          case \"MSPointerOut\":\n            if (seq.type === \"stepped\") {\n              return;\n            }\n\n            touchActive = false;\n\n            if (seq.dir) {\n              _seq(\"off\", btnClass);\n            }\n\n            break;\n\n          case \"click\":\n            if (seq.type !== \"stepped\" || d.tweenRunning) {\n              return;\n            }\n\n            _seq(\"on\", btnClass);\n\n            break;\n        }\n\n        function _seq(a, c) {\n          seq.scrollAmount = o.scrollButtons.scrollAmount;\n\n          _sequentialScroll($this, a, c);\n        }\n      });\n    },\n\n    /* -------------------- */\n\n    /* \r\n    KEYBOARD EVENTS\r\n    scrolls content via keyboard \r\n    Keys: up arrow, down arrow, left arrow, right arrow, PgUp, PgDn, Home, End\r\n    */\n    _keyboard = function () {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          seq = d.sequential,\n          namespace = pluginPfx + \"_\" + d.idx,\n          mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          wrapper = mCSB_container.parent(),\n          editables = \"input,textarea,select,datalist,keygen,[contenteditable='true']\",\n          iframe = mCSB_container.find(\"iframe\"),\n          events = [\"blur.\" + namespace + \" keydown.\" + namespace + \" keyup.\" + namespace];\n\n      if (iframe.length) {\n        iframe.each(function () {\n          $(this).bind(\"load\", function () {\n            /* bind events on accessible iframes */\n            if (_canAccessIFrame(this)) {\n              $(this.contentDocument || this.contentWindow.document).bind(events[0], function (e) {\n                _onKeyboard(e);\n              });\n            }\n          });\n        });\n      }\n\n      mCustomScrollBox.attr(\"tabindex\", \"0\").bind(events[0], function (e) {\n        _onKeyboard(e);\n      });\n\n      function _onKeyboard(e) {\n        switch (e.type) {\n          case \"blur\":\n            if (d.tweenRunning && seq.dir) {\n              _seq(\"off\", null);\n            }\n\n            break;\n\n          case \"keydown\":\n          case \"keyup\":\n            var code = e.keyCode ? e.keyCode : e.which,\n                action = \"on\";\n\n            if (o.axis !== \"x\" && (code === 38 || code === 40) || o.axis !== \"y\" && (code === 37 || code === 39)) {\n              /* up (38), down (40), left (37), right (39) arrows */\n              if ((code === 38 || code === 40) && !d.overflowed[0] || (code === 37 || code === 39) && !d.overflowed[1]) {\n                return;\n              }\n\n              if (e.type === \"keyup\") {\n                action = \"off\";\n              }\n\n              if (!$(document.activeElement).is(editables)) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n\n                _seq(action, code);\n              }\n            } else if (code === 33 || code === 34) {\n              /* PgUp (33), PgDn (34) */\n              if (d.overflowed[0] || d.overflowed[1]) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n              }\n\n              if (e.type === \"keyup\") {\n                _stop($this);\n\n                var keyboardDir = code === 34 ? -1 : 1;\n\n                if (o.axis === \"x\" || o.axis === \"yx\" && d.overflowed[1] && !d.overflowed[0]) {\n                  var dir = \"x\",\n                      to = Math.abs(mCSB_container[0].offsetLeft) - keyboardDir * (wrapper.width() * 0.9);\n                } else {\n                  var dir = \"y\",\n                      to = Math.abs(mCSB_container[0].offsetTop) - keyboardDir * (wrapper.height() * 0.9);\n                }\n\n                _scrollTo($this, to.toString(), {\n                  dir: dir,\n                  scrollEasing: \"mcsEaseInOut\"\n                });\n              }\n            } else if (code === 35 || code === 36) {\n              /* End (35), Home (36) */\n              if (!$(document.activeElement).is(editables)) {\n                if (d.overflowed[0] || d.overflowed[1]) {\n                  e.preventDefault();\n                  e.stopImmediatePropagation();\n                }\n\n                if (e.type === \"keyup\") {\n                  if (o.axis === \"x\" || o.axis === \"yx\" && d.overflowed[1] && !d.overflowed[0]) {\n                    var dir = \"x\",\n                        to = code === 35 ? Math.abs(wrapper.width() - mCSB_container.outerWidth(false)) : 0;\n                  } else {\n                    var dir = \"y\",\n                        to = code === 35 ? Math.abs(wrapper.height() - mCSB_container.outerHeight(false)) : 0;\n                  }\n\n                  _scrollTo($this, to.toString(), {\n                    dir: dir,\n                    scrollEasing: \"mcsEaseInOut\"\n                  });\n                }\n              }\n            }\n\n            break;\n        }\n\n        function _seq(a, c) {\n          seq.type = o.keyboard.scrollType;\n          seq.scrollAmount = o.keyboard.scrollAmount;\n\n          if (seq.type === \"stepped\" && d.tweenRunning) {\n            return;\n          }\n\n          _sequentialScroll($this, a, c);\n        }\n      }\n    },\n\n    /* -------------------- */\n\n    /* scrolls content sequentially (used when scrolling via buttons, keyboard arrows etc.) */\n    _sequentialScroll = function (el, action, trigger, e, s) {\n      var d = el.data(pluginPfx),\n          o = d.opt,\n          seq = d.sequential,\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          once = seq.type === \"stepped\" ? true : false,\n          steplessSpeed = o.scrollInertia < 26 ? 26 : o.scrollInertia,\n\n      /* 26/1.5=17 */\n      steppedSpeed = o.scrollInertia < 1 ? 17 : o.scrollInertia;\n\n      switch (action) {\n        case \"on\":\n          seq.dir = [trigger === classes[16] || trigger === classes[15] || trigger === 39 || trigger === 37 ? \"x\" : \"y\", trigger === classes[13] || trigger === classes[15] || trigger === 38 || trigger === 37 ? -1 : 1];\n\n          _stop(el);\n\n          if (_isNumeric(trigger) && seq.type === \"stepped\") {\n            return;\n          }\n\n          _on(once);\n\n          break;\n\n        case \"off\":\n          _off();\n\n          if (once || d.tweenRunning && seq.dir) {\n            _on(true);\n          }\n\n          break;\n      }\n      /* starts sequence */\n\n\n      function _on(once) {\n        if (o.snapAmount) {\n          seq.scrollAmount = !(o.snapAmount instanceof Array) ? o.snapAmount : seq.dir[0] === \"x\" ? o.snapAmount[1] : o.snapAmount[0];\n        }\n        /* scrolling snapping */\n\n\n        var c = seq.type !== \"stepped\",\n\n        /* continuous scrolling */\n        t = s ? s : !once ? 1000 / 60 : c ? steplessSpeed / 1.5 : steppedSpeed,\n\n        /* timer */\n        m = !once ? 2.5 : c ? 7.5 : 40,\n\n        /* multiplier */\n        contentPos = [Math.abs(mCSB_container[0].offsetTop), Math.abs(mCSB_container[0].offsetLeft)],\n            ratio = [d.scrollRatio.y > 10 ? 10 : d.scrollRatio.y, d.scrollRatio.x > 10 ? 10 : d.scrollRatio.x],\n            amount = seq.dir[0] === \"x\" ? contentPos[1] + seq.dir[1] * (ratio[1] * m) : contentPos[0] + seq.dir[1] * (ratio[0] * m),\n            px = seq.dir[0] === \"x\" ? contentPos[1] + seq.dir[1] * parseInt(seq.scrollAmount) : contentPos[0] + seq.dir[1] * parseInt(seq.scrollAmount),\n            to = seq.scrollAmount !== \"auto\" ? px : amount,\n            easing = e ? e : !once ? \"mcsLinear\" : c ? \"mcsLinearOut\" : \"mcsEaseInOut\",\n            onComplete = !once ? false : true;\n\n        if (once && t < 17) {\n          to = seq.dir[0] === \"x\" ? contentPos[1] : contentPos[0];\n        }\n\n        _scrollTo(el, to.toString(), {\n          dir: seq.dir[0],\n          scrollEasing: easing,\n          dur: t,\n          onComplete: onComplete\n        });\n\n        if (once) {\n          seq.dir = false;\n          return;\n        }\n\n        clearTimeout(seq.step);\n        seq.step = setTimeout(function () {\n          _on();\n        }, t);\n      }\n      /* stops sequence */\n\n\n      function _off() {\n        clearTimeout(seq.step);\n\n        _delete(seq, \"step\");\n\n        _stop(el);\n      }\n    },\n\n    /* -------------------- */\n\n    /* returns a yx array from value */\n    _arr = function (val) {\n      var o = $(this).data(pluginPfx).opt,\n          vals = [];\n\n      if (typeof val === \"function\") {\n        val = val();\n      }\n      /* check if the value is a single anonymous function */\n\n      /* check if value is object or array, its length and create an array with yx values */\n\n\n      if (!(val instanceof Array)) {\n        /* object value (e.g. {y:\"100\",x:\"100\"}, 100 etc.) */\n        vals[0] = val.y ? val.y : val.x || o.axis === \"x\" ? null : val;\n        vals[1] = val.x ? val.x : val.y || o.axis === \"y\" ? null : val;\n      } else {\n        /* array value (e.g. [100,100]) */\n        vals = val.length > 1 ? [val[0], val[1]] : o.axis === \"x\" ? [null, val[0]] : [val[0], null];\n      }\n      /* check if array values are anonymous functions */\n\n\n      if (typeof vals[0] === \"function\") {\n        vals[0] = vals[0]();\n      }\n\n      if (typeof vals[1] === \"function\") {\n        vals[1] = vals[1]();\n      }\n\n      return vals;\n    },\n\n    /* -------------------- */\n\n    /* translates values (e.g. \"top\", 100, \"100px\", \"#id\") to actual scroll-to positions */\n    _to = function (val, dir) {\n      if (val == null || typeof val == \"undefined\") {\n        return;\n      }\n\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          wrapper = mCSB_container.parent(),\n          t = typeof val;\n\n      if (!dir) {\n        dir = o.axis === \"x\" ? \"x\" : \"y\";\n      }\n\n      var contentLength = dir === \"x\" ? mCSB_container.outerWidth(false) - wrapper.width() : mCSB_container.outerHeight(false) - wrapper.height(),\n          contentPos = dir === \"x\" ? mCSB_container[0].offsetLeft : mCSB_container[0].offsetTop,\n          cssProp = dir === \"x\" ? \"left\" : \"top\";\n\n      switch (t) {\n        case \"function\":\n          /* this currently is not used. Consider removing it */\n          return val();\n          break;\n\n        case \"object\":\n          /* js/jquery object */\n          var obj = val.jquery ? val : $(val);\n\n          if (!obj.length) {\n            return;\n          }\n\n          return dir === \"x\" ? _childPos(obj)[1] : _childPos(obj)[0];\n          break;\n\n        case \"string\":\n        case \"number\":\n          if (_isNumeric(val)) {\n            /* numeric value */\n            return Math.abs(val);\n          } else if (val.indexOf(\"%\") !== -1) {\n            /* percentage value */\n            return Math.abs(contentLength * parseInt(val) / 100);\n          } else if (val.indexOf(\"-=\") !== -1) {\n            /* decrease value */\n            return Math.abs(contentPos - parseInt(val.split(\"-=\")[1]));\n          } else if (val.indexOf(\"+=\") !== -1) {\n            /* inrease value */\n            var p = contentPos + parseInt(val.split(\"+=\")[1]);\n            return p >= 0 ? 0 : Math.abs(p);\n          } else if (val.indexOf(\"px\") !== -1 && _isNumeric(val.split(\"px\")[0])) {\n            /* pixels string value (e.g. \"100px\") */\n            return Math.abs(val.split(\"px\")[0]);\n          } else {\n            if (val === \"top\" || val === \"left\") {\n              /* special strings */\n              return 0;\n            } else if (val === \"bottom\") {\n              return Math.abs(wrapper.height() - mCSB_container.outerHeight(false));\n            } else if (val === \"right\") {\n              return Math.abs(wrapper.width() - mCSB_container.outerWidth(false));\n            } else if (val === \"first\" || val === \"last\") {\n              var obj = mCSB_container.find(\":\" + val);\n              return dir === \"x\" ? _childPos(obj)[1] : _childPos(obj)[0];\n            } else {\n              if ($(val).length) {\n                /* jquery selector */\n                return dir === \"x\" ? _childPos($(val))[1] : _childPos($(val))[0];\n              } else {\n                /* other values (e.g. \"100em\") */\n                mCSB_container.css(cssProp, val);\n                methods.update.call(null, $this[0]);\n                return;\n              }\n            }\n          }\n\n          break;\n      }\n    },\n\n    /* -------------------- */\n\n    /* calls the update method automatically */\n    _autoUpdate = function (rem) {\n      var $this = $(this),\n          d = $this.data(pluginPfx),\n          o = d.opt,\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\");\n\n      if (rem) {\n        /* \r\n        removes autoUpdate timer \r\n        usage: _autoUpdate.call(this,\"remove\");\r\n        */\n        clearTimeout(mCSB_container[0].autoUpdate);\n\n        _delete(mCSB_container[0], \"autoUpdate\");\n\n        return;\n      }\n\n      upd();\n\n      function upd() {\n        clearTimeout(mCSB_container[0].autoUpdate);\n\n        if ($this.parents(\"html\").length === 0) {\n          /* check element in dom tree */\n          $this = null;\n          return;\n        }\n\n        mCSB_container[0].autoUpdate = setTimeout(function () {\n          /* update on specific selector(s) length and size change */\n          if (o.advanced.updateOnSelectorChange) {\n            d.poll.change.n = sizesSum();\n\n            if (d.poll.change.n !== d.poll.change.o) {\n              d.poll.change.o = d.poll.change.n;\n              doUpd(3);\n              return;\n            }\n          }\n          /* update on main element and scrollbar size changes */\n\n\n          if (o.advanced.updateOnContentResize) {\n            d.poll.size.n = $this[0].scrollHeight + $this[0].scrollWidth + mCSB_container[0].offsetHeight + $this[0].offsetHeight + $this[0].offsetWidth;\n\n            if (d.poll.size.n !== d.poll.size.o) {\n              d.poll.size.o = d.poll.size.n;\n              doUpd(1);\n              return;\n            }\n          }\n          /* update on image load */\n\n\n          if (o.advanced.updateOnImageLoad) {\n            if (!(o.advanced.updateOnImageLoad === \"auto\" && o.axis === \"y\")) {\n              //by default, it doesn't run on vertical content\n              d.poll.img.n = mCSB_container.find(\"img\").length;\n\n              if (d.poll.img.n !== d.poll.img.o) {\n                d.poll.img.o = d.poll.img.n;\n                mCSB_container.find(\"img\").each(function () {\n                  imgLoader(this);\n                });\n                return;\n              }\n            }\n          }\n\n          if (o.advanced.updateOnSelectorChange || o.advanced.updateOnContentResize || o.advanced.updateOnImageLoad) {\n            upd();\n          }\n        }, o.advanced.autoUpdateTimeout);\n      }\n      /* a tiny image loader */\n\n\n      function imgLoader(el) {\n        if ($(el).hasClass(classes[2])) {\n          doUpd();\n          return;\n        }\n\n        var img = new Image();\n\n        function createDelegate(contextObject, delegateMethod) {\n          return function () {\n            return delegateMethod.apply(contextObject, arguments);\n          };\n        }\n\n        function imgOnLoad() {\n          this.onload = null;\n          $(el).addClass(classes[2]);\n          doUpd(2);\n        }\n\n        img.onload = createDelegate(img, imgOnLoad);\n        img.src = el.src;\n      }\n      /* returns the total height and width sum of all elements matching the selector */\n\n\n      function sizesSum() {\n        if (o.advanced.updateOnSelectorChange === true) {\n          o.advanced.updateOnSelectorChange = \"*\";\n        }\n\n        var total = 0,\n            sel = mCSB_container.find(o.advanced.updateOnSelectorChange);\n\n        if (o.advanced.updateOnSelectorChange && sel.length > 0) {\n          sel.each(function () {\n            total += this.offsetHeight + this.offsetWidth;\n          });\n        }\n\n        return total;\n      }\n      /* calls the update method */\n\n\n      function doUpd(cb) {\n        clearTimeout(mCSB_container[0].autoUpdate);\n        methods.update.call(null, $this[0], cb);\n      }\n    },\n\n    /* -------------------- */\n\n    /* snaps scrolling to a multiple of a pixels number */\n    _snapAmount = function (to, amount, offset) {\n      return Math.round(to / amount) * amount - offset;\n    },\n\n    /* -------------------- */\n\n    /* stops content and scrollbar animations */\n    _stop = function (el) {\n      var d = el.data(pluginPfx),\n          sel = $(\"#mCSB_\" + d.idx + \"_container,#mCSB_\" + d.idx + \"_container_wrapper,#mCSB_\" + d.idx + \"_dragger_vertical,#mCSB_\" + d.idx + \"_dragger_horizontal\");\n      sel.each(function () {\n        _stopTween.call(this);\n      });\n    },\n\n    /* -------------------- */\n\n    /* \r\n    ANIMATES CONTENT \r\n    This is where the actual scrolling happens\r\n    */\n    _scrollTo = function (el, to, options) {\n      var d = el.data(pluginPfx),\n          o = d.opt,\n          defaults = {\n        trigger: \"internal\",\n        dir: \"y\",\n        scrollEasing: \"mcsEaseOut\",\n        drag: false,\n        dur: o.scrollInertia,\n        overwrite: \"all\",\n        callbacks: true,\n        onStart: true,\n        onUpdate: true,\n        onComplete: true\n      },\n          options = $.extend(defaults, options),\n          dur = [options.dur, options.drag ? 0 : options.dur],\n          mCustomScrollBox = $(\"#mCSB_\" + d.idx),\n          mCSB_container = $(\"#mCSB_\" + d.idx + \"_container\"),\n          wrapper = mCSB_container.parent(),\n          totalScrollOffsets = o.callbacks.onTotalScrollOffset ? _arr.call(el, o.callbacks.onTotalScrollOffset) : [0, 0],\n          totalScrollBackOffsets = o.callbacks.onTotalScrollBackOffset ? _arr.call(el, o.callbacks.onTotalScrollBackOffset) : [0, 0];\n      d.trigger = options.trigger;\n\n      if (wrapper.scrollTop() !== 0 || wrapper.scrollLeft() !== 0) {\n        /* always reset scrollTop/Left */\n        $(\".mCSB_\" + d.idx + \"_scrollbar\").css(\"visibility\", \"visible\");\n        wrapper.scrollTop(0).scrollLeft(0);\n      }\n\n      if (to === \"_resetY\" && !d.contentReset.y) {\n        /* callbacks: onOverflowYNone */\n        if (_cb(\"onOverflowYNone\")) {\n          o.callbacks.onOverflowYNone.call(el[0]);\n        }\n\n        d.contentReset.y = 1;\n      }\n\n      if (to === \"_resetX\" && !d.contentReset.x) {\n        /* callbacks: onOverflowXNone */\n        if (_cb(\"onOverflowXNone\")) {\n          o.callbacks.onOverflowXNone.call(el[0]);\n        }\n\n        d.contentReset.x = 1;\n      }\n\n      if (to === \"_resetY\" || to === \"_resetX\") {\n        return;\n      }\n\n      if ((d.contentReset.y || !el[0].mcs) && d.overflowed[0]) {\n        /* callbacks: onOverflowY */\n        if (_cb(\"onOverflowY\")) {\n          o.callbacks.onOverflowY.call(el[0]);\n        }\n\n        d.contentReset.x = null;\n      }\n\n      if ((d.contentReset.x || !el[0].mcs) && d.overflowed[1]) {\n        /* callbacks: onOverflowX */\n        if (_cb(\"onOverflowX\")) {\n          o.callbacks.onOverflowX.call(el[0]);\n        }\n\n        d.contentReset.x = null;\n      }\n\n      if (o.snapAmount) {\n        /* scrolling snapping */\n        var snapAmount = !(o.snapAmount instanceof Array) ? o.snapAmount : options.dir === \"x\" ? o.snapAmount[1] : o.snapAmount[0];\n        to = _snapAmount(to, snapAmount, o.snapOffset);\n      }\n\n      switch (options.dir) {\n        case \"x\":\n          var mCSB_dragger = $(\"#mCSB_\" + d.idx + \"_dragger_horizontal\"),\n              property = \"left\",\n              contentPos = mCSB_container[0].offsetLeft,\n              limit = [mCustomScrollBox.width() - mCSB_container.outerWidth(false), mCSB_dragger.parent().width() - mCSB_dragger.width()],\n              scrollTo = [to, to === 0 ? 0 : to / d.scrollRatio.x],\n              tso = totalScrollOffsets[1],\n              tsbo = totalScrollBackOffsets[1],\n              totalScrollOffset = tso > 0 ? tso / d.scrollRatio.x : 0,\n              totalScrollBackOffset = tsbo > 0 ? tsbo / d.scrollRatio.x : 0;\n          break;\n\n        case \"y\":\n          var mCSB_dragger = $(\"#mCSB_\" + d.idx + \"_dragger_vertical\"),\n              property = \"top\",\n              contentPos = mCSB_container[0].offsetTop,\n              limit = [mCustomScrollBox.height() - mCSB_container.outerHeight(false), mCSB_dragger.parent().height() - mCSB_dragger.height()],\n              scrollTo = [to, to === 0 ? 0 : to / d.scrollRatio.y],\n              tso = totalScrollOffsets[0],\n              tsbo = totalScrollBackOffsets[0],\n              totalScrollOffset = tso > 0 ? tso / d.scrollRatio.y : 0,\n              totalScrollBackOffset = tsbo > 0 ? tsbo / d.scrollRatio.y : 0;\n          break;\n      }\n\n      if (scrollTo[1] < 0 || scrollTo[0] === 0 && scrollTo[1] === 0) {\n        scrollTo = [0, 0];\n      } else if (scrollTo[1] >= limit[1]) {\n        scrollTo = [limit[0], limit[1]];\n      } else {\n        scrollTo[0] = -scrollTo[0];\n      }\n\n      if (!el[0].mcs) {\n        _mcs();\n        /* init mcs object (once) to make it available before callbacks */\n\n\n        if (_cb(\"onInit\")) {\n          o.callbacks.onInit.call(el[0]);\n        }\n        /* callbacks: onInit */\n\n      }\n\n      clearTimeout(mCSB_container[0].onCompleteTimeout);\n\n      _tweenTo(mCSB_dragger[0], property, Math.round(scrollTo[1]), dur[1], options.scrollEasing);\n\n      if (!d.tweenRunning && (contentPos === 0 && scrollTo[0] >= 0 || contentPos === limit[0] && scrollTo[0] <= limit[0])) {\n        return;\n      }\n\n      _tweenTo(mCSB_container[0], property, Math.round(scrollTo[0]), dur[0], options.scrollEasing, options.overwrite, {\n        onStart: function () {\n          if (options.callbacks && options.onStart && !d.tweenRunning) {\n            /* callbacks: onScrollStart */\n            if (_cb(\"onScrollStart\")) {\n              _mcs();\n\n              o.callbacks.onScrollStart.call(el[0]);\n            }\n\n            d.tweenRunning = true;\n\n            _onDragClasses(mCSB_dragger);\n\n            d.cbOffsets = _cbOffsets();\n          }\n        },\n        onUpdate: function () {\n          if (options.callbacks && options.onUpdate) {\n            /* callbacks: whileScrolling */\n            if (_cb(\"whileScrolling\")) {\n              _mcs();\n\n              o.callbacks.whileScrolling.call(el[0]);\n            }\n          }\n        },\n        onComplete: function () {\n          if (options.callbacks && options.onComplete) {\n            if (o.axis === \"yx\") {\n              clearTimeout(mCSB_container[0].onCompleteTimeout);\n            }\n\n            var t = mCSB_container[0].idleTimer || 0;\n            mCSB_container[0].onCompleteTimeout = setTimeout(function () {\n              /* callbacks: onScroll, onTotalScroll, onTotalScrollBack */\n              if (_cb(\"onScroll\")) {\n                _mcs();\n\n                o.callbacks.onScroll.call(el[0]);\n              }\n\n              if (_cb(\"onTotalScroll\") && scrollTo[1] >= limit[1] - totalScrollOffset && d.cbOffsets[0]) {\n                _mcs();\n\n                o.callbacks.onTotalScroll.call(el[0]);\n              }\n\n              if (_cb(\"onTotalScrollBack\") && scrollTo[1] <= totalScrollBackOffset && d.cbOffsets[1]) {\n                _mcs();\n\n                o.callbacks.onTotalScrollBack.call(el[0]);\n              }\n\n              d.tweenRunning = false;\n              mCSB_container[0].idleTimer = 0;\n\n              _onDragClasses(mCSB_dragger, \"hide\");\n            }, t);\n          }\n        }\n      });\n      /* checks if callback function exists */\n\n\n      function _cb(cb) {\n        return d && o.callbacks[cb] && typeof o.callbacks[cb] === \"function\";\n      }\n      /* checks whether callback offsets always trigger */\n\n\n      function _cbOffsets() {\n        return [o.callbacks.alwaysTriggerOffsets || contentPos >= limit[0] + tso, o.callbacks.alwaysTriggerOffsets || contentPos <= -tsbo];\n      }\n      /* \r\n      populates object with useful values for the user \r\n      values: \r\n      \tcontent: this.mcs.content\r\n      \tcontent top position: this.mcs.top \r\n      \tcontent left position: this.mcs.left \r\n      \tdragger top position: this.mcs.draggerTop \r\n      \tdragger left position: this.mcs.draggerLeft \r\n      \tscrolling y percentage: this.mcs.topPct \r\n      \tscrolling x percentage: this.mcs.leftPct \r\n      \tscrolling direction: this.mcs.direction\r\n      */\n\n\n      function _mcs() {\n        var cp = [mCSB_container[0].offsetTop, mCSB_container[0].offsetLeft],\n\n        /* content position */\n        dp = [mCSB_dragger[0].offsetTop, mCSB_dragger[0].offsetLeft],\n\n        /* dragger position */\n        cl = [mCSB_container.outerHeight(false), mCSB_container.outerWidth(false)],\n\n        /* content length */\n        pl = [mCustomScrollBox.height(), mCustomScrollBox.width()];\n        /* content parent length */\n\n        el[0].mcs = {\n          content: mCSB_container,\n\n          /* original content wrapper as jquery object */\n          top: cp[0],\n          left: cp[1],\n          draggerTop: dp[0],\n          draggerLeft: dp[1],\n          topPct: Math.round(100 * Math.abs(cp[0]) / (Math.abs(cl[0]) - pl[0])),\n          leftPct: Math.round(100 * Math.abs(cp[1]) / (Math.abs(cl[1]) - pl[1])),\n          direction: options.dir\n        };\n        /* \r\n        this refers to the original element containing the scrollbar(s)\r\n        usage: this.mcs.top, this.mcs.leftPct etc. \r\n        */\n      }\n    },\n\n    /* -------------------- */\n\n    /* \r\n    CUSTOM JAVASCRIPT ANIMATION TWEEN \r\n    Lighter and faster than jquery animate() and css transitions \r\n    Animates top/left properties and includes easings \r\n    */\n    _tweenTo = function (el, prop, to, duration, easing, overwrite, callbacks) {\n      if (!el._mTween) {\n        el._mTween = {\n          top: {},\n          left: {}\n        };\n      }\n\n      var callbacks = callbacks || {},\n          onStart = callbacks.onStart || function () {},\n          onUpdate = callbacks.onUpdate || function () {},\n          onComplete = callbacks.onComplete || function () {},\n          startTime = _getTime(),\n          _delay,\n          progress = 0,\n          from = el.offsetTop,\n          elStyle = el.style,\n          _request,\n          tobj = el._mTween[prop];\n\n      if (prop === \"left\") {\n        from = el.offsetLeft;\n      }\n\n      var diff = to - from;\n      tobj.stop = 0;\n\n      if (overwrite !== \"none\") {\n        _cancelTween();\n      }\n\n      _startTween();\n\n      function _step() {\n        if (tobj.stop) {\n          return;\n        }\n\n        if (!progress) {\n          onStart.call();\n        }\n\n        progress = _getTime() - startTime;\n\n        _tween();\n\n        if (progress >= tobj.time) {\n          tobj.time = progress > tobj.time ? progress + _delay - (progress - tobj.time) : progress + _delay - 1;\n\n          if (tobj.time < progress + 1) {\n            tobj.time = progress + 1;\n          }\n        }\n\n        if (tobj.time < duration) {\n          tobj.id = _request(_step);\n        } else {\n          onComplete.call();\n        }\n      }\n\n      function _tween() {\n        if (duration > 0) {\n          tobj.currVal = _ease(tobj.time, from, diff, duration, easing);\n          elStyle[prop] = Math.round(tobj.currVal) + \"px\";\n        } else {\n          elStyle[prop] = to + \"px\";\n        }\n\n        onUpdate.call();\n      }\n\n      function _startTween() {\n        _delay = 1000 / 60;\n        tobj.time = progress + _delay;\n        _request = !window.requestAnimationFrame ? function (f) {\n          _tween();\n\n          return setTimeout(f, 0.01);\n        } : window.requestAnimationFrame;\n        tobj.id = _request(_step);\n      }\n\n      function _cancelTween() {\n        if (tobj.id == null) {\n          return;\n        }\n\n        if (!window.requestAnimationFrame) {\n          clearTimeout(tobj.id);\n        } else {\n          window.cancelAnimationFrame(tobj.id);\n        }\n\n        tobj.id = null;\n      }\n\n      function _ease(t, b, c, d, type) {\n        switch (type) {\n          case \"linear\":\n          case \"mcsLinear\":\n            return c * t / d + b;\n            break;\n\n          case \"mcsLinearOut\":\n            t /= d;\n            t--;\n            return c * Math.sqrt(1 - t * t) + b;\n            break;\n\n          case \"easeInOutSmooth\":\n            t /= d / 2;\n            if (t < 1) return c / 2 * t * t + b;\n            t--;\n            return -c / 2 * (t * (t - 2) - 1) + b;\n            break;\n\n          case \"easeInOutStrong\":\n            t /= d / 2;\n            if (t < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n            t--;\n            return c / 2 * (-Math.pow(2, -10 * t) + 2) + b;\n            break;\n\n          case \"easeInOut\":\n          case \"mcsEaseInOut\":\n            t /= d / 2;\n            if (t < 1) return c / 2 * t * t * t + b;\n            t -= 2;\n            return c / 2 * (t * t * t + 2) + b;\n            break;\n\n          case \"easeOutSmooth\":\n            t /= d;\n            t--;\n            return -c * (t * t * t * t - 1) + b;\n            break;\n\n          case \"easeOutStrong\":\n            return c * (-Math.pow(2, -10 * t / d) + 1) + b;\n            break;\n\n          case \"easeOut\":\n          case \"mcsEaseOut\":\n          default:\n            var ts = (t /= d) * t,\n                tc = ts * t;\n            return b + c * (0.499999999999997 * tc * ts + -2.5 * ts * ts + 5.5 * tc + -6.5 * ts + 4 * t);\n        }\n      }\n    },\n\n    /* -------------------- */\n\n    /* returns current time */\n    _getTime = function () {\n      if (window.performance && window.performance.now) {\n        return window.performance.now();\n      } else {\n        if (window.performance && window.performance.webkitNow) {\n          return window.performance.webkitNow();\n        } else {\n          if (Date.now) {\n            return Date.now();\n          } else {\n            return new Date().getTime();\n          }\n        }\n      }\n    },\n\n    /* -------------------- */\n\n    /* stops a tween */\n    _stopTween = function () {\n      var el = this;\n\n      if (!el._mTween) {\n        el._mTween = {\n          top: {},\n          left: {}\n        };\n      }\n\n      var props = [\"top\", \"left\"];\n\n      for (var i = 0; i < props.length; i++) {\n        var prop = props[i];\n\n        if (el._mTween[prop].id) {\n          if (!window.requestAnimationFrame) {\n            clearTimeout(el._mTween[prop].id);\n          } else {\n            window.cancelAnimationFrame(el._mTween[prop].id);\n          }\n\n          el._mTween[prop].id = null;\n          el._mTween[prop].stop = 1;\n        }\n      }\n    },\n\n    /* -------------------- */\n\n    /* deletes a property (avoiding the exception thrown by IE) */\n    _delete = function (c, m) {\n      try {\n        delete c[m];\n      } catch (e) {\n        c[m] = null;\n      }\n    },\n\n    /* -------------------- */\n\n    /* detects left mouse button */\n    _mouseBtnLeft = function (e) {\n      return !(e.which && e.which !== 1);\n    },\n\n    /* -------------------- */\n\n    /* detects if pointer type event is touch */\n    _pointerTouch = function (e) {\n      var t = e.originalEvent.pointerType;\n      return !(t && t !== \"touch\" && t !== 2);\n    },\n\n    /* -------------------- */\n\n    /* checks if value is numeric */\n    _isNumeric = function (val) {\n      return !isNaN(parseFloat(val)) && isFinite(val);\n    },\n\n    /* -------------------- */\n\n    /* returns element position according to content */\n    _childPos = function (el) {\n      var p = el.parents(\".mCSB_container\");\n      return [el.offset().top - p.offset().top, el.offset().left - p.offset().left];\n    },\n\n    /* -------------------- */\n\n    /* checks if browser tab is hidden/inactive via Page Visibility API */\n    _isTabHidden = function () {\n      var prop = _getHiddenProp();\n\n      if (!prop) return false;\n      return document[prop];\n\n      function _getHiddenProp() {\n        var pfx = [\"webkit\", \"moz\", \"ms\", \"o\"];\n        if (\"hidden\" in document) return \"hidden\"; //natively supported\n\n        for (var i = 0; i < pfx.length; i++) {\n          //prefixed\n          if (pfx[i] + \"Hidden\" in document) return pfx[i] + \"Hidden\";\n        }\n\n        return null; //not supported\n      }\n    };\n    /* -------------------- */\n\n    /* \r\n    ----------------------------------------\r\n    PLUGIN SETUP \r\n    ----------------------------------------\r\n    */\n\n    /* plugin constructor functions */\n\n\n    $.fn[pluginNS] = function (method) {\n      /* usage: $(selector).mCustomScrollbar(); */\n      if (methods[method]) {\n        return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n      } else if (typeof method === \"object\" || !method) {\n        return methods.init.apply(this, arguments);\n      } else {\n        $.error(\"Method \" + method + \" does not exist\");\n      }\n    };\n\n    $[pluginNS] = function (method) {\n      /* usage: $.mCustomScrollbar(); */\n      if (methods[method]) {\n        return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n      } else if (typeof method === \"object\" || !method) {\n        return methods.init.apply(this, arguments);\n      } else {\n        $.error(\"Method \" + method + \" does not exist\");\n      }\n    };\n    /* \r\n    allow setting plugin default options. \r\n    usage: $.mCustomScrollbar.defaults.scrollInertia=500; \r\n    to apply any changed default options on default selectors (below), use inside document ready fn \r\n    e.g.: $(document).ready(function(){ $.mCustomScrollbar.defaults.scrollInertia=500; });\r\n    */\n\n\n    $[pluginNS].defaults = defaults;\n    /* \r\n    add window object (window.mCustomScrollbar) \r\n    usage: if(window.mCustomScrollbar){console.log(\"custom scrollbar plugin loaded\");}\r\n    */\n\n    window[pluginNS] = true;\n    $(window).bind(\"load\", function () {\n      $(defaultSelector)[pluginNS]();\n      /* add scrollbars automatically on default selector */\n\n      /* extend jQuery expressions */\n\n      $.extend($.expr[\":\"], {\n        /* checks if element is within scrollable viewport */\n        mcsInView: $.expr[\":\"].mcsInView || function (el) {\n          var $el = $(el),\n              content = $el.parents(\".mCSB_container\"),\n              wrapper,\n              cPos;\n\n          if (!content.length) {\n            return;\n          }\n\n          wrapper = content.parent();\n          cPos = [content[0].offsetTop, content[0].offsetLeft];\n          return cPos[0] + _childPos($el)[0] >= 0 && cPos[0] + _childPos($el)[0] < wrapper.height() - $el.outerHeight(false) && cPos[1] + _childPos($el)[1] >= 0 && cPos[1] + _childPos($el)[1] < wrapper.width() - $el.outerWidth(false);\n        },\n\n        /* checks if element or part of element is in view of scrollable viewport */\n        mcsInSight: $.expr[\":\"].mcsInSight || function (el, i, m) {\n          var $el = $(el),\n              elD,\n              content = $el.parents(\".mCSB_container\"),\n              wrapperView,\n              pos,\n              wrapperViewPct,\n              pctVals = m[3] === \"exact\" ? [[1, 0], [1, 0]] : [[0.9, 0.1], [0.6, 0.4]];\n\n          if (!content.length) {\n            return;\n          }\n\n          elD = [$el.outerHeight(false), $el.outerWidth(false)];\n          pos = [content[0].offsetTop + _childPos($el)[0], content[0].offsetLeft + _childPos($el)[1]];\n          wrapperView = [content.parent()[0].offsetHeight, content.parent()[0].offsetWidth];\n          wrapperViewPct = [elD[0] < wrapperView[0] ? pctVals[0] : pctVals[1], elD[1] < wrapperView[1] ? pctVals[0] : pctVals[1]];\n          return pos[0] - wrapperView[0] * wrapperViewPct[0][0] < 0 && pos[0] + elD[0] - wrapperView[0] * wrapperViewPct[0][1] >= 0 && pos[1] - wrapperView[1] * wrapperViewPct[1][0] < 0 && pos[1] + elD[1] - wrapperView[1] * wrapperViewPct[1][1] >= 0;\n        },\n\n        /* checks if element is overflowed having visible scrollbar(s) */\n        mcsOverflow: $.expr[\":\"].mcsOverflow || function (el) {\n          var d = $(el).data(pluginPfx);\n\n          if (!d) {\n            return;\n          }\n\n          return d.overflowed[0] || d.overflowed[1];\n        }\n      });\n    });\n  });\n});","map":{"version":3,"sources":["D:/DATN/movie-app-master/client/node_modules/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.js"],"names":["factory","define","amd","module","exports","jQuery","window","document","$","init","_rjs","_njs","_dlp","location","protocol","_url","require","event","special","mousewheel","append","decodeURI","pluginNS","pluginPfx","defaultSelector","defaults","setTop","setLeft","axis","scrollbarPosition","scrollInertia","autoDraggerLength","alwaysShowScrollbar","snapOffset","mouseWheel","enable","scrollAmount","deltaFactor","disableOver","scrollButtons","scrollType","keyboard","contentTouchScroll","documentTouchScroll","advanced","autoScrollOnFocus","updateOnContentResize","updateOnImageLoad","autoUpdateTimeout","theme","callbacks","onTotalScrollOffset","onTotalScrollBackOffset","alwaysTriggerOffsets","totalInstances","liveTimers","oldIE","attachEvent","addEventListener","touchActive","touchable","classes","methods","options","extend","selector","_selector","call","live","liveSelector","$liveSelector","removeLiveTimers","setTimeout","mCustomScrollbar","length","setWidth","set_width","setHeight","set_height","horizontalScroll","_findAxis","preventDefault","normalizeDelta","invert","mouseWheelPixels","normalizeMouseWheelDelta","_findScrollButtonsType","_theme","each","$this","data","idx","opt","scrollRatio","y","x","overflowed","contentReset","bindEvents","tweenRunning","sequential","langDir","css","cbOffsets","trigger","poll","size","o","n","img","change","d","htmlDataAxis","htmlDataSbPos","htmlDataTheme","_pluginMarkup","onCreate","addClass","update","el","cb","mCSB_container","mCustomScrollBox","mCSB_dragger","_stop","onBeforeUpdate","hasClass","removeClass","height","_expandContentHorizontally","autoExpandHorizontalScroll","_contentWidth","_overflowed","_scrollbarVisibility","_setDraggerLength","_scrollRatio","_bindEvents","to","Math","abs","offsetTop","offsetLeft","_resetContentPosition","_unbindEvents","_scrollTo","toString","dir","dur","overwrite","parent","width","onImageLoad","onSelectorChange","onUpdate","_autoUpdate","scrollTo","val","methodDefaults","scrollEasing","moveDragger","timeout","onStart","onComplete","methodOptions","_arr","_to","_isTabHidden","stop","disable","r","destroy","scrollbar","removeData","_delete","remove","find","replaceWith","contents","obj","fixedSizeScrollbarThemes","nonExpandedScrollbarThemes","disabledScrollButtonsThemes","enabledAutoHideScrollbarThemes","scrollbarPositionOutsideThemes","inArray","autoExpandScrollbar","autoHideScrollbar","clearTimeout","expandClass","wrapperClass","scrollbars","contentWrapper","autoHideClass","scrollbarDirClass","wrapInner","after","wrap","_scrollButtons","scrollWidth","max","apply","children","map","outerWidth","get","w","ceil","getBoundingClientRect","right","floor","left","unwrap","mCSB_scrollTools","tabindex","_isNumeric","btnHTML","btn","prepend","next","ratio","outerHeight","l","parseInt","round","h","_onDragClasses","action","xpnd","closest","toggleClass","_draggable","contentHeight","contentWidth","scrollHeight","add","cx","dx","_contentDraggable","_selectable","_mwt","mousewheelTimeout","_mousewheel","_draggerRail","_wrapperScroll","_focus","_buttons","_keyboard","namespace","sb","sel","releaseDraggableSelectors","extraDraggableSelectors","_canAccessIFrame","top","unbind","_focusTimeout","step","onCompleteTimeout","disabled","content","_coordinates","e","t","type","target","ownerDocument","frameElement","offset","io","view","originalEvent","pageY","pageX","touch","touches","changedTouches","screenY","screenX","draggerId","draggable","dragY","dragX","rds","eds","bind","stopImmediatePropagation","_mouseBtnLeft","onselectstart","_iframe","_drag","idleTimer","attr","drag","touchStartY","touchStartX","touchMoveY","touchMoveX","startTime","runningTime","endTime","distance","speed","amount","durA","durB","touchIntent","touchDrag","docDrag","iframe","events","touchAction","body","style","undefined","_onTouchstart","_onTouchmove","_onTouchstart2","_onTouchend","contentDocument","contentWindow","_pointerTouch","_getTime","easing","push","limit","prevent","limitX","preventX","slow","diff","absDistance","a","_m","md","ds","s","seq","wrapper","_sel","_seq","getSelection","selection","createRange","text","c","_sequentialScroll","delta","_onMousewheel","_disableMousewheel","px","contentPos","draggerPos","dlt","deltaY","deltaX","webkitDirectionInvertedFromDevice","_canAccessIFrameCache","Object","result","cacheKey","html","doc","innerHTML","err","evt","tag","nodeName","toLowerCase","tags","focusTags","is","mCSB_draggerContainer","clickable","clickDir","activeElement","nested","_focusTimer","_childPos","isVisible","scrollTop","scrollLeft","btnClass","editables","_onKeyboard","code","keyCode","which","keyboardDir","once","steplessSpeed","steppedSpeed","_on","_off","snapAmount","Array","m","vals","contentLength","cssProp","jquery","indexOf","split","p","rem","autoUpdate","upd","parents","updateOnSelectorChange","sizesSum","doUpd","offsetHeight","offsetWidth","imgLoader","Image","createDelegate","contextObject","delegateMethod","arguments","imgOnLoad","onload","src","total","_snapAmount","_stopTween","totalScrollOffsets","totalScrollBackOffsets","_cb","onOverflowYNone","onOverflowXNone","mcs","onOverflowY","onOverflowX","property","tso","tsbo","totalScrollOffset","totalScrollBackOffset","_mcs","onInit","_tweenTo","onScrollStart","_cbOffsets","whileScrolling","onScroll","onTotalScroll","onTotalScrollBack","cp","dp","cl","pl","draggerTop","draggerLeft","topPct","leftPct","direction","prop","duration","_mTween","_delay","progress","from","elStyle","_request","tobj","_cancelTween","_startTween","_step","_tween","time","id","currVal","_ease","requestAnimationFrame","f","cancelAnimationFrame","b","sqrt","pow","ts","tc","performance","now","webkitNow","Date","getTime","props","i","pointerType","isNaN","parseFloat","isFinite","_getHiddenProp","pfx","fn","method","prototype","slice","error","expr","mcsInView","$el","cPos","mcsInSight","elD","wrapperView","pos","wrapperViewPct","pctVals","mcsOverflow"],"mappings":"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","sourcesContent":["/*\r\n== malihu jquery custom scrollbar plugin == \r\nVersion: 3.1.5 \r\nPlugin URI: http://manos.malihu.gr/jquery-custom-content-scroller \r\nAuthor: malihu\r\nAuthor URI: http://manos.malihu.gr\r\nLicense: MIT License (MIT)\r\n*/\r\n\r\n/*\r\nCopyright Manos Malihutsakis (email: manos@malihu.gr)\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n*/\r\n\r\n/*\r\nThe code below is fairly long, fully commented and should be normally used in development. \r\nFor production, use either the minified jquery.mCustomScrollbar.min.js script or \r\nthe production-ready jquery.mCustomScrollbar.concat.min.js which contains the plugin \r\nand dependencies (minified). \r\n*/\r\n\r\n(function(factory){\r\n\tif(typeof define===\"function\" && define.amd){\r\n\t\tdefine([\"jquery\"],factory);\r\n\t}else if(typeof module!==\"undefined\" && module.exports){\r\n\t\tmodule.exports=factory;\r\n\t}else{\r\n\t\tfactory(jQuery,window,document);\r\n\t}\r\n}(function($){\r\n(function(init){\r\n\tvar _rjs=typeof define===\"function\" && define.amd, /* RequireJS */\r\n\t\t_njs=typeof module !== \"undefined\" && module.exports, /* NodeJS */\r\n\t\t_dlp=(\"https:\"==document.location.protocol) ? \"https:\" : \"http:\", /* location protocol */\r\n\t\t_url=\"cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js\";\r\n\tif(!_rjs){\r\n\t\tif(_njs){\r\n\t\t\trequire(\"jquery-mousewheel\")($);\r\n\t\t}else{\r\n\t\t\t/* load jquery-mousewheel plugin (via CDN) if it's not present or not loaded via RequireJS \r\n\t\t\t(works when mCustomScrollbar fn is called on window load) */\r\n\t\t\t$.event.special.mousewheel || $(\"head\").append(decodeURI(\"%3Cscript src=\"+_dlp+\"//\"+_url+\"%3E%3C/script%3E\"));\r\n\t\t}\r\n\t}\r\n\tinit();\r\n}(function(){\r\n\t\r\n\t/* \r\n\t----------------------------------------\r\n\tPLUGIN NAMESPACE, PREFIX, DEFAULT SELECTOR(S) \r\n\t----------------------------------------\r\n\t*/\r\n\t\r\n\tvar pluginNS=\"mCustomScrollbar\",\r\n\t\tpluginPfx=\"mCS\",\r\n\t\tdefaultSelector=\".mCustomScrollbar\",\r\n\t\r\n\t\r\n\t\t\r\n\t\r\n\t\r\n\t/* \r\n\t----------------------------------------\r\n\tDEFAULT OPTIONS \r\n\t----------------------------------------\r\n\t*/\r\n\t\r\n\t\tdefaults={\r\n\t\t\t/*\r\n\t\t\tset element/content width/height programmatically \r\n\t\t\tvalues: boolean, pixels, percentage \r\n\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t-------------------------------------\r\n\t\t\t\tsetWidth\t\t\t\t\tfalse\r\n\t\t\t\tsetHeight\t\t\t\t\tfalse\r\n\t\t\t*/\r\n\t\t\t/*\r\n\t\t\tset the initial css top property of content  \r\n\t\t\tvalues: string (e.g. \"-100px\", \"10%\" etc.)\r\n\t\t\t*/\r\n\t\t\tsetTop:0,\r\n\t\t\t/*\r\n\t\t\tset the initial css left property of content  \r\n\t\t\tvalues: string (e.g. \"-100px\", \"10%\" etc.)\r\n\t\t\t*/\r\n\t\t\tsetLeft:0,\r\n\t\t\t/* \r\n\t\t\tscrollbar axis (vertical and/or horizontal scrollbars) \r\n\t\t\tvalues (string): \"y\", \"x\", \"yx\"\r\n\t\t\t*/\r\n\t\t\taxis:\"y\",\r\n\t\t\t/*\r\n\t\t\tposition of scrollbar relative to content  \r\n\t\t\tvalues (string): \"inside\", \"outside\" (\"outside\" requires elements with position:relative)\r\n\t\t\t*/\r\n\t\t\tscrollbarPosition:\"inside\",\r\n\t\t\t/*\r\n\t\t\tscrolling inertia\r\n\t\t\tvalues: integer (milliseconds)\r\n\t\t\t*/\r\n\t\t\tscrollInertia:950,\r\n\t\t\t/* \r\n\t\t\tauto-adjust scrollbar dragger length\r\n\t\t\tvalues: boolean\r\n\t\t\t*/\r\n\t\t\tautoDraggerLength:true,\r\n\t\t\t/*\r\n\t\t\tauto-hide scrollbar when idle \r\n\t\t\tvalues: boolean\r\n\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t-------------------------------------\r\n\t\t\t\tautoHideScrollbar\t\t\tfalse\r\n\t\t\t*/\r\n\t\t\t/*\r\n\t\t\tauto-expands scrollbar on mouse-over and dragging\r\n\t\t\tvalues: boolean\r\n\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t-------------------------------------\r\n\t\t\t\tautoExpandScrollbar\t\t\tfalse\r\n\t\t\t*/\r\n\t\t\t/*\r\n\t\t\talways show scrollbar, even when there's nothing to scroll \r\n\t\t\tvalues: integer (0=disable, 1=always show dragger rail and buttons, 2=always show dragger rail, dragger and buttons), boolean\r\n\t\t\t*/\r\n\t\t\talwaysShowScrollbar:0,\r\n\t\t\t/*\r\n\t\t\tscrolling always snaps to a multiple of this number in pixels\r\n\t\t\tvalues: integer, array ([y,x])\r\n\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t-------------------------------------\r\n\t\t\t\tsnapAmount\t\t\t\t\tnull\r\n\t\t\t*/\r\n\t\t\t/*\r\n\t\t\twhen snapping, snap with this number in pixels as an offset \r\n\t\t\tvalues: integer\r\n\t\t\t*/\r\n\t\t\tsnapOffset:0,\r\n\t\t\t/* \r\n\t\t\tmouse-wheel scrolling\r\n\t\t\t*/\r\n\t\t\tmouseWheel:{\r\n\t\t\t\t/* \r\n\t\t\t\tenable mouse-wheel scrolling\r\n\t\t\t\tvalues: boolean\r\n\t\t\t\t*/\r\n\t\t\t\tenable:true,\r\n\t\t\t\t/* \r\n\t\t\t\tscrolling amount in pixels\r\n\t\t\t\tvalues: \"auto\", integer \r\n\t\t\t\t*/\r\n\t\t\t\tscrollAmount:\"auto\",\r\n\t\t\t\t/* \r\n\t\t\t\tmouse-wheel scrolling axis \r\n\t\t\t\tthe default scrolling direction when both vertical and horizontal scrollbars are present \r\n\t\t\t\tvalues (string): \"y\", \"x\" \r\n\t\t\t\t*/\r\n\t\t\t\taxis:\"y\",\r\n\t\t\t\t/* \r\n\t\t\t\tprevent the default behaviour which automatically scrolls the parent element(s) when end of scrolling is reached \r\n\t\t\t\tvalues: boolean\r\n\t\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\tpreventDefault\t\t\t\tnull\r\n\t\t\t\t*/\r\n\t\t\t\t/*\r\n\t\t\t\tthe reported mouse-wheel delta value. The number of lines (translated to pixels) one wheel notch scrolls.  \r\n\t\t\t\tvalues: \"auto\", integer \r\n\t\t\t\t\"auto\" uses the default OS/browser value \r\n\t\t\t\t*/\r\n\t\t\t\tdeltaFactor:\"auto\",\r\n\t\t\t\t/*\r\n\t\t\t\tnormalize mouse-wheel delta to -1 or 1 (disables mouse-wheel acceleration) \r\n\t\t\t\tvalues: boolean\r\n\t\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\tnormalizeDelta\t\t\t\tnull\r\n\t\t\t\t*/\r\n\t\t\t\t/*\r\n\t\t\t\tinvert mouse-wheel scrolling direction \r\n\t\t\t\tvalues: boolean\r\n\t\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\tinvert\t\t\t\t\t\tnull\r\n\t\t\t\t*/\r\n\t\t\t\t/*\r\n\t\t\t\tthe tags that disable mouse-wheel when cursor is over them\r\n\t\t\t\t*/\r\n\t\t\t\tdisableOver:[\"select\",\"option\",\"keygen\",\"datalist\",\"textarea\"]\r\n\t\t\t},\r\n\t\t\t/* \r\n\t\t\tscrollbar buttons\r\n\t\t\t*/\r\n\t\t\tscrollButtons:{ \r\n\t\t\t\t/*\r\n\t\t\t\tenable scrollbar buttons\r\n\t\t\t\tvalues: boolean\r\n\t\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\tenable\t\t\t\t\t\tnull\r\n\t\t\t\t*/\r\n\t\t\t\t/*\r\n\t\t\t\tscrollbar buttons scrolling type \r\n\t\t\t\tvalues (string): \"stepless\", \"stepped\"\r\n\t\t\t\t*/\r\n\t\t\t\tscrollType:\"stepless\",\r\n\t\t\t\t/*\r\n\t\t\t\tscrolling amount in pixels\r\n\t\t\t\tvalues: \"auto\", integer \r\n\t\t\t\t*/\r\n\t\t\t\tscrollAmount:\"auto\"\r\n\t\t\t\t/*\r\n\t\t\t\ttabindex of the scrollbar buttons\r\n\t\t\t\tvalues: false, integer\r\n\t\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\ttabindex\t\t\t\t\tnull\r\n\t\t\t\t*/\r\n\t\t\t},\r\n\t\t\t/* \r\n\t\t\tkeyboard scrolling\r\n\t\t\t*/\r\n\t\t\tkeyboard:{ \r\n\t\t\t\t/*\r\n\t\t\t\tenable scrolling via keyboard\r\n\t\t\t\tvalues: boolean\r\n\t\t\t\t*/\r\n\t\t\t\tenable:true,\r\n\t\t\t\t/*\r\n\t\t\t\tkeyboard scrolling type \r\n\t\t\t\tvalues (string): \"stepless\", \"stepped\"\r\n\t\t\t\t*/\r\n\t\t\t\tscrollType:\"stepless\",\r\n\t\t\t\t/*\r\n\t\t\t\tscrolling amount in pixels\r\n\t\t\t\tvalues: \"auto\", integer \r\n\t\t\t\t*/\r\n\t\t\t\tscrollAmount:\"auto\"\r\n\t\t\t},\r\n\t\t\t/*\r\n\t\t\tenable content touch-swipe scrolling \r\n\t\t\tvalues: boolean, integer, string (number)\r\n\t\t\tinteger values define the axis-specific minimum amount required for scrolling momentum\r\n\t\t\t*/\r\n\t\t\tcontentTouchScroll:25,\r\n\t\t\t/*\r\n\t\t\tenable/disable document (default) touch-swipe scrolling \r\n\t\t\t*/\r\n\t\t\tdocumentTouchScroll:true,\r\n\t\t\t/*\r\n\t\t\tadvanced option parameters\r\n\t\t\t*/\r\n\t\t\tadvanced:{\r\n\t\t\t\t/*\r\n\t\t\t\tauto-expand content horizontally (for \"x\" or \"yx\" axis) \r\n\t\t\t\tvalues: boolean, integer (the value 2 forces the non scrollHeight/scrollWidth method, the value 3 forces the scrollHeight/scrollWidth method)\r\n\t\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\tautoExpandHorizontalScroll\tnull\r\n\t\t\t\t*/\r\n\t\t\t\t/*\r\n\t\t\t\tauto-scroll to elements with focus\r\n\t\t\t\t*/\r\n\t\t\t\tautoScrollOnFocus:\"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']\",\r\n\t\t\t\t/*\r\n\t\t\t\tauto-update scrollbars on content, element or viewport resize \r\n\t\t\t\tshould be true for fluid layouts/elements, adding/removing content dynamically, hiding/showing elements, content with images etc. \r\n\t\t\t\tvalues: boolean\r\n\t\t\t\t*/\r\n\t\t\t\tupdateOnContentResize:true,\r\n\t\t\t\t/*\r\n\t\t\t\tauto-update scrollbars each time each image inside the element is fully loaded \r\n\t\t\t\tvalues: \"auto\", boolean\r\n\t\t\t\t*/\r\n\t\t\t\tupdateOnImageLoad:\"auto\",\r\n\t\t\t\t/*\r\n\t\t\t\tauto-update scrollbars based on the amount and size changes of specific selectors \r\n\t\t\t\tuseful when you need to update the scrollbar(s) automatically, each time a type of element is added, removed or changes its size \r\n\t\t\t\tvalues: boolean, string (e.g. \"ul li\" will auto-update scrollbars each time list-items inside the element are changed) \r\n\t\t\t\ta value of true (boolean) will auto-update scrollbars each time any element is changed\r\n\t\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\tupdateOnSelectorChange\t\tnull\r\n\t\t\t\t*/\r\n\t\t\t\t/*\r\n\t\t\t\textra selectors that'll allow scrollbar dragging upon mousemove/up, pointermove/up, touchend etc. (e.g. \"selector-1, selector-2\")\r\n\t\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\textraDraggableSelectors\t\tnull\r\n\t\t\t\t*/\r\n\t\t\t\t/*\r\n\t\t\t\textra selectors that'll release scrollbar dragging upon mouseup, pointerup, touchend etc. (e.g. \"selector-1, selector-2\")\r\n\t\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\treleaseDraggableSelectors\tnull\r\n\t\t\t\t*/\r\n\t\t\t\t/*\r\n\t\t\t\tauto-update timeout \r\n\t\t\t\tvalues: integer (milliseconds)\r\n\t\t\t\t*/\r\n\t\t\t\tautoUpdateTimeout:60\r\n\t\t\t},\r\n\t\t\t/* \r\n\t\t\tscrollbar theme \r\n\t\t\tvalues: string (see CSS/plugin URI for a list of ready-to-use themes)\r\n\t\t\t*/\r\n\t\t\ttheme:\"light\",\r\n\t\t\t/*\r\n\t\t\tuser defined callback functions\r\n\t\t\t*/\r\n\t\t\tcallbacks:{\r\n\t\t\t\t/*\r\n\t\t\t\tAvailable callbacks: \r\n\t\t\t\t\tcallback\t\t\t\t\tdefault\r\n\t\t\t\t\t-------------------------------------\r\n\t\t\t\t\tonCreate\t\t\t\t\tnull\r\n\t\t\t\t\tonInit\t\t\t\t\t\tnull\r\n\t\t\t\t\tonScrollStart\t\t\t\tnull\r\n\t\t\t\t\tonScroll\t\t\t\t\tnull\r\n\t\t\t\t\tonTotalScroll\t\t\t\tnull\r\n\t\t\t\t\tonTotalScrollBack\t\t\tnull\r\n\t\t\t\t\twhileScrolling\t\t\t\tnull\r\n\t\t\t\t\tonOverflowY\t\t\t\t\tnull\r\n\t\t\t\t\tonOverflowX\t\t\t\t\tnull\r\n\t\t\t\t\tonOverflowYNone\t\t\t\tnull\r\n\t\t\t\t\tonOverflowXNone\t\t\t\tnull\r\n\t\t\t\t\tonImageLoad\t\t\t\t\tnull\r\n\t\t\t\t\tonSelectorChange\t\t\tnull\r\n\t\t\t\t\tonBeforeUpdate\t\t\t\tnull\r\n\t\t\t\t\tonUpdate\t\t\t\t\tnull\r\n\t\t\t\t*/\r\n\t\t\t\tonTotalScrollOffset:0,\r\n\t\t\t\tonTotalScrollBackOffset:0,\r\n\t\t\t\talwaysTriggerOffsets:true\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\tadd scrollbar(s) on all elements matching the current selector, now and in the future \r\n\t\t\tvalues: boolean, string \r\n\t\t\tstring values: \"on\" (enable), \"once\" (disable after first invocation), \"off\" (disable)\r\n\t\t\tliveSelector values: string (selector)\r\n\t\t\t\toption\t\t\t\t\t\tdefault\r\n\t\t\t\t-------------------------------------\r\n\t\t\t\tlive\t\t\t\t\t\tfalse\r\n\t\t\t\tliveSelector\t\t\t\tnull\r\n\t\t\t*/\r\n\t\t},\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/* \r\n\t----------------------------------------\r\n\tVARS, CONSTANTS \r\n\t----------------------------------------\r\n\t*/\r\n\t\r\n\t\ttotalInstances=0, /* plugin instances amount */\r\n\t\tliveTimers={}, /* live option timers */\r\n\t\toldIE=(window.attachEvent && !window.addEventListener) ? 1 : 0, /* detect IE < 9 */\r\n\t\ttouchActive=false,touchable, /* global touch vars (for touch and pointer events) */\r\n\t\t/* general plugin classes */\r\n\t\tclasses=[\r\n\t\t\t\"mCSB_dragger_onDrag\",\"mCSB_scrollTools_onDrag\",\"mCS_img_loaded\",\"mCS_disabled\",\"mCS_destroyed\",\"mCS_no_scrollbar\",\r\n\t\t\t\"mCS-autoHide\",\"mCS-dir-rtl\",\"mCS_no_scrollbar_y\",\"mCS_no_scrollbar_x\",\"mCS_y_hidden\",\"mCS_x_hidden\",\"mCSB_draggerContainer\",\r\n\t\t\t\"mCSB_buttonUp\",\"mCSB_buttonDown\",\"mCSB_buttonLeft\",\"mCSB_buttonRight\"\r\n\t\t],\r\n\t\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/* \r\n\t----------------------------------------\r\n\tMETHODS \r\n\t----------------------------------------\r\n\t*/\r\n\t\r\n\t\tmethods={\r\n\t\t\t\r\n\t\t\t/* \r\n\t\t\tplugin initialization method \r\n\t\t\tcreates the scrollbar(s), plugin data object and options\r\n\t\t\t----------------------------------------\r\n\t\t\t*/\r\n\t\t\t\r\n\t\t\tinit:function(options){\r\n\t\t\t\t\r\n\t\t\t\tvar options=$.extend(true,{},defaults,options),\r\n\t\t\t\t\tselector=_selector.call(this); /* validate selector */\r\n\t\t\t\t\r\n\t\t\t\t/* \r\n\t\t\t\tif live option is enabled, monitor for elements matching the current selector and \r\n\t\t\t\tapply scrollbar(s) when found (now and in the future) \r\n\t\t\t\t*/\r\n\t\t\t\tif(options.live){\r\n\t\t\t\t\tvar liveSelector=options.liveSelector || this.selector || defaultSelector, /* live selector(s) */\r\n\t\t\t\t\t\t$liveSelector=$(liveSelector); /* live selector(s) as jquery object */\r\n\t\t\t\t\tif(options.live===\"off\"){\r\n\t\t\t\t\t\t/* \r\n\t\t\t\t\t\tdisable live if requested \r\n\t\t\t\t\t\tusage: $(selector).mCustomScrollbar({live:\"off\"}); \r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\tremoveLiveTimers(liveSelector);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tliveTimers[liveSelector]=setTimeout(function(){\r\n\t\t\t\t\t\t/* call mCustomScrollbar fn on live selector(s) every half-second */\r\n\t\t\t\t\t\t$liveSelector.mCustomScrollbar(options);\r\n\t\t\t\t\t\tif(options.live===\"once\" && $liveSelector.length){\r\n\t\t\t\t\t\t\t/* disable live after first invocation */\r\n\t\t\t\t\t\t\tremoveLiveTimers(liveSelector);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},500);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tremoveLiveTimers(liveSelector);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t/* options backward compatibility (for versions < 3.0.0) and normalization */\r\n\t\t\t\toptions.setWidth=(options.set_width) ? options.set_width : options.setWidth;\r\n\t\t\t\toptions.setHeight=(options.set_height) ? options.set_height : options.setHeight;\r\n\t\t\t\toptions.axis=(options.horizontalScroll) ? \"x\" : _findAxis(options.axis);\r\n\t\t\t\toptions.scrollInertia=options.scrollInertia>0 && options.scrollInertia<17 ? 17 : options.scrollInertia;\r\n\t\t\t\tif(typeof options.mouseWheel!==\"object\" &&  options.mouseWheel==true){ /* old school mouseWheel option (non-object) */\r\n\t\t\t\t\toptions.mouseWheel={enable:true,scrollAmount:\"auto\",axis:\"y\",preventDefault:false,deltaFactor:\"auto\",normalizeDelta:false,invert:false}\r\n\t\t\t\t}\r\n\t\t\t\toptions.mouseWheel.scrollAmount=!options.mouseWheelPixels ? options.mouseWheel.scrollAmount : options.mouseWheelPixels;\r\n\t\t\t\toptions.mouseWheel.normalizeDelta=!options.advanced.normalizeMouseWheelDelta ? options.mouseWheel.normalizeDelta : options.advanced.normalizeMouseWheelDelta;\r\n\t\t\t\toptions.scrollButtons.scrollType=_findScrollButtonsType(options.scrollButtons.scrollType); \r\n\t\t\t\t\r\n\t\t\t\t_theme(options); /* theme-specific options */\r\n\t\t\t\t\r\n\t\t\t\t/* plugin constructor */\r\n\t\t\t\treturn $(selector).each(function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar $this=$(this);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!$this.data(pluginPfx)){ /* prevent multiple instantiations */\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t/* store options and create objects in jquery data */\r\n\t\t\t\t\t\t$this.data(pluginPfx,{\r\n\t\t\t\t\t\t\tidx:++totalInstances, /* instance index */\r\n\t\t\t\t\t\t\topt:options, /* options */\r\n\t\t\t\t\t\t\tscrollRatio:{y:null,x:null}, /* scrollbar to content ratio */\r\n\t\t\t\t\t\t\toverflowed:null, /* overflowed axis */\r\n\t\t\t\t\t\t\tcontentReset:{y:null,x:null}, /* object to check when content resets */\r\n\t\t\t\t\t\t\tbindEvents:false, /* object to check if events are bound */\r\n\t\t\t\t\t\t\ttweenRunning:false, /* object to check if tween is running */\r\n\t\t\t\t\t\t\tsequential:{}, /* sequential scrolling object */\r\n\t\t\t\t\t\t\tlangDir:$this.css(\"direction\"), /* detect/store direction (ltr or rtl) */\r\n\t\t\t\t\t\t\tcbOffsets:null, /* object to check whether callback offsets always trigger */\r\n\t\t\t\t\t\t\t/* \r\n\t\t\t\t\t\t\tobject to check how scrolling events where last triggered \r\n\t\t\t\t\t\t\t\"internal\" (default - triggered by this script), \"external\" (triggered by other scripts, e.g. via scrollTo method) \r\n\t\t\t\t\t\t\tusage: object.data(\"mCS\").trigger\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\ttrigger:null,\r\n\t\t\t\t\t\t\t/* \r\n\t\t\t\t\t\t\tobject to check for changes in elements in order to call the update method automatically \r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\tpoll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\t\t\t\t/* HTML data attributes */\r\n\t\t\t\t\t\t\thtmlDataAxis=$this.data(\"mcs-axis\"),htmlDataSbPos=$this.data(\"mcs-scrollbar-position\"),htmlDataTheme=$this.data(\"mcs-theme\");\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\tif(htmlDataAxis){o.axis=htmlDataAxis;} /* usage example: data-mcs-axis=\"y\" */\r\n\t\t\t\t\t\tif(htmlDataSbPos){o.scrollbarPosition=htmlDataSbPos;} /* usage example: data-mcs-scrollbar-position=\"outside\" */\r\n\t\t\t\t\t\tif(htmlDataTheme){ /* usage example: data-mcs-theme=\"minimal\" */\r\n\t\t\t\t\t\t\to.theme=htmlDataTheme;\r\n\t\t\t\t\t\t\t_theme(o); /* theme-specific options */\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_pluginMarkup.call(this); /* add plugin markup */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(d && o.callbacks.onCreate && typeof o.callbacks.onCreate===\"function\"){o.callbacks.onCreate.call(this);} /* callbacks: onCreate */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$(\"#mCSB_\"+d.idx+\"_container img:not(.\"+classes[2]+\")\").addClass(classes[2]); /* flag loaded images */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmethods.update.call(null,$this); /* call the update method */\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t/* ---------------------------------------- */\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/* \r\n\t\t\tplugin update method \r\n\t\t\tupdates content and scrollbar(s) values, events and status \r\n\t\t\t----------------------------------------\r\n\t\t\tusage: $(selector).mCustomScrollbar(\"update\");\r\n\t\t\t*/\r\n\t\t\t\r\n\t\t\tupdate:function(el,cb){\r\n\t\t\t\t\r\n\t\t\t\tvar selector=el || _selector.call(this); /* validate selector */\r\n\t\t\t\t\r\n\t\t\t\treturn $(selector).each(function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar $this=$(this);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif($this.data(pluginPfx)){ /* check if plugin has initialized */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\t\t\t\tmCSB_dragger=[$(\"#mCSB_\"+d.idx+\"_dragger_vertical\"),$(\"#mCSB_\"+d.idx+\"_dragger_horizontal\")];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!mCSB_container.length){return;}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(d.tweenRunning){_stop($this);} /* stop any running tweens while updating */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(cb && d && o.callbacks.onBeforeUpdate && typeof o.callbacks.onBeforeUpdate===\"function\"){o.callbacks.onBeforeUpdate.call(this);} /* callbacks: onBeforeUpdate */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/* if element was disabled or destroyed, remove class(es) */\r\n\t\t\t\t\t\tif($this.hasClass(classes[3])){$this.removeClass(classes[3]);}\r\n\t\t\t\t\t\tif($this.hasClass(classes[4])){$this.removeClass(classes[4]);}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/* css flexbox fix, detect/set max-height */\r\n\t\t\t\t\t\tmCustomScrollBox.css(\"max-height\",\"none\");\r\n\t\t\t\t\t\tif(mCustomScrollBox.height()!==$this.height()){mCustomScrollBox.css(\"max-height\",$this.height());}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_expandContentHorizontally.call(this); /* expand content horizontally */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(o.axis!==\"y\" && !o.advanced.autoExpandHorizontalScroll){\r\n\t\t\t\t\t\t\tmCSB_container.css(\"width\",_contentWidth(mCSB_container));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\td.overflowed=_overflowed.call(this); /* determine if scrolling is required */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_scrollbarVisibility.call(this); /* show/hide scrollbar(s) */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/* auto-adjust scrollbar dragger length analogous to content */\r\n\t\t\t\t\t\tif(o.autoDraggerLength){_setDraggerLength.call(this);}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_scrollRatio.call(this); /* calculate and store scrollbar to content ratio */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_bindEvents.call(this); /* bind scrollbar events */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/* reset scrolling position and/or events */\r\n\t\t\t\t\t\tvar to=[Math.abs(mCSB_container[0].offsetTop),Math.abs(mCSB_container[0].offsetLeft)];\r\n\t\t\t\t\t\tif(o.axis!==\"x\"){ /* y/yx axis */\r\n\t\t\t\t\t\t\tif(!d.overflowed[0]){ /* y scrolling is not required */\r\n\t\t\t\t\t\t\t\t_resetContentPosition.call(this); /* reset content position */\r\n\t\t\t\t\t\t\t\tif(o.axis===\"y\"){\r\n\t\t\t\t\t\t\t\t\t_unbindEvents.call(this);\r\n\t\t\t\t\t\t\t\t}else if(o.axis===\"yx\" && d.overflowed[1]){\r\n\t\t\t\t\t\t\t\t\t_scrollTo($this,to[1].toString(),{dir:\"x\",dur:0,overwrite:\"none\"});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else if(mCSB_dragger[0].height()>mCSB_dragger[0].parent().height()){\r\n\t\t\t\t\t\t\t\t_resetContentPosition.call(this); /* reset content position */\r\n\t\t\t\t\t\t\t}else{ /* y scrolling is required */\r\n\t\t\t\t\t\t\t\t_scrollTo($this,to[0].toString(),{dir:\"y\",dur:0,overwrite:\"none\"});\r\n\t\t\t\t\t\t\t\td.contentReset.y=null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(o.axis!==\"y\"){ /* x/yx axis */\r\n\t\t\t\t\t\t\tif(!d.overflowed[1]){ /* x scrolling is not required */\r\n\t\t\t\t\t\t\t\t_resetContentPosition.call(this); /* reset content position */\r\n\t\t\t\t\t\t\t\tif(o.axis===\"x\"){\r\n\t\t\t\t\t\t\t\t\t_unbindEvents.call(this);\r\n\t\t\t\t\t\t\t\t}else if(o.axis===\"yx\" && d.overflowed[0]){\r\n\t\t\t\t\t\t\t\t\t_scrollTo($this,to[0].toString(),{dir:\"y\",dur:0,overwrite:\"none\"});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else if(mCSB_dragger[1].width()>mCSB_dragger[1].parent().width()){\r\n\t\t\t\t\t\t\t\t_resetContentPosition.call(this); /* reset content position */\r\n\t\t\t\t\t\t\t}else{ /* x scrolling is required */\r\n\t\t\t\t\t\t\t\t_scrollTo($this,to[1].toString(),{dir:\"x\",dur:0,overwrite:\"none\"});\r\n\t\t\t\t\t\t\t\td.contentReset.x=null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/* callbacks: onImageLoad, onSelectorChange, onUpdate */\r\n\t\t\t\t\t\tif(cb && d){\r\n\t\t\t\t\t\t\tif(cb===2 && o.callbacks.onImageLoad && typeof o.callbacks.onImageLoad===\"function\"){\r\n\t\t\t\t\t\t\t\to.callbacks.onImageLoad.call(this);\r\n\t\t\t\t\t\t\t}else if(cb===3 && o.callbacks.onSelectorChange && typeof o.callbacks.onSelectorChange===\"function\"){\r\n\t\t\t\t\t\t\t\to.callbacks.onSelectorChange.call(this);\r\n\t\t\t\t\t\t\t}else if(o.callbacks.onUpdate && typeof o.callbacks.onUpdate===\"function\"){\r\n\t\t\t\t\t\t\t\to.callbacks.onUpdate.call(this);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_autoUpdate.call(this); /* initialize automatic updating (for dynamic content, fluid layouts etc.) */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t/* ---------------------------------------- */\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/* \r\n\t\t\tplugin scrollTo method \r\n\t\t\ttriggers a scrolling event to a specific value\r\n\t\t\t----------------------------------------\r\n\t\t\tusage: $(selector).mCustomScrollbar(\"scrollTo\",value,options);\r\n\t\t\t*/\r\n\t\t\r\n\t\t\tscrollTo:function(val,options){\r\n\t\t\t\t\r\n\t\t\t\t/* prevent silly things like $(selector).mCustomScrollbar(\"scrollTo\",undefined); */\r\n\t\t\t\tif(typeof val==\"undefined\" || val==null){return;}\r\n\t\t\t\t\r\n\t\t\t\tvar selector=_selector.call(this); /* validate selector */\r\n\t\t\t\t\r\n\t\t\t\treturn $(selector).each(function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar $this=$(this);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif($this.data(pluginPfx)){ /* check if plugin has initialized */\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\t\t\t\t/* method default options */\r\n\t\t\t\t\t\t\tmethodDefaults={\r\n\t\t\t\t\t\t\t\ttrigger:\"external\", /* method is by default triggered externally (e.g. from other scripts) */\r\n\t\t\t\t\t\t\t\tscrollInertia:o.scrollInertia, /* scrolling inertia (animation duration) */\r\n\t\t\t\t\t\t\t\tscrollEasing:\"mcsEaseInOut\", /* animation easing */\r\n\t\t\t\t\t\t\t\tmoveDragger:false, /* move dragger instead of content */\r\n\t\t\t\t\t\t\t\ttimeout:60, /* scroll-to delay */\r\n\t\t\t\t\t\t\t\tcallbacks:true, /* enable/disable callbacks */\r\n\t\t\t\t\t\t\t\tonStart:true,\r\n\t\t\t\t\t\t\t\tonUpdate:true,\r\n\t\t\t\t\t\t\t\tonComplete:true\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmethodOptions=$.extend(true,{},methodDefaults,options),\r\n\t\t\t\t\t\t\tto=_arr.call(this,val),dur=methodOptions.scrollInertia>0 && methodOptions.scrollInertia<17 ? 17 : methodOptions.scrollInertia;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/* translate yx values to actual scroll-to positions */\r\n\t\t\t\t\t\tto[0]=_to.call(this,to[0],\"y\");\r\n\t\t\t\t\t\tto[1]=_to.call(this,to[1],\"x\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/* \r\n\t\t\t\t\t\tcheck if scroll-to value moves the dragger instead of content. \r\n\t\t\t\t\t\tOnly pixel values apply on dragger (e.g. 100, \"100px\", \"-=100\" etc.) \r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\tif(methodOptions.moveDragger){\r\n\t\t\t\t\t\t\tto[0]*=d.scrollRatio.y;\r\n\t\t\t\t\t\t\tto[1]*=d.scrollRatio.x;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmethodOptions.dur=_isTabHidden() ? 0 : dur; //skip animations if browser tab is hidden\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsetTimeout(function(){ \r\n\t\t\t\t\t\t\t/* do the scrolling */\r\n\t\t\t\t\t\t\tif(to[0]!==null && typeof to[0]!==\"undefined\" && o.axis!==\"x\" && d.overflowed[0]){ /* scroll y */\r\n\t\t\t\t\t\t\t\tmethodOptions.dir=\"y\";\r\n\t\t\t\t\t\t\t\tmethodOptions.overwrite=\"all\";\r\n\t\t\t\t\t\t\t\t_scrollTo($this,to[0].toString(),methodOptions);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(to[1]!==null && typeof to[1]!==\"undefined\" && o.axis!==\"y\" && d.overflowed[1]){ /* scroll x */\r\n\t\t\t\t\t\t\t\tmethodOptions.dir=\"x\";\r\n\t\t\t\t\t\t\t\tmethodOptions.overwrite=\"none\";\r\n\t\t\t\t\t\t\t\t_scrollTo($this,to[1].toString(),methodOptions);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},methodOptions.timeout);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t/* ---------------------------------------- */\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tplugin stop method \r\n\t\t\tstops scrolling animation\r\n\t\t\t----------------------------------------\r\n\t\t\tusage: $(selector).mCustomScrollbar(\"stop\");\r\n\t\t\t*/\r\n\t\t\tstop:function(){\r\n\t\t\t\t\r\n\t\t\t\tvar selector=_selector.call(this); /* validate selector */\r\n\t\t\t\t\r\n\t\t\t\treturn $(selector).each(function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar $this=$(this);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif($this.data(pluginPfx)){ /* check if plugin has initialized */\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t_stop($this);\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t/* ---------------------------------------- */\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tplugin disable method \r\n\t\t\ttemporarily disables the scrollbar(s) \r\n\t\t\t----------------------------------------\r\n\t\t\tusage: $(selector).mCustomScrollbar(\"disable\",reset); \r\n\t\t\treset (boolean): resets content position to 0 \r\n\t\t\t*/\r\n\t\t\tdisable:function(r){\r\n\t\t\t\t\r\n\t\t\t\tvar selector=_selector.call(this); /* validate selector */\r\n\t\t\t\t\r\n\t\t\t\treturn $(selector).each(function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar $this=$(this);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif($this.data(pluginPfx)){ /* check if plugin has initialized */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar d=$this.data(pluginPfx);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_autoUpdate.call(this,\"remove\"); /* remove automatic updating */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_unbindEvents.call(this); /* unbind events */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(r){_resetContentPosition.call(this);} /* reset content position */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_scrollbarVisibility.call(this,true); /* show/hide scrollbar(s) */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$this.addClass(classes[3]); /* add disable class */\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t/* ---------------------------------------- */\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tplugin destroy method \r\n\t\t\tcompletely removes the scrollbar(s) and returns the element to its original state\r\n\t\t\t----------------------------------------\r\n\t\t\tusage: $(selector).mCustomScrollbar(\"destroy\"); \r\n\t\t\t*/\r\n\t\t\tdestroy:function(){\r\n\t\t\t\t\r\n\t\t\t\tvar selector=_selector.call(this); /* validate selector */\r\n\t\t\t\t\r\n\t\t\t\treturn $(selector).each(function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar $this=$(this);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif($this.data(pluginPfx)){ /* check if plugin has initialized */\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\t\t\t\tscrollbar=$(\".mCSB_\"+d.idx+\"_scrollbar\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tif(o.live){removeLiveTimers(o.liveSelector || $(selector).selector);} /* remove live timers */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_autoUpdate.call(this,\"remove\"); /* remove automatic updating */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_unbindEvents.call(this); /* unbind events */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_resetContentPosition.call(this); /* reset content position */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$this.removeData(pluginPfx); /* remove plugin data object */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_delete(this,\"mcs\"); /* delete callbacks object */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/* remove plugin markup */\r\n\t\t\t\t\t\tscrollbar.remove(); /* remove scrollbar(s) first (those can be either inside or outside plugin's inner wrapper) */\r\n\t\t\t\t\t\tmCSB_container.find(\"img.\"+classes[2]).removeClass(classes[2]); /* remove loaded images flag */\r\n\t\t\t\t\t\tmCustomScrollBox.replaceWith(mCSB_container.contents()); /* replace plugin's inner wrapper with the original content */\r\n\t\t\t\t\t\t/* remove plugin classes from the element and add destroy class */\r\n\t\t\t\t\t\t$this.removeClass(pluginNS+\" _\"+pluginPfx+\"_\"+d.idx+\" \"+classes[6]+\" \"+classes[7]+\" \"+classes[5]+\" \"+classes[3]).addClass(classes[4]);\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t/* ---------------------------------------- */\r\n\t\t\t\r\n\t\t},\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\t\r\n\t/* \r\n\t----------------------------------------\r\n\tFUNCTIONS\r\n\t----------------------------------------\r\n\t*/\r\n\t\r\n\t\t/* validates selector (if selector is invalid or undefined uses the default one) */\r\n\t\t_selector=function(){\r\n\t\t\treturn (typeof $(this)!==\"object\" || $(this).length<1) ? defaultSelector : this;\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* changes options according to theme */\r\n\t\t_theme=function(obj){\r\n\t\t\tvar fixedSizeScrollbarThemes=[\"rounded\",\"rounded-dark\",\"rounded-dots\",\"rounded-dots-dark\"],\r\n\t\t\t\tnonExpandedScrollbarThemes=[\"rounded-dots\",\"rounded-dots-dark\",\"3d\",\"3d-dark\",\"3d-thick\",\"3d-thick-dark\",\"inset\",\"inset-dark\",\"inset-2\",\"inset-2-dark\",\"inset-3\",\"inset-3-dark\"],\r\n\t\t\t\tdisabledScrollButtonsThemes=[\"minimal\",\"minimal-dark\"],\r\n\t\t\t\tenabledAutoHideScrollbarThemes=[\"minimal\",\"minimal-dark\"],\r\n\t\t\t\tscrollbarPositionOutsideThemes=[\"minimal\",\"minimal-dark\"];\r\n\t\t\tobj.autoDraggerLength=$.inArray(obj.theme,fixedSizeScrollbarThemes) > -1 ? false : obj.autoDraggerLength;\r\n\t\t\tobj.autoExpandScrollbar=$.inArray(obj.theme,nonExpandedScrollbarThemes) > -1 ? false : obj.autoExpandScrollbar;\r\n\t\t\tobj.scrollButtons.enable=$.inArray(obj.theme,disabledScrollButtonsThemes) > -1 ? false : obj.scrollButtons.enable;\r\n\t\t\tobj.autoHideScrollbar=$.inArray(obj.theme,enabledAutoHideScrollbarThemes) > -1 ? true : obj.autoHideScrollbar;\r\n\t\t\tobj.scrollbarPosition=$.inArray(obj.theme,scrollbarPositionOutsideThemes) > -1 ? \"outside\" : obj.scrollbarPosition;\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* live option timers removal */\r\n\t\tremoveLiveTimers=function(selector){\r\n\t\t\tif(liveTimers[selector]){\r\n\t\t\t\tclearTimeout(liveTimers[selector]);\r\n\t\t\t\t_delete(liveTimers,selector);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* normalizes axis option to valid values: \"y\", \"x\", \"yx\" */\r\n\t\t_findAxis=function(val){\r\n\t\t\treturn (val===\"yx\" || val===\"xy\" || val===\"auto\") ? \"yx\" : (val===\"x\" || val===\"horizontal\") ? \"x\" : \"y\";\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* normalizes scrollButtons.scrollType option to valid values: \"stepless\", \"stepped\" */\r\n\t\t_findScrollButtonsType=function(val){\r\n\t\t\treturn (val===\"stepped\" || val===\"pixels\" || val===\"step\" || val===\"click\") ? \"stepped\" : \"stepless\";\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* generates plugin markup */\r\n\t\t_pluginMarkup=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\texpandClass=o.autoExpandScrollbar ? \" \"+classes[1]+\"_expand\" : \"\",\r\n\t\t\t\tscrollbar=[\"<div id='mCSB_\"+d.idx+\"_scrollbar_vertical' class='mCSB_scrollTools mCSB_\"+d.idx+\"_scrollbar mCS-\"+o.theme+\" mCSB_scrollTools_vertical\"+expandClass+\"'><div class='\"+classes[12]+\"'><div id='mCSB_\"+d.idx+\"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>\",\"<div id='mCSB_\"+d.idx+\"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_\"+d.idx+\"_scrollbar mCS-\"+o.theme+\" mCSB_scrollTools_horizontal\"+expandClass+\"'><div class='\"+classes[12]+\"'><div id='mCSB_\"+d.idx+\"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>\"],\r\n\t\t\t\twrapperClass=o.axis===\"yx\" ? \"mCSB_vertical_horizontal\" : o.axis===\"x\" ? \"mCSB_horizontal\" : \"mCSB_vertical\",\r\n\t\t\t\tscrollbars=o.axis===\"yx\" ? scrollbar[0]+scrollbar[1] : o.axis===\"x\" ? scrollbar[1] : scrollbar[0],\r\n\t\t\t\tcontentWrapper=o.axis===\"yx\" ? \"<div id='mCSB_\"+d.idx+\"_container_wrapper' class='mCSB_container_wrapper' />\" : \"\",\r\n\t\t\t\tautoHideClass=o.autoHideScrollbar ? \" \"+classes[6] : \"\",\r\n\t\t\t\tscrollbarDirClass=(o.axis!==\"x\" && d.langDir===\"rtl\") ? \" \"+classes[7] : \"\";\r\n\t\t\tif(o.setWidth){$this.css(\"width\",o.setWidth);} /* set element width */\r\n\t\t\tif(o.setHeight){$this.css(\"height\",o.setHeight);} /* set element height */\r\n\t\t\to.setLeft=(o.axis!==\"y\" && d.langDir===\"rtl\") ? \"989999px\" : o.setLeft; /* adjust left position for rtl direction */\r\n\t\t\t$this.addClass(pluginNS+\" _\"+pluginPfx+\"_\"+d.idx+autoHideClass+scrollbarDirClass).wrapInner(\"<div id='mCSB_\"+d.idx+\"' class='mCustomScrollBox mCS-\"+o.theme+\" \"+wrapperClass+\"'><div id='mCSB_\"+d.idx+\"_container' class='mCSB_container' style='position:relative; top:\"+o.setTop+\"; left:\"+o.setLeft+\";' dir='\"+d.langDir+\"' /></div>\");\r\n\t\t\tvar mCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\");\r\n\t\t\tif(o.axis!==\"y\" && !o.advanced.autoExpandHorizontalScroll){\r\n\t\t\t\tmCSB_container.css(\"width\",_contentWidth(mCSB_container));\r\n\t\t\t}\r\n\t\t\tif(o.scrollbarPosition===\"outside\"){\r\n\t\t\t\tif($this.css(\"position\")===\"static\"){ /* requires elements with non-static position */\r\n\t\t\t\t\t$this.css(\"position\",\"relative\");\r\n\t\t\t\t}\r\n\t\t\t\t$this.css(\"overflow\",\"visible\");\r\n\t\t\t\tmCustomScrollBox.addClass(\"mCSB_outside\").after(scrollbars);\r\n\t\t\t}else{\r\n\t\t\t\tmCustomScrollBox.addClass(\"mCSB_inside\").append(scrollbars);\r\n\t\t\t\tmCSB_container.wrap(contentWrapper);\r\n\t\t\t}\r\n\t\t\t_scrollButtons.call(this); /* add scrollbar buttons */\r\n\t\t\t/* minimum dragger length */\r\n\t\t\tvar mCSB_dragger=[$(\"#mCSB_\"+d.idx+\"_dragger_vertical\"),$(\"#mCSB_\"+d.idx+\"_dragger_horizontal\")];\r\n\t\t\tmCSB_dragger[0].css(\"min-height\",mCSB_dragger[0].height());\r\n\t\t\tmCSB_dragger[1].css(\"min-width\",mCSB_dragger[1].width());\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* calculates content width */\r\n\t\t_contentWidth=function(el){\r\n\t\t\tvar val=[el[0].scrollWidth,Math.max.apply(Math,el.children().map(function(){return $(this).outerWidth(true);}).get())],w=el.parent().width();\r\n\t\t\treturn val[0]>w ? val[0] : val[1]>w ? val[1] : \"100%\";\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* expands content horizontally */\r\n\t\t_expandContentHorizontally=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\");\r\n\t\t\tif(o.advanced.autoExpandHorizontalScroll && o.axis!==\"y\"){\r\n\t\t\t\t/* calculate scrollWidth */\r\n\t\t\t\tmCSB_container.css({\"width\":\"auto\",\"min-width\":0,\"overflow-x\":\"scroll\"});\r\n\t\t\t\tvar w=Math.ceil(mCSB_container[0].scrollWidth);\r\n\t\t\t\tif(o.advanced.autoExpandHorizontalScroll===3 || (o.advanced.autoExpandHorizontalScroll!==2 && w>mCSB_container.parent().width())){\r\n\t\t\t\t\tmCSB_container.css({\"width\":w,\"min-width\":\"100%\",\"overflow-x\":\"inherit\"});\r\n\t\t\t\t}else{\r\n\t\t\t\t\t/* \r\n\t\t\t\t\twrap content with an infinite width div and set its position to absolute and width to auto. \r\n\t\t\t\t\tSetting width to auto before calculating the actual width is important! \r\n\t\t\t\t\tWe must let the browser set the width as browser zoom values are impossible to calculate.\r\n\t\t\t\t\t*/\r\n\t\t\t\t\tmCSB_container.css({\"overflow-x\":\"inherit\",\"position\":\"absolute\"})\r\n\t\t\t\t\t\t.wrap(\"<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />\")\r\n\t\t\t\t\t\t.css({ /* set actual width, original position and un-wrap */\r\n\t\t\t\t\t\t\t/* \r\n\t\t\t\t\t\t\tget the exact width (with decimals) and then round-up. \r\n\t\t\t\t\t\t\tUsing jquery outerWidth() will round the width value which will mess up with inner elements that have non-integer width\r\n\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\"width\":(Math.ceil(mCSB_container[0].getBoundingClientRect().right+0.4)-Math.floor(mCSB_container[0].getBoundingClientRect().left)),\r\n\t\t\t\t\t\t\t\"min-width\":\"100%\",\r\n\t\t\t\t\t\t\t\"position\":\"relative\"\r\n\t\t\t\t\t\t}).unwrap();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* adds scrollbar buttons */\r\n\t\t_scrollButtons=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tmCSB_scrollTools=$(\".mCSB_\"+d.idx+\"_scrollbar:first\"),\r\n\t\t\t\ttabindex=!_isNumeric(o.scrollButtons.tabindex) ? \"\" : \"tabindex='\"+o.scrollButtons.tabindex+\"'\",\r\n\t\t\t\tbtnHTML=[\r\n\t\t\t\t\t\"<a href='#' class='\"+classes[13]+\"' \"+tabindex+\" />\",\r\n\t\t\t\t\t\"<a href='#' class='\"+classes[14]+\"' \"+tabindex+\" />\",\r\n\t\t\t\t\t\"<a href='#' class='\"+classes[15]+\"' \"+tabindex+\" />\",\r\n\t\t\t\t\t\"<a href='#' class='\"+classes[16]+\"' \"+tabindex+\" />\"\r\n\t\t\t\t],\r\n\t\t\t\tbtn=[(o.axis===\"x\" ? btnHTML[2] : btnHTML[0]),(o.axis===\"x\" ? btnHTML[3] : btnHTML[1]),btnHTML[2],btnHTML[3]];\r\n\t\t\tif(o.scrollButtons.enable){\r\n\t\t\t\tmCSB_scrollTools.prepend(btn[0]).append(btn[1]).next(\".mCSB_scrollTools\").prepend(btn[2]).append(btn[3]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* auto-adjusts scrollbar dragger length */\r\n\t\t_setDraggerLength=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),\r\n\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\tmCSB_dragger=[$(\"#mCSB_\"+d.idx+\"_dragger_vertical\"),$(\"#mCSB_\"+d.idx+\"_dragger_horizontal\")],\r\n\t\t\t\tratio=[mCustomScrollBox.height()/mCSB_container.outerHeight(false),mCustomScrollBox.width()/mCSB_container.outerWidth(false)],\r\n\t\t\t\tl=[\r\n\t\t\t\t\tparseInt(mCSB_dragger[0].css(\"min-height\")),Math.round(ratio[0]*mCSB_dragger[0].parent().height()),\r\n\t\t\t\t\tparseInt(mCSB_dragger[1].css(\"min-width\")),Math.round(ratio[1]*mCSB_dragger[1].parent().width())\r\n\t\t\t\t],\r\n\t\t\t\th=oldIE && (l[1]<l[0]) ? l[0] : l[1],w=oldIE && (l[3]<l[2]) ? l[2] : l[3];\r\n\t\t\tmCSB_dragger[0].css({\r\n\t\t\t\t\"height\":h,\"max-height\":(mCSB_dragger[0].parent().height()-10)\r\n\t\t\t}).find(\".mCSB_dragger_bar\").css({\"line-height\":l[0]+\"px\"});\r\n\t\t\tmCSB_dragger[1].css({\r\n\t\t\t\t\"width\":w,\"max-width\":(mCSB_dragger[1].parent().width()-10)\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* calculates scrollbar to content ratio */\r\n\t\t_scrollRatio=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),\r\n\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\tmCSB_dragger=[$(\"#mCSB_\"+d.idx+\"_dragger_vertical\"),$(\"#mCSB_\"+d.idx+\"_dragger_horizontal\")],\r\n\t\t\t\tscrollAmount=[mCSB_container.outerHeight(false)-mCustomScrollBox.height(),mCSB_container.outerWidth(false)-mCustomScrollBox.width()],\r\n\t\t\t\tratio=[\r\n\t\t\t\t\tscrollAmount[0]/(mCSB_dragger[0].parent().height()-mCSB_dragger[0].height()),\r\n\t\t\t\t\tscrollAmount[1]/(mCSB_dragger[1].parent().width()-mCSB_dragger[1].width())\r\n\t\t\t\t];\r\n\t\t\td.scrollRatio={y:ratio[0],x:ratio[1]};\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* toggles scrolling classes */\r\n\t\t_onDragClasses=function(el,action,xpnd){\r\n\t\t\tvar expandClass=xpnd ? classes[0]+\"_expanded\" : \"\",\r\n\t\t\t\tscrollbar=el.closest(\".mCSB_scrollTools\");\r\n\t\t\tif(action===\"active\"){\r\n\t\t\t\tel.toggleClass(classes[0]+\" \"+expandClass); scrollbar.toggleClass(classes[1]); \r\n\t\t\t\tel[0]._draggable=el[0]._draggable ? 0 : 1;\r\n\t\t\t}else{\r\n\t\t\t\tif(!el[0]._draggable){\r\n\t\t\t\t\tif(action===\"hide\"){\r\n\t\t\t\t\t\tel.removeClass(classes[0]); scrollbar.removeClass(classes[1]);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tel.addClass(classes[0]); scrollbar.addClass(classes[1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* checks if content overflows its container to determine if scrolling is required */\r\n\t\t_overflowed=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),\r\n\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\tcontentHeight=d.overflowed==null ? mCSB_container.height() : mCSB_container.outerHeight(false),\r\n\t\t\t\tcontentWidth=d.overflowed==null ? mCSB_container.width() : mCSB_container.outerWidth(false),\r\n\t\t\t\th=mCSB_container[0].scrollHeight,w=mCSB_container[0].scrollWidth;\r\n\t\t\tif(h>contentHeight){contentHeight=h;}\r\n\t\t\tif(w>contentWidth){contentWidth=w;}\r\n\t\t\treturn [contentHeight>mCustomScrollBox.height(),contentWidth>mCustomScrollBox.width()];\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* resets content position to 0 */\r\n\t\t_resetContentPosition=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\tmCSB_dragger=[$(\"#mCSB_\"+d.idx+\"_dragger_vertical\"),$(\"#mCSB_\"+d.idx+\"_dragger_horizontal\")];\r\n\t\t\t_stop($this); /* stop any current scrolling before resetting */\r\n\t\t\tif((o.axis!==\"x\" && !d.overflowed[0]) || (o.axis===\"y\" && d.overflowed[0])){ /* reset y */\r\n\t\t\t\tmCSB_dragger[0].add(mCSB_container).css(\"top\",0);\r\n\t\t\t\t_scrollTo($this,\"_resetY\");\r\n\t\t\t}\r\n\t\t\tif((o.axis!==\"y\" && !d.overflowed[1]) || (o.axis===\"x\" && d.overflowed[1])){ /* reset x */\r\n\t\t\t\tvar cx=dx=0;\r\n\t\t\t\tif(d.langDir===\"rtl\"){ /* adjust left position for rtl direction */\r\n\t\t\t\t\tcx=mCustomScrollBox.width()-mCSB_container.outerWidth(false);\r\n\t\t\t\t\tdx=Math.abs(cx/d.scrollRatio.x);\r\n\t\t\t\t}\r\n\t\t\t\tmCSB_container.css(\"left\",cx);\r\n\t\t\t\tmCSB_dragger[1].css(\"left\",dx);\r\n\t\t\t\t_scrollTo($this,\"_resetX\");\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* binds scrollbar events */\r\n\t\t_bindEvents=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt;\r\n\t\t\tif(!d.bindEvents){ /* check if events are already bound */\r\n\t\t\t\t_draggable.call(this);\r\n\t\t\t\tif(o.contentTouchScroll){_contentDraggable.call(this);}\r\n\t\t\t\t_selectable.call(this);\r\n\t\t\t\tif(o.mouseWheel.enable){ /* bind mousewheel fn when plugin is available */\r\n\t\t\t\t\tfunction _mwt(){\r\n\t\t\t\t\t\tmousewheelTimeout=setTimeout(function(){\r\n\t\t\t\t\t\t\tif(!$.event.special.mousewheel){\r\n\t\t\t\t\t\t\t\t_mwt();\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tclearTimeout(mousewheelTimeout);\r\n\t\t\t\t\t\t\t\t_mousewheel.call($this[0]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},100);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar mousewheelTimeout;\r\n\t\t\t\t\t_mwt();\r\n\t\t\t\t}\r\n\t\t\t\t_draggerRail.call(this);\r\n\t\t\t\t_wrapperScroll.call(this);\r\n\t\t\t\tif(o.advanced.autoScrollOnFocus){_focus.call(this);}\r\n\t\t\t\tif(o.scrollButtons.enable){_buttons.call(this);}\r\n\t\t\t\tif(o.keyboard.enable){_keyboard.call(this);}\r\n\t\t\t\td.bindEvents=true;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* unbinds scrollbar events */\r\n\t\t_unbindEvents=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\tsb=\".mCSB_\"+d.idx+\"_scrollbar\",\r\n\t\t\t\tsel=$(\"#mCSB_\"+d.idx+\",#mCSB_\"+d.idx+\"_container,#mCSB_\"+d.idx+\"_container_wrapper,\"+sb+\" .\"+classes[12]+\",#mCSB_\"+d.idx+\"_dragger_vertical,#mCSB_\"+d.idx+\"_dragger_horizontal,\"+sb+\">a\"),\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\");\r\n\t\t\tif(o.advanced.releaseDraggableSelectors){sel.add($(o.advanced.releaseDraggableSelectors));}\r\n\t\t\tif(o.advanced.extraDraggableSelectors){sel.add($(o.advanced.extraDraggableSelectors));}\r\n\t\t\tif(d.bindEvents){ /* check if events are bound */\r\n\t\t\t\t/* unbind namespaced events from document/selectors */\r\n\t\t\t\t$(document).add($(!_canAccessIFrame() || top.document)).unbind(\".\"+namespace);\r\n\t\t\t\tsel.each(function(){\r\n\t\t\t\t\t$(this).unbind(\".\"+namespace);\r\n\t\t\t\t});\r\n\t\t\t\t/* clear and delete timeouts/objects */\r\n\t\t\t\tclearTimeout($this[0]._focusTimeout); _delete($this[0],\"_focusTimeout\");\r\n\t\t\t\tclearTimeout(d.sequential.step); _delete(d.sequential,\"step\");\r\n\t\t\t\tclearTimeout(mCSB_container[0].onCompleteTimeout); _delete(mCSB_container[0],\"onCompleteTimeout\");\r\n\t\t\t\td.bindEvents=false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* toggles scrollbar visibility */\r\n\t\t_scrollbarVisibility=function(disabled){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tcontentWrapper=$(\"#mCSB_\"+d.idx+\"_container_wrapper\"),\r\n\t\t\t\tcontent=contentWrapper.length ? contentWrapper : $(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\tscrollbar=[$(\"#mCSB_\"+d.idx+\"_scrollbar_vertical\"),$(\"#mCSB_\"+d.idx+\"_scrollbar_horizontal\")],\r\n\t\t\t\tmCSB_dragger=[scrollbar[0].find(\".mCSB_dragger\"),scrollbar[1].find(\".mCSB_dragger\")];\r\n\t\t\tif(o.axis!==\"x\"){\r\n\t\t\t\tif(d.overflowed[0] && !disabled){\r\n\t\t\t\t\tscrollbar[0].add(mCSB_dragger[0]).add(scrollbar[0].children(\"a\")).css(\"display\",\"block\");\r\n\t\t\t\t\tcontent.removeClass(classes[8]+\" \"+classes[10]);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(o.alwaysShowScrollbar){\r\n\t\t\t\t\t\tif(o.alwaysShowScrollbar!==2){mCSB_dragger[0].css(\"display\",\"none\");}\r\n\t\t\t\t\t\tcontent.removeClass(classes[10]);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tscrollbar[0].css(\"display\",\"none\");\r\n\t\t\t\t\t\tcontent.addClass(classes[10]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontent.addClass(classes[8]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(o.axis!==\"y\"){\r\n\t\t\t\tif(d.overflowed[1] && !disabled){\r\n\t\t\t\t\tscrollbar[1].add(mCSB_dragger[1]).add(scrollbar[1].children(\"a\")).css(\"display\",\"block\");\r\n\t\t\t\t\tcontent.removeClass(classes[9]+\" \"+classes[11]);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(o.alwaysShowScrollbar){\r\n\t\t\t\t\t\tif(o.alwaysShowScrollbar!==2){mCSB_dragger[1].css(\"display\",\"none\");}\r\n\t\t\t\t\t\tcontent.removeClass(classes[11]);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tscrollbar[1].css(\"display\",\"none\");\r\n\t\t\t\t\t\tcontent.addClass(classes[11]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontent.addClass(classes[9]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!d.overflowed[0] && !d.overflowed[1]){\r\n\t\t\t\t$this.addClass(classes[5]);\r\n\t\t\t}else{\r\n\t\t\t\t$this.removeClass(classes[5]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* returns input coordinates of pointer, touch and mouse events (relative to document) */\r\n\t\t_coordinates=function(e){\r\n\t\t\tvar t=e.type,o=e.target.ownerDocument!==document && frameElement!==null ? [$(frameElement).offset().top,$(frameElement).offset().left] : null,\r\n\t\t\t\tio=_canAccessIFrame() && e.target.ownerDocument!==top.document && frameElement!==null ? [$(e.view.frameElement).offset().top,$(e.view.frameElement).offset().left] : [0,0];\r\n\t\t\tswitch(t){\r\n\t\t\t\tcase \"pointerdown\": case \"MSPointerDown\": case \"pointermove\": case \"MSPointerMove\": case \"pointerup\": case \"MSPointerUp\":\r\n\t\t\t\t\treturn o ? [e.originalEvent.pageY-o[0]+io[0],e.originalEvent.pageX-o[1]+io[1],false] : [e.originalEvent.pageY,e.originalEvent.pageX,false];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"touchstart\": case \"touchmove\": case \"touchend\":\r\n\t\t\t\t\tvar touch=e.originalEvent.touches[0] || e.originalEvent.changedTouches[0],\r\n\t\t\t\t\t\ttouches=e.originalEvent.touches.length || e.originalEvent.changedTouches.length;\r\n\t\t\t\t\treturn e.target.ownerDocument!==document ? [touch.screenY,touch.screenX,touches>1] : [touch.pageY,touch.pageX,touches>1];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn o ? [e.pageY-o[0]+io[0],e.pageX-o[1]+io[1],false] : [e.pageY,e.pageX,false];\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tSCROLLBAR DRAG EVENTS\r\n\t\tscrolls content via scrollbar dragging \r\n\t\t*/\r\n\t\t_draggable=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\tdraggerId=[\"mCSB_\"+d.idx+\"_dragger_vertical\",\"mCSB_\"+d.idx+\"_dragger_horizontal\"],\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\tmCSB_dragger=$(\"#\"+draggerId[0]+\",#\"+draggerId[1]),\r\n\t\t\t\tdraggable,dragY,dragX,\r\n\t\t\t\trds=o.advanced.releaseDraggableSelectors ? mCSB_dragger.add($(o.advanced.releaseDraggableSelectors)) : mCSB_dragger,\r\n\t\t\t\teds=o.advanced.extraDraggableSelectors ? $(!_canAccessIFrame() || top.document).add($(o.advanced.extraDraggableSelectors)) : $(!_canAccessIFrame() || top.document);\r\n\t\t\tmCSB_dragger.bind(\"contextmenu.\"+namespace,function(e){\r\n\t\t\t\te.preventDefault(); //prevent right click\r\n\t\t\t}).bind(\"mousedown.\"+namespace+\" touchstart.\"+namespace+\" pointerdown.\"+namespace+\" MSPointerDown.\"+namespace,function(e){\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif(!_mouseBtnLeft(e)){return;} /* left mouse button only */\r\n\t\t\t\ttouchActive=true;\r\n\t\t\t\tif(oldIE){document.onselectstart=function(){return false;}} /* disable text selection for IE < 9 */\r\n\t\t\t\t_iframe.call(mCSB_container,false); /* enable scrollbar dragging over iframes by disabling their events */\r\n\t\t\t\t_stop($this);\r\n\t\t\t\tdraggable=$(this);\r\n\t\t\t\tvar offset=draggable.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left,\r\n\t\t\t\t\th=draggable.height()+offset.top,w=draggable.width()+offset.left;\r\n\t\t\t\tif(y<h && y>0 && x<w && x>0){\r\n\t\t\t\t\tdragY=y; \r\n\t\t\t\t\tdragX=x;\r\n\t\t\t\t}\r\n\t\t\t\t_onDragClasses(draggable,\"active\",o.autoExpandScrollbar); \r\n\t\t\t}).bind(\"touchmove.\"+namespace,function(e){\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tvar offset=draggable.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left;\r\n\t\t\t\t_drag(dragY,dragX,y,x);\r\n\t\t\t});\r\n\t\t\t$(document).add(eds).bind(\"mousemove.\"+namespace+\" pointermove.\"+namespace+\" MSPointerMove.\"+namespace,function(e){\r\n\t\t\t\tif(draggable){\r\n\t\t\t\t\tvar offset=draggable.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left;\r\n\t\t\t\t\tif(dragY===y && dragX===x){return;} /* has it really moved? */\r\n\t\t\t\t\t_drag(dragY,dragX,y,x);\r\n\t\t\t\t}\r\n\t\t\t}).add(rds).bind(\"mouseup.\"+namespace+\" touchend.\"+namespace+\" pointerup.\"+namespace+\" MSPointerUp.\"+namespace,function(e){\r\n\t\t\t\tif(draggable){\r\n\t\t\t\t\t_onDragClasses(draggable,\"active\",o.autoExpandScrollbar); \r\n\t\t\t\t\tdraggable=null;\r\n\t\t\t\t}\r\n\t\t\t\ttouchActive=false;\r\n\t\t\t\tif(oldIE){document.onselectstart=null;} /* enable text selection for IE < 9 */\r\n\t\t\t\t_iframe.call(mCSB_container,true); /* enable iframes events */\r\n\t\t\t});\r\n\t\t\tfunction _drag(dragY,dragX,y,x){\r\n\t\t\t\tmCSB_container[0].idleTimer=o.scrollInertia<233 ? 250 : 0;\r\n\t\t\t\tif(draggable.attr(\"id\")===draggerId[1]){\r\n\t\t\t\t\tvar dir=\"x\",to=((draggable[0].offsetLeft-dragX)+x)*d.scrollRatio.x;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar dir=\"y\",to=((draggable[0].offsetTop-dragY)+y)*d.scrollRatio.y;\r\n\t\t\t\t}\r\n\t\t\t\t_scrollTo($this,to.toString(),{dir:dir,drag:true});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tTOUCH SWIPE EVENTS\r\n\t\tscrolls content via touch swipe \r\n\t\tEmulates the native touch-swipe scrolling with momentum found in iOS, Android and WP devices \r\n\t\t*/\r\n\t\t_contentDraggable=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\tmCSB_dragger=[$(\"#mCSB_\"+d.idx+\"_dragger_vertical\"),$(\"#mCSB_\"+d.idx+\"_dragger_horizontal\")],\r\n\t\t\t\tdraggable,dragY,dragX,touchStartY,touchStartX,touchMoveY=[],touchMoveX=[],startTime,runningTime,endTime,distance,speed,amount,\r\n\t\t\t\tdurA=0,durB,overwrite=o.axis===\"yx\" ? \"none\" : \"all\",touchIntent=[],touchDrag,docDrag,\r\n\t\t\t\tiframe=mCSB_container.find(\"iframe\"),\r\n\t\t\t\tevents=[\r\n\t\t\t\t\t\"touchstart.\"+namespace+\" pointerdown.\"+namespace+\" MSPointerDown.\"+namespace, //start\r\n\t\t\t\t\t\"touchmove.\"+namespace+\" pointermove.\"+namespace+\" MSPointerMove.\"+namespace, //move\r\n\t\t\t\t\t\"touchend.\"+namespace+\" pointerup.\"+namespace+\" MSPointerUp.\"+namespace //end\r\n\t\t\t\t],\r\n\t\t\t\ttouchAction=document.body.style.touchAction!==undefined && document.body.style.touchAction!==\"\";\r\n\t\t\tmCSB_container.bind(events[0],function(e){\r\n\t\t\t\t_onTouchstart(e);\r\n\t\t\t}).bind(events[1],function(e){\r\n\t\t\t\t_onTouchmove(e);\r\n\t\t\t});\r\n\t\t\tmCustomScrollBox.bind(events[0],function(e){\r\n\t\t\t\t_onTouchstart2(e);\r\n\t\t\t}).bind(events[2],function(e){\r\n\t\t\t\t_onTouchend(e);\r\n\t\t\t});\r\n\t\t\tif(iframe.length){\r\n\t\t\t\tiframe.each(function(){\r\n\t\t\t\t\t$(this).bind(\"load\",function(){\r\n\t\t\t\t\t\t/* bind events on accessible iframes */\r\n\t\t\t\t\t\tif(_canAccessIFrame(this)){\r\n\t\t\t\t\t\t\t$(this.contentDocument || this.contentWindow.document).bind(events[0],function(e){\r\n\t\t\t\t\t\t\t\t_onTouchstart(e);\r\n\t\t\t\t\t\t\t\t_onTouchstart2(e);\r\n\t\t\t\t\t\t\t}).bind(events[1],function(e){\r\n\t\t\t\t\t\t\t\t_onTouchmove(e);\r\n\t\t\t\t\t\t\t}).bind(events[2],function(e){\r\n\t\t\t\t\t\t\t\t_onTouchend(e);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tfunction _onTouchstart(e){\r\n\t\t\t\tif(!_pointerTouch(e) || touchActive || _coordinates(e)[2]){touchable=0; return;}\r\n\t\t\t\ttouchable=1; touchDrag=0; docDrag=0; draggable=1;\r\n\t\t\t\t$this.removeClass(\"mCS_touch_action\");\r\n\t\t\t\tvar offset=mCSB_container.offset();\r\n\t\t\t\tdragY=_coordinates(e)[0]-offset.top;\r\n\t\t\t\tdragX=_coordinates(e)[1]-offset.left;\r\n\t\t\t\ttouchIntent=[_coordinates(e)[0],_coordinates(e)[1]];\r\n\t\t\t}\r\n\t\t\tfunction _onTouchmove(e){\r\n\t\t\t\tif(!_pointerTouch(e) || touchActive || _coordinates(e)[2]){return;}\r\n\t\t\t\tif(!o.documentTouchScroll){e.preventDefault();} \r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\tif(docDrag && !touchDrag){return;}\r\n\t\t\t\tif(draggable){\r\n\t\t\t\t\trunningTime=_getTime();\r\n\t\t\t\t\tvar offset=mCustomScrollBox.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left,\r\n\t\t\t\t\t\teasing=\"mcsLinearOut\";\r\n\t\t\t\t\ttouchMoveY.push(y);\r\n\t\t\t\t\ttouchMoveX.push(x);\r\n\t\t\t\t\ttouchIntent[2]=Math.abs(_coordinates(e)[0]-touchIntent[0]); touchIntent[3]=Math.abs(_coordinates(e)[1]-touchIntent[1]);\r\n\t\t\t\t\tif(d.overflowed[0]){\r\n\t\t\t\t\t\tvar limit=mCSB_dragger[0].parent().height()-mCSB_dragger[0].height(),\r\n\t\t\t\t\t\t\tprevent=((dragY-y)>0 && (y-dragY)>-(limit*d.scrollRatio.y) && (touchIntent[3]*2<touchIntent[2] || o.axis===\"yx\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(d.overflowed[1]){\r\n\t\t\t\t\t\tvar limitX=mCSB_dragger[1].parent().width()-mCSB_dragger[1].width(),\r\n\t\t\t\t\t\t\tpreventX=((dragX-x)>0 && (x-dragX)>-(limitX*d.scrollRatio.x) && (touchIntent[2]*2<touchIntent[3] || o.axis===\"yx\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(prevent || preventX){ /* prevent native document scrolling */\r\n\t\t\t\t\t\tif(!touchAction){e.preventDefault();} \r\n\t\t\t\t\t\ttouchDrag=1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdocDrag=1;\r\n\t\t\t\t\t\t$this.addClass(\"mCS_touch_action\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(touchAction){e.preventDefault();} \r\n\t\t\t\t\tamount=o.axis===\"yx\" ? [(dragY-y),(dragX-x)] : o.axis===\"x\" ? [null,(dragX-x)] : [(dragY-y),null];\r\n\t\t\t\t\tmCSB_container[0].idleTimer=250;\r\n\t\t\t\t\tif(d.overflowed[0]){_drag(amount[0],durA,easing,\"y\",\"all\",true);}\r\n\t\t\t\t\tif(d.overflowed[1]){_drag(amount[1],durA,easing,\"x\",overwrite,true);}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction _onTouchstart2(e){\r\n\t\t\t\tif(!_pointerTouch(e) || touchActive || _coordinates(e)[2]){touchable=0; return;}\r\n\t\t\t\ttouchable=1;\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t_stop($this);\r\n\t\t\t\tstartTime=_getTime();\r\n\t\t\t\tvar offset=mCustomScrollBox.offset();\r\n\t\t\t\ttouchStartY=_coordinates(e)[0]-offset.top;\r\n\t\t\t\ttouchStartX=_coordinates(e)[1]-offset.left;\r\n\t\t\t\ttouchMoveY=[]; touchMoveX=[];\r\n\t\t\t}\r\n\t\t\tfunction _onTouchend(e){\r\n\t\t\t\tif(!_pointerTouch(e) || touchActive || _coordinates(e)[2]){return;}\r\n\t\t\t\tdraggable=0;\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\ttouchDrag=0; docDrag=0;\r\n\t\t\t\tendTime=_getTime();\r\n\t\t\t\tvar offset=mCustomScrollBox.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left;\r\n\t\t\t\tif((endTime-runningTime)>30){return;}\r\n\t\t\t\tspeed=1000/(endTime-startTime);\r\n\t\t\t\tvar easing=\"mcsEaseOut\",slow=speed<2.5,\r\n\t\t\t\t\tdiff=slow ? [touchMoveY[touchMoveY.length-2],touchMoveX[touchMoveX.length-2]] : [0,0];\r\n\t\t\t\tdistance=slow ? [(y-diff[0]),(x-diff[1])] : [y-touchStartY,x-touchStartX];\r\n\t\t\t\tvar absDistance=[Math.abs(distance[0]),Math.abs(distance[1])];\r\n\t\t\t\tspeed=slow ? [Math.abs(distance[0]/4),Math.abs(distance[1]/4)] : [speed,speed];\r\n\t\t\t\tvar a=[\r\n\t\t\t\t\tMath.abs(mCSB_container[0].offsetTop)-(distance[0]*_m((absDistance[0]/speed[0]),speed[0])),\r\n\t\t\t\t\tMath.abs(mCSB_container[0].offsetLeft)-(distance[1]*_m((absDistance[1]/speed[1]),speed[1]))\r\n\t\t\t\t];\r\n\t\t\t\tamount=o.axis===\"yx\" ? [a[0],a[1]] : o.axis===\"x\" ? [null,a[1]] : [a[0],null];\r\n\t\t\t\tdurB=[(absDistance[0]*4)+o.scrollInertia,(absDistance[1]*4)+o.scrollInertia];\r\n\t\t\t\tvar md=parseInt(o.contentTouchScroll) || 0; /* absolute minimum distance required */\r\n\t\t\t\tamount[0]=absDistance[0]>md ? amount[0] : 0;\r\n\t\t\t\tamount[1]=absDistance[1]>md ? amount[1] : 0;\r\n\t\t\t\tif(d.overflowed[0]){_drag(amount[0],durB[0],easing,\"y\",overwrite,false);}\r\n\t\t\t\tif(d.overflowed[1]){_drag(amount[1],durB[1],easing,\"x\",overwrite,false);}\r\n\t\t\t}\r\n\t\t\tfunction _m(ds,s){\r\n\t\t\t\tvar r=[s*1.5,s*2,s/1.5,s/2];\r\n\t\t\t\tif(ds>90){\r\n\t\t\t\t\treturn s>4 ? r[0] : r[3];\r\n\t\t\t\t}else if(ds>60){\r\n\t\t\t\t\treturn s>3 ? r[3] : r[2];\r\n\t\t\t\t}else if(ds>30){\r\n\t\t\t\t\treturn s>8 ? r[1] : s>6 ? r[0] : s>4 ? s : r[2];\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn s>8 ? s : r[3];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfunction _drag(amount,dur,easing,dir,overwrite,drag){\r\n\t\t\t\tif(!amount){return;}\r\n\t\t\t\t_scrollTo($this,amount.toString(),{dur:dur,scrollEasing:easing,dir:dir,overwrite:overwrite,drag:drag});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tSELECT TEXT EVENTS \r\n\t\tscrolls content when text is selected \r\n\t\t*/\r\n\t\t_selectable=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,seq=d.sequential,\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\twrapper=mCSB_container.parent(),\r\n\t\t\t\taction;\r\n\t\t\tmCSB_container.bind(\"mousedown.\"+namespace,function(e){\r\n\t\t\t\tif(touchable){return;}\r\n\t\t\t\tif(!action){action=1; touchActive=true;}\r\n\t\t\t}).add(document).bind(\"mousemove.\"+namespace,function(e){\r\n\t\t\t\tif(!touchable && action && _sel()){\r\n\t\t\t\t\tvar offset=mCSB_container.offset(),\r\n\t\t\t\t\t\ty=_coordinates(e)[0]-offset.top+mCSB_container[0].offsetTop,x=_coordinates(e)[1]-offset.left+mCSB_container[0].offsetLeft;\r\n\t\t\t\t\tif(y>0 && y<wrapper.height() && x>0 && x<wrapper.width()){\r\n\t\t\t\t\t\tif(seq.step){_seq(\"off\",null,\"stepped\");}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(o.axis!==\"x\" && d.overflowed[0]){\r\n\t\t\t\t\t\t\tif(y<0){\r\n\t\t\t\t\t\t\t\t_seq(\"on\",38);\r\n\t\t\t\t\t\t\t}else if(y>wrapper.height()){\r\n\t\t\t\t\t\t\t\t_seq(\"on\",40);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(o.axis!==\"y\" && d.overflowed[1]){\r\n\t\t\t\t\t\t\tif(x<0){\r\n\t\t\t\t\t\t\t\t_seq(\"on\",37);\r\n\t\t\t\t\t\t\t}else if(x>wrapper.width()){\r\n\t\t\t\t\t\t\t\t_seq(\"on\",39);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).bind(\"mouseup.\"+namespace+\" dragend.\"+namespace,function(e){\r\n\t\t\t\tif(touchable){return;}\r\n\t\t\t\tif(action){action=0; _seq(\"off\",null);}\r\n\t\t\t\ttouchActive=false;\r\n\t\t\t});\r\n\t\t\tfunction _sel(){\r\n\t\t\t\treturn \twindow.getSelection ? window.getSelection().toString() : \r\n\t\t\t\t\t\tdocument.selection && document.selection.type!=\"Control\" ? document.selection.createRange().text : 0;\r\n\t\t\t}\r\n\t\t\tfunction _seq(a,c,s){\r\n\t\t\t\tseq.type=s && action ? \"stepped\" : \"stepless\";\r\n\t\t\t\tseq.scrollAmount=10;\r\n\t\t\t\t_sequentialScroll($this,a,c,\"mcsLinearOut\",s ? 60 : null);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tMOUSE WHEEL EVENT\r\n\t\tscrolls content via mouse-wheel \r\n\t\tvia mouse-wheel plugin (https://github.com/brandonaaron/jquery-mousewheel)\r\n\t\t*/\r\n\t\t_mousewheel=function(){\r\n\t\t\tif(!$(this).data(pluginPfx)){return;} /* Check if the scrollbar is ready to use mousewheel events (issue: #185) */\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\tmCSB_dragger=[$(\"#mCSB_\"+d.idx+\"_dragger_vertical\"),$(\"#mCSB_\"+d.idx+\"_dragger_horizontal\")],\r\n\t\t\t\tiframe=$(\"#mCSB_\"+d.idx+\"_container\").find(\"iframe\");\r\n\t\t\tif(iframe.length){\r\n\t\t\t\tiframe.each(function(){\r\n\t\t\t\t\t$(this).bind(\"load\",function(){\r\n\t\t\t\t\t\t/* bind events on accessible iframes */\r\n\t\t\t\t\t\tif(_canAccessIFrame(this)){\r\n\t\t\t\t\t\t\t$(this.contentDocument || this.contentWindow.document).bind(\"mousewheel.\"+namespace,function(e,delta){\r\n\t\t\t\t\t\t\t\t_onMousewheel(e,delta);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tmCustomScrollBox.bind(\"mousewheel.\"+namespace,function(e,delta){\r\n\t\t\t\t_onMousewheel(e,delta);\r\n\t\t\t});\r\n\t\t\tfunction _onMousewheel(e,delta){\r\n\t\t\t\t_stop($this);\r\n\t\t\t\tif(_disableMousewheel($this,e.target)){return;} /* disables mouse-wheel when hovering specific elements */\r\n\t\t\t\tvar deltaFactor=o.mouseWheel.deltaFactor!==\"auto\" ? parseInt(o.mouseWheel.deltaFactor) : (oldIE && e.deltaFactor<100) ? 100 : e.deltaFactor || 100,\r\n\t\t\t\t\tdur=o.scrollInertia;\r\n\t\t\t\tif(o.axis===\"x\" || o.mouseWheel.axis===\"x\"){\r\n\t\t\t\t\tvar dir=\"x\",\r\n\t\t\t\t\t\tpx=[Math.round(deltaFactor*d.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],\r\n\t\t\t\t\t\tamount=o.mouseWheel.scrollAmount!==\"auto\" ? px[1] : px[0]>=mCustomScrollBox.width() ? mCustomScrollBox.width()*0.9 : px[0],\r\n\t\t\t\t\t\tcontentPos=Math.abs($(\"#mCSB_\"+d.idx+\"_container\")[0].offsetLeft),\r\n\t\t\t\t\t\tdraggerPos=mCSB_dragger[1][0].offsetLeft,\r\n\t\t\t\t\t\tlimit=mCSB_dragger[1].parent().width()-mCSB_dragger[1].width(),\r\n\t\t\t\t\t\tdlt=o.mouseWheel.axis===\"y\" ? (e.deltaY || delta) : e.deltaX;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar dir=\"y\",\r\n\t\t\t\t\t\tpx=[Math.round(deltaFactor*d.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],\r\n\t\t\t\t\t\tamount=o.mouseWheel.scrollAmount!==\"auto\" ? px[1] : px[0]>=mCustomScrollBox.height() ? mCustomScrollBox.height()*0.9 : px[0],\r\n\t\t\t\t\t\tcontentPos=Math.abs($(\"#mCSB_\"+d.idx+\"_container\")[0].offsetTop),\r\n\t\t\t\t\t\tdraggerPos=mCSB_dragger[0][0].offsetTop,\r\n\t\t\t\t\t\tlimit=mCSB_dragger[0].parent().height()-mCSB_dragger[0].height(),\r\n\t\t\t\t\t\tdlt=e.deltaY || delta;\r\n\t\t\t\t}\r\n\t\t\t\tif((dir===\"y\" && !d.overflowed[0]) || (dir===\"x\" && !d.overflowed[1])){return;}\r\n\t\t\t\tif(o.mouseWheel.invert || e.webkitDirectionInvertedFromDevice){dlt=-dlt;}\r\n\t\t\t\tif(o.mouseWheel.normalizeDelta){dlt=dlt<0 ? -1 : 1;}\r\n\t\t\t\tif((dlt>0 && draggerPos!==0) || (dlt<0 && draggerPos!==limit) || o.mouseWheel.preventDefault){\r\n\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\tif(e.deltaFactor<5 && !o.mouseWheel.normalizeDelta){\r\n\t\t\t\t\t//very low deltaFactor values mean some kind of delta acceleration (e.g. osx trackpad), so adjusting scrolling accordingly\r\n\t\t\t\t\tamount=e.deltaFactor; dur=17;\r\n\t\t\t\t}\r\n\t\t\t\t_scrollTo($this,(contentPos-(dlt*amount)).toString(),{dir:dir,dur:dur});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* checks if iframe can be accessed */\r\n\t\t_canAccessIFrameCache=new Object(),\r\n\t\t_canAccessIFrame=function(iframe){\r\n\t\t    var result=false,cacheKey=false,html=null;\r\n\t\t    if(iframe===undefined){\r\n\t\t\t\tcacheKey=\"#empty\";\r\n\t\t    }else if($(iframe).attr(\"id\")!==undefined){\r\n\t\t\t\tcacheKey=$(iframe).attr(\"id\");\r\n\t\t    }\r\n\t\t\tif(cacheKey!==false && _canAccessIFrameCache[cacheKey]!==undefined){\r\n\t\t\t\treturn _canAccessIFrameCache[cacheKey];\r\n\t\t\t}\r\n\t\t\tif(!iframe){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tvar doc=top.document;\r\n\t\t\t\t\thtml=doc.body.innerHTML;\r\n\t\t\t\t}catch(err){/* do nothing */}\r\n\t\t\t\tresult=(html!==null);\r\n\t\t\t}else{\r\n\t\t\t\ttry{\r\n\t\t\t\t\tvar doc=iframe.contentDocument || iframe.contentWindow.document;\r\n\t\t\t\t\thtml=doc.body.innerHTML;\r\n\t\t\t\t}catch(err){/* do nothing */}\r\n\t\t\t\tresult=(html!==null);\r\n\t\t\t}\r\n\t\t\tif(cacheKey!==false){_canAccessIFrameCache[cacheKey]=result;}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* switches iframe's pointer-events property (drag, mousewheel etc. over cross-domain iframes) */\r\n\t\t_iframe=function(evt){\r\n\t\t\tvar el=this.find(\"iframe\");\r\n\t\t\tif(!el.length){return;} /* check if content contains iframes */\r\n\t\t\tvar val=!evt ? \"none\" : \"auto\";\r\n\t\t\tel.css(\"pointer-events\",val); /* for IE11, iframe's display property should not be \"block\" */\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* disables mouse-wheel when hovering specific elements like select, datalist etc. */\r\n\t\t_disableMousewheel=function(el,target){\r\n\t\t\tvar tag=target.nodeName.toLowerCase(),\r\n\t\t\t\ttags=el.data(pluginPfx).opt.mouseWheel.disableOver,\r\n\t\t\t\t/* elements that require focus */\r\n\t\t\t\tfocusTags=[\"select\",\"textarea\"];\r\n\t\t\treturn $.inArray(tag,tags) > -1 && !($.inArray(tag,focusTags) > -1 && !$(target).is(\":focus\"));\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tDRAGGER RAIL CLICK EVENT\r\n\t\tscrolls content via dragger rail \r\n\t\t*/\r\n\t\t_draggerRail=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\twrapper=mCSB_container.parent(),\r\n\t\t\t\tmCSB_draggerContainer=$(\".mCSB_\"+d.idx+\"_scrollbar .\"+classes[12]),\r\n\t\t\t\tclickable;\r\n\t\t\tmCSB_draggerContainer.bind(\"mousedown.\"+namespace+\" touchstart.\"+namespace+\" pointerdown.\"+namespace+\" MSPointerDown.\"+namespace,function(e){\r\n\t\t\t\ttouchActive=true;\r\n\t\t\t\tif(!$(e.target).hasClass(\"mCSB_dragger\")){clickable=1;}\r\n\t\t\t}).bind(\"touchend.\"+namespace+\" pointerup.\"+namespace+\" MSPointerUp.\"+namespace,function(e){\r\n\t\t\t\ttouchActive=false;\r\n\t\t\t}).bind(\"click.\"+namespace,function(e){\r\n\t\t\t\tif(!clickable){return;}\r\n\t\t\t\tclickable=0;\r\n\t\t\t\tif($(e.target).hasClass(classes[12]) || $(e.target).hasClass(\"mCSB_draggerRail\")){\r\n\t\t\t\t\t_stop($this);\r\n\t\t\t\t\tvar el=$(this),mCSB_dragger=el.find(\".mCSB_dragger\");\r\n\t\t\t\t\tif(el.parent(\".mCSB_scrollTools_horizontal\").length>0){\r\n\t\t\t\t\t\tif(!d.overflowed[1]){return;}\r\n\t\t\t\t\t\tvar dir=\"x\",\r\n\t\t\t\t\t\t\tclickDir=e.pageX>mCSB_dragger.offset().left ? -1 : 1,\r\n\t\t\t\t\t\t\tto=Math.abs(mCSB_container[0].offsetLeft)-(clickDir*(wrapper.width()*0.9));\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(!d.overflowed[0]){return;}\r\n\t\t\t\t\t\tvar dir=\"y\",\r\n\t\t\t\t\t\t\tclickDir=e.pageY>mCSB_dragger.offset().top ? -1 : 1,\r\n\t\t\t\t\t\t\tto=Math.abs(mCSB_container[0].offsetTop)-(clickDir*(wrapper.height()*0.9));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_scrollTo($this,to.toString(),{dir:dir,scrollEasing:\"mcsEaseInOut\"});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tFOCUS EVENT\r\n\t\tscrolls content via element focus (e.g. clicking an input, pressing TAB key etc.)\r\n\t\t*/\r\n\t\t_focus=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\twrapper=mCSB_container.parent();\r\n\t\t\tmCSB_container.bind(\"focusin.\"+namespace,function(e){\r\n\t\t\t\tvar el=$(document.activeElement),\r\n\t\t\t\t\tnested=mCSB_container.find(\".mCustomScrollBox\").length,\r\n\t\t\t\t\tdur=0;\r\n\t\t\t\tif(!el.is(o.advanced.autoScrollOnFocus)){return;}\r\n\t\t\t\t_stop($this);\r\n\t\t\t\tclearTimeout($this[0]._focusTimeout);\r\n\t\t\t\t$this[0]._focusTimer=nested ? (dur+17)*nested : 0;\r\n\t\t\t\t$this[0]._focusTimeout=setTimeout(function(){\r\n\t\t\t\t\tvar\tto=[_childPos(el)[0],_childPos(el)[1]],\r\n\t\t\t\t\t\tcontentPos=[mCSB_container[0].offsetTop,mCSB_container[0].offsetLeft],\r\n\t\t\t\t\t\tisVisible=[\r\n\t\t\t\t\t\t\t(contentPos[0]+to[0]>=0 && contentPos[0]+to[0]<wrapper.height()-el.outerHeight(false)),\r\n\t\t\t\t\t\t\t(contentPos[1]+to[1]>=0 && contentPos[0]+to[1]<wrapper.width()-el.outerWidth(false))\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\toverwrite=(o.axis===\"yx\" && !isVisible[0] && !isVisible[1]) ? \"none\" : \"all\";\r\n\t\t\t\t\tif(o.axis!==\"x\" && !isVisible[0]){\r\n\t\t\t\t\t\t_scrollTo($this,to[0].toString(),{dir:\"y\",scrollEasing:\"mcsEaseInOut\",overwrite:overwrite,dur:dur});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(o.axis!==\"y\" && !isVisible[1]){\r\n\t\t\t\t\t\t_scrollTo($this,to[1].toString(),{dir:\"x\",scrollEasing:\"mcsEaseInOut\",overwrite:overwrite,dur:dur});\r\n\t\t\t\t\t}\r\n\t\t\t\t},$this[0]._focusTimer);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* sets content wrapper scrollTop/scrollLeft always to 0 */\r\n\t\t_wrapperScroll=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\twrapper=$(\"#mCSB_\"+d.idx+\"_container\").parent();\r\n\t\t\twrapper.bind(\"scroll.\"+namespace,function(e){\r\n\t\t\t\tif(wrapper.scrollTop()!==0 || wrapper.scrollLeft()!==0){\r\n\t\t\t\t\t$(\".mCSB_\"+d.idx+\"_scrollbar\").css(\"visibility\",\"hidden\"); /* hide scrollbar(s) */\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tBUTTONS EVENTS\r\n\t\tscrolls content via up, down, left and right buttons \r\n\t\t*/\r\n\t\t_buttons=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,seq=d.sequential,\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\tsel=\".mCSB_\"+d.idx+\"_scrollbar\",\r\n\t\t\t\tbtn=$(sel+\">a\");\r\n\t\t\tbtn.bind(\"contextmenu.\"+namespace,function(e){\r\n\t\t\t\te.preventDefault(); //prevent right click\r\n\t\t\t}).bind(\"mousedown.\"+namespace+\" touchstart.\"+namespace+\" pointerdown.\"+namespace+\" MSPointerDown.\"+namespace+\" mouseup.\"+namespace+\" touchend.\"+namespace+\" pointerup.\"+namespace+\" MSPointerUp.\"+namespace+\" mouseout.\"+namespace+\" pointerout.\"+namespace+\" MSPointerOut.\"+namespace+\" click.\"+namespace,function(e){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif(!_mouseBtnLeft(e)){return;} /* left mouse button only */\r\n\t\t\t\tvar btnClass=$(this).attr(\"class\");\r\n\t\t\t\tseq.type=o.scrollButtons.scrollType;\r\n\t\t\t\tswitch(e.type){\r\n\t\t\t\t\tcase \"mousedown\": case \"touchstart\": case \"pointerdown\": case \"MSPointerDown\":\r\n\t\t\t\t\t\tif(seq.type===\"stepped\"){return;}\r\n\t\t\t\t\t\ttouchActive=true;\r\n\t\t\t\t\t\td.tweenRunning=false;\r\n\t\t\t\t\t\t_seq(\"on\",btnClass);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"mouseup\": case \"touchend\": case \"pointerup\": case \"MSPointerUp\":\r\n\t\t\t\t\tcase \"mouseout\": case \"pointerout\": case \"MSPointerOut\":\r\n\t\t\t\t\t\tif(seq.type===\"stepped\"){return;}\r\n\t\t\t\t\t\ttouchActive=false;\r\n\t\t\t\t\t\tif(seq.dir){_seq(\"off\",btnClass);}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"click\":\r\n\t\t\t\t\t\tif(seq.type!==\"stepped\" || d.tweenRunning){return;}\r\n\t\t\t\t\t\t_seq(\"on\",btnClass);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tfunction _seq(a,c){\r\n\t\t\t\t\tseq.scrollAmount=o.scrollButtons.scrollAmount;\r\n\t\t\t\t\t_sequentialScroll($this,a,c);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tKEYBOARD EVENTS\r\n\t\tscrolls content via keyboard \r\n\t\tKeys: up arrow, down arrow, left arrow, right arrow, PgUp, PgDn, Home, End\r\n\t\t*/\r\n\t\t_keyboard=function(){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,seq=d.sequential,\r\n\t\t\t\tnamespace=pluginPfx+\"_\"+d.idx,\r\n\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\twrapper=mCSB_container.parent(),\r\n\t\t\t\teditables=\"input,textarea,select,datalist,keygen,[contenteditable='true']\",\r\n\t\t\t\tiframe=mCSB_container.find(\"iframe\"),\r\n\t\t\t\tevents=[\"blur.\"+namespace+\" keydown.\"+namespace+\" keyup.\"+namespace];\r\n\t\t\tif(iframe.length){\r\n\t\t\t\tiframe.each(function(){\r\n\t\t\t\t\t$(this).bind(\"load\",function(){\r\n\t\t\t\t\t\t/* bind events on accessible iframes */\r\n\t\t\t\t\t\tif(_canAccessIFrame(this)){\r\n\t\t\t\t\t\t\t$(this.contentDocument || this.contentWindow.document).bind(events[0],function(e){\r\n\t\t\t\t\t\t\t\t_onKeyboard(e);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tmCustomScrollBox.attr(\"tabindex\",\"0\").bind(events[0],function(e){\r\n\t\t\t\t_onKeyboard(e);\r\n\t\t\t});\r\n\t\t\tfunction _onKeyboard(e){\r\n\t\t\t\tswitch(e.type){\r\n\t\t\t\t\tcase \"blur\":\r\n\t\t\t\t\t\tif(d.tweenRunning && seq.dir){_seq(\"off\",null);}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"keydown\": case \"keyup\":\r\n\t\t\t\t\t\tvar code=e.keyCode ? e.keyCode : e.which,action=\"on\";\r\n\t\t\t\t\t\tif((o.axis!==\"x\" && (code===38 || code===40)) || (o.axis!==\"y\" && (code===37 || code===39))){\r\n\t\t\t\t\t\t\t/* up (38), down (40), left (37), right (39) arrows */\r\n\t\t\t\t\t\t\tif(((code===38 || code===40) && !d.overflowed[0]) || ((code===37 || code===39) && !d.overflowed[1])){return;}\r\n\t\t\t\t\t\t\tif(e.type===\"keyup\"){action=\"off\";}\r\n\t\t\t\t\t\t\tif(!$(document.activeElement).is(editables)){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t\t_seq(action,code);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else if(code===33 || code===34){\r\n\t\t\t\t\t\t\t/* PgUp (33), PgDn (34) */\r\n\t\t\t\t\t\t\tif(d.overflowed[0] || d.overflowed[1]){\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(e.type===\"keyup\"){\r\n\t\t\t\t\t\t\t\t_stop($this);\r\n\t\t\t\t\t\t\t\tvar keyboardDir=code===34 ? -1 : 1;\r\n\t\t\t\t\t\t\t\tif(o.axis===\"x\" || (o.axis===\"yx\" && d.overflowed[1] && !d.overflowed[0])){\r\n\t\t\t\t\t\t\t\t\tvar dir=\"x\",to=Math.abs(mCSB_container[0].offsetLeft)-(keyboardDir*(wrapper.width()*0.9));\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tvar dir=\"y\",to=Math.abs(mCSB_container[0].offsetTop)-(keyboardDir*(wrapper.height()*0.9));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t_scrollTo($this,to.toString(),{dir:dir,scrollEasing:\"mcsEaseInOut\"});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else if(code===35 || code===36){\r\n\t\t\t\t\t\t\t/* End (35), Home (36) */\r\n\t\t\t\t\t\t\tif(!$(document.activeElement).is(editables)){\r\n\t\t\t\t\t\t\t\tif(d.overflowed[0] || d.overflowed[1]){\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(e.type===\"keyup\"){\r\n\t\t\t\t\t\t\t\t\tif(o.axis===\"x\" || (o.axis===\"yx\" && d.overflowed[1] && !d.overflowed[0])){\r\n\t\t\t\t\t\t\t\t\t\tvar dir=\"x\",to=code===35 ? Math.abs(wrapper.width()-mCSB_container.outerWidth(false)) : 0;\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tvar dir=\"y\",to=code===35 ? Math.abs(wrapper.height()-mCSB_container.outerHeight(false)) : 0;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t_scrollTo($this,to.toString(),{dir:dir,scrollEasing:\"mcsEaseInOut\"});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tfunction _seq(a,c){\r\n\t\t\t\t\tseq.type=o.keyboard.scrollType;\r\n\t\t\t\t\tseq.scrollAmount=o.keyboard.scrollAmount;\r\n\t\t\t\t\tif(seq.type===\"stepped\" && d.tweenRunning){return;}\r\n\t\t\t\t\t_sequentialScroll($this,a,c);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* scrolls content sequentially (used when scrolling via buttons, keyboard arrows etc.) */\r\n\t\t_sequentialScroll=function(el,action,trigger,e,s){\r\n\t\t\tvar d=el.data(pluginPfx),o=d.opt,seq=d.sequential,\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\tonce=seq.type===\"stepped\" ? true : false,\r\n\t\t\t\tsteplessSpeed=o.scrollInertia < 26 ? 26 : o.scrollInertia, /* 26/1.5=17 */\r\n\t\t\t\tsteppedSpeed=o.scrollInertia < 1 ? 17 : o.scrollInertia;\r\n\t\t\tswitch(action){\r\n\t\t\t\tcase \"on\":\r\n\t\t\t\t\tseq.dir=[\r\n\t\t\t\t\t\t(trigger===classes[16] || trigger===classes[15] || trigger===39 || trigger===37 ? \"x\" : \"y\"),\r\n\t\t\t\t\t\t(trigger===classes[13] || trigger===classes[15] || trigger===38 || trigger===37 ? -1 : 1)\r\n\t\t\t\t\t];\r\n\t\t\t\t\t_stop(el);\r\n\t\t\t\t\tif(_isNumeric(trigger) && seq.type===\"stepped\"){return;}\r\n\t\t\t\t\t_on(once);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"off\":\r\n\t\t\t\t\t_off();\r\n\t\t\t\t\tif(once || (d.tweenRunning && seq.dir)){\r\n\t\t\t\t\t\t_on(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* starts sequence */\r\n\t\t\tfunction _on(once){\r\n\t\t\t\tif(o.snapAmount){seq.scrollAmount=!(o.snapAmount instanceof Array) ? o.snapAmount : seq.dir[0]===\"x\" ? o.snapAmount[1] : o.snapAmount[0];} /* scrolling snapping */\r\n\t\t\t\tvar c=seq.type!==\"stepped\", /* continuous scrolling */\r\n\t\t\t\t\tt=s ? s : !once ? 1000/60 : c ? steplessSpeed/1.5 : steppedSpeed, /* timer */\r\n\t\t\t\t\tm=!once ? 2.5 : c ? 7.5 : 40, /* multiplier */\r\n\t\t\t\t\tcontentPos=[Math.abs(mCSB_container[0].offsetTop),Math.abs(mCSB_container[0].offsetLeft)],\r\n\t\t\t\t\tratio=[d.scrollRatio.y>10 ? 10 : d.scrollRatio.y,d.scrollRatio.x>10 ? 10 : d.scrollRatio.x],\r\n\t\t\t\t\tamount=seq.dir[0]===\"x\" ? contentPos[1]+(seq.dir[1]*(ratio[1]*m)) : contentPos[0]+(seq.dir[1]*(ratio[0]*m)),\r\n\t\t\t\t\tpx=seq.dir[0]===\"x\" ? contentPos[1]+(seq.dir[1]*parseInt(seq.scrollAmount)) : contentPos[0]+(seq.dir[1]*parseInt(seq.scrollAmount)),\r\n\t\t\t\t\tto=seq.scrollAmount!==\"auto\" ? px : amount,\r\n\t\t\t\t\teasing=e ? e : !once ? \"mcsLinear\" : c ? \"mcsLinearOut\" : \"mcsEaseInOut\",\r\n\t\t\t\t\tonComplete=!once ? false : true;\r\n\t\t\t\tif(once && t<17){\r\n\t\t\t\t\tto=seq.dir[0]===\"x\" ? contentPos[1] : contentPos[0];\r\n\t\t\t\t}\r\n\t\t\t\t_scrollTo(el,to.toString(),{dir:seq.dir[0],scrollEasing:easing,dur:t,onComplete:onComplete});\r\n\t\t\t\tif(once){\r\n\t\t\t\t\tseq.dir=false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tclearTimeout(seq.step);\r\n\t\t\t\tseq.step=setTimeout(function(){\r\n\t\t\t\t\t_on();\r\n\t\t\t\t},t);\r\n\t\t\t}\r\n\t\t\t/* stops sequence */\r\n\t\t\tfunction _off(){\r\n\t\t\t\tclearTimeout(seq.step);\r\n\t\t\t\t_delete(seq,\"step\");\r\n\t\t\t\t_stop(el);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* returns a yx array from value */\r\n\t\t_arr=function(val){\r\n\t\t\tvar o=$(this).data(pluginPfx).opt,vals=[];\r\n\t\t\tif(typeof val===\"function\"){val=val();} /* check if the value is a single anonymous function */\r\n\t\t\t/* check if value is object or array, its length and create an array with yx values */\r\n\t\t\tif(!(val instanceof Array)){ /* object value (e.g. {y:\"100\",x:\"100\"}, 100 etc.) */\r\n\t\t\t\tvals[0]=val.y ? val.y : val.x || o.axis===\"x\" ? null : val;\r\n\t\t\t\tvals[1]=val.x ? val.x : val.y || o.axis===\"y\" ? null : val;\r\n\t\t\t}else{ /* array value (e.g. [100,100]) */\r\n\t\t\t\tvals=val.length>1 ? [val[0],val[1]] : o.axis===\"x\" ? [null,val[0]] : [val[0],null];\r\n\t\t\t}\r\n\t\t\t/* check if array values are anonymous functions */\r\n\t\t\tif(typeof vals[0]===\"function\"){vals[0]=vals[0]();}\r\n\t\t\tif(typeof vals[1]===\"function\"){vals[1]=vals[1]();}\r\n\t\t\treturn vals;\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* translates values (e.g. \"top\", 100, \"100px\", \"#id\") to actual scroll-to positions */\r\n\t\t_to=function(val,dir){\r\n\t\t\tif(val==null || typeof val==\"undefined\"){return;}\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\twrapper=mCSB_container.parent(),\r\n\t\t\t\tt=typeof val;\r\n\t\t\tif(!dir){dir=o.axis===\"x\" ? \"x\" : \"y\";}\r\n\t\t\tvar contentLength=dir===\"x\" ? mCSB_container.outerWidth(false)-wrapper.width() : mCSB_container.outerHeight(false)-wrapper.height(),\r\n\t\t\t\tcontentPos=dir===\"x\" ? mCSB_container[0].offsetLeft : mCSB_container[0].offsetTop,\r\n\t\t\t\tcssProp=dir===\"x\" ? \"left\" : \"top\";\r\n\t\t\tswitch(t){\r\n\t\t\t\tcase \"function\": /* this currently is not used. Consider removing it */\r\n\t\t\t\t\treturn val();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"object\": /* js/jquery object */\r\n\t\t\t\t\tvar obj=val.jquery ? val : $(val);\r\n\t\t\t\t\tif(!obj.length){return;}\r\n\t\t\t\t\treturn dir===\"x\" ? _childPos(obj)[1] : _childPos(obj)[0];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"string\": case \"number\":\r\n\t\t\t\t\tif(_isNumeric(val)){ /* numeric value */\r\n\t\t\t\t\t\treturn Math.abs(val);\r\n\t\t\t\t\t}else if(val.indexOf(\"%\")!==-1){ /* percentage value */\r\n\t\t\t\t\t\treturn Math.abs(contentLength*parseInt(val)/100);\r\n\t\t\t\t\t}else if(val.indexOf(\"-=\")!==-1){ /* decrease value */\r\n\t\t\t\t\t\treturn Math.abs(contentPos-parseInt(val.split(\"-=\")[1]));\r\n\t\t\t\t\t}else if(val.indexOf(\"+=\")!==-1){ /* inrease value */\r\n\t\t\t\t\t\tvar p=(contentPos+parseInt(val.split(\"+=\")[1]));\r\n\t\t\t\t\t\treturn p>=0 ? 0 : Math.abs(p);\r\n\t\t\t\t\t}else if(val.indexOf(\"px\")!==-1 && _isNumeric(val.split(\"px\")[0])){ /* pixels string value (e.g. \"100px\") */\r\n\t\t\t\t\t\treturn Math.abs(val.split(\"px\")[0]);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(val===\"top\" || val===\"left\"){ /* special strings */\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t}else if(val===\"bottom\"){\r\n\t\t\t\t\t\t\treturn Math.abs(wrapper.height()-mCSB_container.outerHeight(false));\r\n\t\t\t\t\t\t}else if(val===\"right\"){\r\n\t\t\t\t\t\t\treturn Math.abs(wrapper.width()-mCSB_container.outerWidth(false));\r\n\t\t\t\t\t\t}else if(val===\"first\" || val===\"last\"){\r\n\t\t\t\t\t\t\tvar obj=mCSB_container.find(\":\"+val);\r\n\t\t\t\t\t\t\treturn dir===\"x\" ? _childPos(obj)[1] : _childPos(obj)[0];\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif($(val).length){ /* jquery selector */\r\n\t\t\t\t\t\t\t\treturn dir===\"x\" ? _childPos($(val))[1] : _childPos($(val))[0];\r\n\t\t\t\t\t\t\t}else{ /* other values (e.g. \"100em\") */\r\n\t\t\t\t\t\t\t\tmCSB_container.css(cssProp,val);\r\n\t\t\t\t\t\t\t\tmethods.update.call(null,$this[0]);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* calls the update method automatically */\r\n\t\t_autoUpdate=function(rem){\r\n\t\t\tvar $this=$(this),d=$this.data(pluginPfx),o=d.opt,\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\");\r\n\t\t\tif(rem){\r\n\t\t\t\t/* \r\n\t\t\t\tremoves autoUpdate timer \r\n\t\t\t\tusage: _autoUpdate.call(this,\"remove\");\r\n\t\t\t\t*/\r\n\t\t\t\tclearTimeout(mCSB_container[0].autoUpdate);\r\n\t\t\t\t_delete(mCSB_container[0],\"autoUpdate\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tupd();\r\n\t\t\tfunction upd(){\r\n\t\t\t\tclearTimeout(mCSB_container[0].autoUpdate);\r\n\t\t\t\tif($this.parents(\"html\").length===0){\r\n\t\t\t\t\t/* check element in dom tree */\r\n\t\t\t\t\t$this=null;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tmCSB_container[0].autoUpdate=setTimeout(function(){\r\n\t\t\t\t\t/* update on specific selector(s) length and size change */\r\n\t\t\t\t\tif(o.advanced.updateOnSelectorChange){\r\n\t\t\t\t\t\td.poll.change.n=sizesSum();\r\n\t\t\t\t\t\tif(d.poll.change.n!==d.poll.change.o){\r\n\t\t\t\t\t\t\td.poll.change.o=d.poll.change.n;\r\n\t\t\t\t\t\t\tdoUpd(3);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/* update on main element and scrollbar size changes */\r\n\t\t\t\t\tif(o.advanced.updateOnContentResize){\r\n\t\t\t\t\t\td.poll.size.n=$this[0].scrollHeight+$this[0].scrollWidth+mCSB_container[0].offsetHeight+$this[0].offsetHeight+$this[0].offsetWidth;\r\n\t\t\t\t\t\tif(d.poll.size.n!==d.poll.size.o){\r\n\t\t\t\t\t\t\td.poll.size.o=d.poll.size.n;\r\n\t\t\t\t\t\t\tdoUpd(1);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/* update on image load */\r\n\t\t\t\t\tif(o.advanced.updateOnImageLoad){\r\n\t\t\t\t\t\tif(!(o.advanced.updateOnImageLoad===\"auto\" && o.axis===\"y\")){ //by default, it doesn't run on vertical content\r\n\t\t\t\t\t\t\td.poll.img.n=mCSB_container.find(\"img\").length;\r\n\t\t\t\t\t\t\tif(d.poll.img.n!==d.poll.img.o){\r\n\t\t\t\t\t\t\t\td.poll.img.o=d.poll.img.n;\r\n\t\t\t\t\t\t\t\tmCSB_container.find(\"img\").each(function(){\r\n\t\t\t\t\t\t\t\t\timgLoader(this);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(o.advanced.updateOnSelectorChange || o.advanced.updateOnContentResize || o.advanced.updateOnImageLoad){upd();}\r\n\t\t\t\t},o.advanced.autoUpdateTimeout);\r\n\t\t\t}\r\n\t\t\t/* a tiny image loader */\r\n\t\t\tfunction imgLoader(el){\r\n\t\t\t\tif($(el).hasClass(classes[2])){doUpd(); return;}\r\n\t\t\t\tvar img=new Image();\r\n\t\t\t\tfunction createDelegate(contextObject,delegateMethod){\r\n\t\t\t\t\treturn function(){return delegateMethod.apply(contextObject,arguments);}\r\n\t\t\t\t}\r\n\t\t\t\tfunction imgOnLoad(){\r\n\t\t\t\t\tthis.onload=null;\r\n\t\t\t\t\t$(el).addClass(classes[2]);\r\n\t\t\t\t\tdoUpd(2);\r\n\t\t\t\t}\r\n\t\t\t\timg.onload=createDelegate(img,imgOnLoad);\r\n\t\t\t\timg.src=el.src;\r\n\t\t\t}\r\n\t\t\t/* returns the total height and width sum of all elements matching the selector */\r\n\t\t\tfunction sizesSum(){\r\n\t\t\t\tif(o.advanced.updateOnSelectorChange===true){o.advanced.updateOnSelectorChange=\"*\";}\r\n\t\t\t\tvar total=0,sel=mCSB_container.find(o.advanced.updateOnSelectorChange);\r\n\t\t\t\tif(o.advanced.updateOnSelectorChange && sel.length>0){sel.each(function(){total+=this.offsetHeight+this.offsetWidth;});}\r\n\t\t\t\treturn total;\r\n\t\t\t}\r\n\t\t\t/* calls the update method */\r\n\t\t\tfunction doUpd(cb){\r\n\t\t\t\tclearTimeout(mCSB_container[0].autoUpdate);\r\n\t\t\t\tmethods.update.call(null,$this[0],cb);\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* snaps scrolling to a multiple of a pixels number */\r\n\t\t_snapAmount=function(to,amount,offset){\r\n\t\t\treturn (Math.round(to/amount)*amount-offset); \r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* stops content and scrollbar animations */\r\n\t\t_stop=function(el){\r\n\t\t\tvar d=el.data(pluginPfx),\r\n\t\t\t\tsel=$(\"#mCSB_\"+d.idx+\"_container,#mCSB_\"+d.idx+\"_container_wrapper,#mCSB_\"+d.idx+\"_dragger_vertical,#mCSB_\"+d.idx+\"_dragger_horizontal\");\r\n\t\t\tsel.each(function(){\r\n\t\t\t\t_stopTween.call(this);\r\n\t\t\t});\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tANIMATES CONTENT \r\n\t\tThis is where the actual scrolling happens\r\n\t\t*/\r\n\t\t_scrollTo=function(el,to,options){\r\n\t\t\tvar d=el.data(pluginPfx),o=d.opt,\r\n\t\t\t\tdefaults={\r\n\t\t\t\t\ttrigger:\"internal\",\r\n\t\t\t\t\tdir:\"y\",\r\n\t\t\t\t\tscrollEasing:\"mcsEaseOut\",\r\n\t\t\t\t\tdrag:false,\r\n\t\t\t\t\tdur:o.scrollInertia,\r\n\t\t\t\t\toverwrite:\"all\",\r\n\t\t\t\t\tcallbacks:true,\r\n\t\t\t\t\tonStart:true,\r\n\t\t\t\t\tonUpdate:true,\r\n\t\t\t\t\tonComplete:true\r\n\t\t\t\t},\r\n\t\t\t\toptions=$.extend(defaults,options),\r\n\t\t\t\tdur=[options.dur,(options.drag ? 0 : options.dur)],\r\n\t\t\t\tmCustomScrollBox=$(\"#mCSB_\"+d.idx),\r\n\t\t\t\tmCSB_container=$(\"#mCSB_\"+d.idx+\"_container\"),\r\n\t\t\t\twrapper=mCSB_container.parent(),\r\n\t\t\t\ttotalScrollOffsets=o.callbacks.onTotalScrollOffset ? _arr.call(el,o.callbacks.onTotalScrollOffset) : [0,0],\r\n\t\t\t\ttotalScrollBackOffsets=o.callbacks.onTotalScrollBackOffset ? _arr.call(el,o.callbacks.onTotalScrollBackOffset) : [0,0];\r\n\t\t\td.trigger=options.trigger;\r\n\t\t\tif(wrapper.scrollTop()!==0 || wrapper.scrollLeft()!==0){ /* always reset scrollTop/Left */\r\n\t\t\t\t$(\".mCSB_\"+d.idx+\"_scrollbar\").css(\"visibility\",\"visible\");\r\n\t\t\t\twrapper.scrollTop(0).scrollLeft(0);\r\n\t\t\t}\r\n\t\t\tif(to===\"_resetY\" && !d.contentReset.y){\r\n\t\t\t\t/* callbacks: onOverflowYNone */\r\n\t\t\t\tif(_cb(\"onOverflowYNone\")){o.callbacks.onOverflowYNone.call(el[0]);}\r\n\t\t\t\td.contentReset.y=1;\r\n\t\t\t}\r\n\t\t\tif(to===\"_resetX\" && !d.contentReset.x){\r\n\t\t\t\t/* callbacks: onOverflowXNone */\r\n\t\t\t\tif(_cb(\"onOverflowXNone\")){o.callbacks.onOverflowXNone.call(el[0]);}\r\n\t\t\t\td.contentReset.x=1;\r\n\t\t\t}\r\n\t\t\tif(to===\"_resetY\" || to===\"_resetX\"){return;}\r\n\t\t\tif((d.contentReset.y || !el[0].mcs) && d.overflowed[0]){\r\n\t\t\t\t/* callbacks: onOverflowY */\r\n\t\t\t\tif(_cb(\"onOverflowY\")){o.callbacks.onOverflowY.call(el[0]);}\r\n\t\t\t\td.contentReset.x=null;\r\n\t\t\t}\r\n\t\t\tif((d.contentReset.x || !el[0].mcs) && d.overflowed[1]){\r\n\t\t\t\t/* callbacks: onOverflowX */\r\n\t\t\t\tif(_cb(\"onOverflowX\")){o.callbacks.onOverflowX.call(el[0]);}\r\n\t\t\t\td.contentReset.x=null;\r\n\t\t\t}\r\n\t\t\tif(o.snapAmount){ /* scrolling snapping */\r\n\t\t\t\tvar snapAmount=!(o.snapAmount instanceof Array) ? o.snapAmount : options.dir===\"x\" ? o.snapAmount[1] : o.snapAmount[0];\r\n\t\t\t\tto=_snapAmount(to,snapAmount,o.snapOffset);\r\n\t\t\t}\r\n\t\t\tswitch(options.dir){\r\n\t\t\t\tcase \"x\":\r\n\t\t\t\t\tvar mCSB_dragger=$(\"#mCSB_\"+d.idx+\"_dragger_horizontal\"),\r\n\t\t\t\t\t\tproperty=\"left\",\r\n\t\t\t\t\t\tcontentPos=mCSB_container[0].offsetLeft,\r\n\t\t\t\t\t\tlimit=[\r\n\t\t\t\t\t\t\tmCustomScrollBox.width()-mCSB_container.outerWidth(false),\r\n\t\t\t\t\t\t\tmCSB_dragger.parent().width()-mCSB_dragger.width()\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tscrollTo=[to,to===0 ? 0 : (to/d.scrollRatio.x)],\r\n\t\t\t\t\t\ttso=totalScrollOffsets[1],\r\n\t\t\t\t\t\ttsbo=totalScrollBackOffsets[1],\r\n\t\t\t\t\t\ttotalScrollOffset=tso>0 ? tso/d.scrollRatio.x : 0,\r\n\t\t\t\t\t\ttotalScrollBackOffset=tsbo>0 ? tsbo/d.scrollRatio.x : 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"y\":\r\n\t\t\t\t\tvar mCSB_dragger=$(\"#mCSB_\"+d.idx+\"_dragger_vertical\"),\r\n\t\t\t\t\t\tproperty=\"top\",\r\n\t\t\t\t\t\tcontentPos=mCSB_container[0].offsetTop,\r\n\t\t\t\t\t\tlimit=[\r\n\t\t\t\t\t\t\tmCustomScrollBox.height()-mCSB_container.outerHeight(false),\r\n\t\t\t\t\t\t\tmCSB_dragger.parent().height()-mCSB_dragger.height()\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tscrollTo=[to,to===0 ? 0 : (to/d.scrollRatio.y)],\r\n\t\t\t\t\t\ttso=totalScrollOffsets[0],\r\n\t\t\t\t\t\ttsbo=totalScrollBackOffsets[0],\r\n\t\t\t\t\t\ttotalScrollOffset=tso>0 ? tso/d.scrollRatio.y : 0,\r\n\t\t\t\t\t\ttotalScrollBackOffset=tsbo>0 ? tsbo/d.scrollRatio.y : 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif(scrollTo[1]<0 || (scrollTo[0]===0 && scrollTo[1]===0)){\r\n\t\t\t\tscrollTo=[0,0];\r\n\t\t\t}else if(scrollTo[1]>=limit[1]){\r\n\t\t\t\tscrollTo=[limit[0],limit[1]];\r\n\t\t\t}else{\r\n\t\t\t\tscrollTo[0]=-scrollTo[0];\r\n\t\t\t}\r\n\t\t\tif(!el[0].mcs){\r\n\t\t\t\t_mcs();  /* init mcs object (once) to make it available before callbacks */\r\n\t\t\t\tif(_cb(\"onInit\")){o.callbacks.onInit.call(el[0]);} /* callbacks: onInit */\r\n\t\t\t}\r\n\t\t\tclearTimeout(mCSB_container[0].onCompleteTimeout);\r\n\t\t\t_tweenTo(mCSB_dragger[0],property,Math.round(scrollTo[1]),dur[1],options.scrollEasing);\r\n\t\t\tif(!d.tweenRunning && ((contentPos===0 && scrollTo[0]>=0) || (contentPos===limit[0] && scrollTo[0]<=limit[0]))){return;}\r\n\t\t\t_tweenTo(mCSB_container[0],property,Math.round(scrollTo[0]),dur[0],options.scrollEasing,options.overwrite,{\r\n\t\t\t\tonStart:function(){\r\n\t\t\t\t\tif(options.callbacks && options.onStart && !d.tweenRunning){\r\n\t\t\t\t\t\t/* callbacks: onScrollStart */\r\n\t\t\t\t\t\tif(_cb(\"onScrollStart\")){_mcs(); o.callbacks.onScrollStart.call(el[0]);}\r\n\t\t\t\t\t\td.tweenRunning=true;\r\n\t\t\t\t\t\t_onDragClasses(mCSB_dragger);\r\n\t\t\t\t\t\td.cbOffsets=_cbOffsets();\r\n\t\t\t\t\t}\r\n\t\t\t\t},onUpdate:function(){\r\n\t\t\t\t\tif(options.callbacks && options.onUpdate){\r\n\t\t\t\t\t\t/* callbacks: whileScrolling */\r\n\t\t\t\t\t\tif(_cb(\"whileScrolling\")){_mcs(); o.callbacks.whileScrolling.call(el[0]);}\r\n\t\t\t\t\t}\r\n\t\t\t\t},onComplete:function(){\r\n\t\t\t\t\tif(options.callbacks && options.onComplete){\r\n\t\t\t\t\t\tif(o.axis===\"yx\"){clearTimeout(mCSB_container[0].onCompleteTimeout);}\r\n\t\t\t\t\t\tvar t=mCSB_container[0].idleTimer || 0;\r\n\t\t\t\t\t\tmCSB_container[0].onCompleteTimeout=setTimeout(function(){\r\n\t\t\t\t\t\t\t/* callbacks: onScroll, onTotalScroll, onTotalScrollBack */\r\n\t\t\t\t\t\t\tif(_cb(\"onScroll\")){_mcs(); o.callbacks.onScroll.call(el[0]);}\r\n\t\t\t\t\t\t\tif(_cb(\"onTotalScroll\") && scrollTo[1]>=limit[1]-totalScrollOffset && d.cbOffsets[0]){_mcs(); o.callbacks.onTotalScroll.call(el[0]);}\r\n\t\t\t\t\t\t\tif(_cb(\"onTotalScrollBack\") && scrollTo[1]<=totalScrollBackOffset && d.cbOffsets[1]){_mcs(); o.callbacks.onTotalScrollBack.call(el[0]);}\r\n\t\t\t\t\t\t\td.tweenRunning=false;\r\n\t\t\t\t\t\t\tmCSB_container[0].idleTimer=0;\r\n\t\t\t\t\t\t\t_onDragClasses(mCSB_dragger,\"hide\");\r\n\t\t\t\t\t\t},t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t/* checks if callback function exists */\r\n\t\t\tfunction _cb(cb){\r\n\t\t\t\treturn d && o.callbacks[cb] && typeof o.callbacks[cb]===\"function\";\r\n\t\t\t}\r\n\t\t\t/* checks whether callback offsets always trigger */\r\n\t\t\tfunction _cbOffsets(){\r\n\t\t\t\treturn [o.callbacks.alwaysTriggerOffsets || contentPos>=limit[0]+tso,o.callbacks.alwaysTriggerOffsets || contentPos<=-tsbo];\r\n\t\t\t}\r\n\t\t\t/* \r\n\t\t\tpopulates object with useful values for the user \r\n\t\t\tvalues: \r\n\t\t\t\tcontent: this.mcs.content\r\n\t\t\t\tcontent top position: this.mcs.top \r\n\t\t\t\tcontent left position: this.mcs.left \r\n\t\t\t\tdragger top position: this.mcs.draggerTop \r\n\t\t\t\tdragger left position: this.mcs.draggerLeft \r\n\t\t\t\tscrolling y percentage: this.mcs.topPct \r\n\t\t\t\tscrolling x percentage: this.mcs.leftPct \r\n\t\t\t\tscrolling direction: this.mcs.direction\r\n\t\t\t*/\r\n\t\t\tfunction _mcs(){\r\n\t\t\t\tvar cp=[mCSB_container[0].offsetTop,mCSB_container[0].offsetLeft], /* content position */\r\n\t\t\t\t\tdp=[mCSB_dragger[0].offsetTop,mCSB_dragger[0].offsetLeft], /* dragger position */\r\n\t\t\t\t\tcl=[mCSB_container.outerHeight(false),mCSB_container.outerWidth(false)], /* content length */\r\n\t\t\t\t\tpl=[mCustomScrollBox.height(),mCustomScrollBox.width()]; /* content parent length */\r\n\t\t\t\tel[0].mcs={\r\n\t\t\t\t\tcontent:mCSB_container, /* original content wrapper as jquery object */\r\n\t\t\t\t\ttop:cp[0],left:cp[1],draggerTop:dp[0],draggerLeft:dp[1],\r\n\t\t\t\t\ttopPct:Math.round((100*Math.abs(cp[0]))/(Math.abs(cl[0])-pl[0])),leftPct:Math.round((100*Math.abs(cp[1]))/(Math.abs(cl[1])-pl[1])),\r\n\t\t\t\t\tdirection:options.dir\r\n\t\t\t\t};\r\n\t\t\t\t/* \r\n\t\t\t\tthis refers to the original element containing the scrollbar(s)\r\n\t\t\t\tusage: this.mcs.top, this.mcs.leftPct etc. \r\n\t\t\t\t*/\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* \r\n\t\tCUSTOM JAVASCRIPT ANIMATION TWEEN \r\n\t\tLighter and faster than jquery animate() and css transitions \r\n\t\tAnimates top/left properties and includes easings \r\n\t\t*/\r\n\t\t_tweenTo=function(el,prop,to,duration,easing,overwrite,callbacks){\r\n\t\t\tif(!el._mTween){el._mTween={top:{},left:{}};}\r\n\t\t\tvar callbacks=callbacks || {},\r\n\t\t\t\tonStart=callbacks.onStart || function(){},onUpdate=callbacks.onUpdate || function(){},onComplete=callbacks.onComplete || function(){},\r\n\t\t\t\tstartTime=_getTime(),_delay,progress=0,from=el.offsetTop,elStyle=el.style,_request,tobj=el._mTween[prop];\r\n\t\t\tif(prop===\"left\"){from=el.offsetLeft;}\r\n\t\t\tvar diff=to-from;\r\n\t\t\ttobj.stop=0;\r\n\t\t\tif(overwrite!==\"none\"){_cancelTween();}\r\n\t\t\t_startTween();\r\n\t\t\tfunction _step(){\r\n\t\t\t\tif(tobj.stop){return;}\r\n\t\t\t\tif(!progress){onStart.call();}\r\n\t\t\t\tprogress=_getTime()-startTime;\r\n\t\t\t\t_tween();\r\n\t\t\t\tif(progress>=tobj.time){\r\n\t\t\t\t\ttobj.time=(progress>tobj.time) ? progress+_delay-(progress-tobj.time) : progress+_delay-1;\r\n\t\t\t\t\tif(tobj.time<progress+1){tobj.time=progress+1;}\r\n\t\t\t\t}\r\n\t\t\t\tif(tobj.time<duration){tobj.id=_request(_step);}else{onComplete.call();}\r\n\t\t\t}\r\n\t\t\tfunction _tween(){\r\n\t\t\t\tif(duration>0){\r\n\t\t\t\t\ttobj.currVal=_ease(tobj.time,from,diff,duration,easing);\r\n\t\t\t\t\telStyle[prop]=Math.round(tobj.currVal)+\"px\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\telStyle[prop]=to+\"px\";\r\n\t\t\t\t}\r\n\t\t\t\tonUpdate.call();\r\n\t\t\t}\r\n\t\t\tfunction _startTween(){\r\n\t\t\t\t_delay=1000/60;\r\n\t\t\t\ttobj.time=progress+_delay;\r\n\t\t\t\t_request=(!window.requestAnimationFrame) ? function(f){_tween(); return setTimeout(f,0.01);} : window.requestAnimationFrame;\r\n\t\t\t\ttobj.id=_request(_step);\r\n\t\t\t}\r\n\t\t\tfunction _cancelTween(){\r\n\t\t\t\tif(tobj.id==null){return;}\r\n\t\t\t\tif(!window.requestAnimationFrame){clearTimeout(tobj.id);\r\n\t\t\t\t}else{window.cancelAnimationFrame(tobj.id);}\r\n\t\t\t\ttobj.id=null;\r\n\t\t\t}\r\n\t\t\tfunction _ease(t,b,c,d,type){\r\n\t\t\t\tswitch(type){\r\n\t\t\t\t\tcase \"linear\": case \"mcsLinear\":\r\n\t\t\t\t\t\treturn c*t/d + b;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"mcsLinearOut\":\r\n\t\t\t\t\t\tt/=d; t--; return c * Math.sqrt(1 - t*t) + b;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"easeInOutSmooth\":\r\n\t\t\t\t\t\tt/=d/2;\r\n\t\t\t\t\t\tif(t<1) return c/2*t*t + b;\r\n\t\t\t\t\t\tt--;\r\n\t\t\t\t\t\treturn -c/2 * (t*(t-2) - 1) + b;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"easeInOutStrong\":\r\n\t\t\t\t\t\tt/=d/2;\r\n\t\t\t\t\t\tif(t<1) return c/2 * Math.pow( 2, 10 * (t - 1) ) + b;\r\n\t\t\t\t\t\tt--;\r\n\t\t\t\t\t\treturn c/2 * ( -Math.pow( 2, -10 * t) + 2 ) + b;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"easeInOut\": case \"mcsEaseInOut\":\r\n\t\t\t\t\t\tt/=d/2;\r\n\t\t\t\t\t\tif(t<1) return c/2*t*t*t + b;\r\n\t\t\t\t\t\tt-=2;\r\n\t\t\t\t\t\treturn c/2*(t*t*t + 2) + b;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"easeOutSmooth\":\r\n\t\t\t\t\t\tt/=d; t--;\r\n\t\t\t\t\t\treturn -c * (t*t*t*t - 1) + b;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"easeOutStrong\":\r\n\t\t\t\t\t\treturn c * ( -Math.pow( 2, -10 * t/d ) + 1 ) + b;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"easeOut\": case \"mcsEaseOut\": default:\r\n\t\t\t\t\t\tvar ts=(t/=d)*t,tc=ts*t;\r\n\t\t\t\t\t\treturn b+c*(0.499999999999997*tc*ts + -2.5*ts*ts + 5.5*tc + -6.5*ts + 4*t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* returns current time */\r\n\t\t_getTime=function(){\r\n\t\t\tif(window.performance && window.performance.now){\r\n\t\t\t\treturn window.performance.now();\r\n\t\t\t}else{\r\n\t\t\t\tif(window.performance && window.performance.webkitNow){\r\n\t\t\t\t\treturn window.performance.webkitNow();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(Date.now){return Date.now();}else{return new Date().getTime();}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* stops a tween */\r\n\t\t_stopTween=function(){\r\n\t\t\tvar el=this;\r\n\t\t\tif(!el._mTween){el._mTween={top:{},left:{}};}\r\n\t\t\tvar props=[\"top\",\"left\"];\r\n\t\t\tfor(var i=0; i<props.length; i++){\r\n\t\t\t\tvar prop=props[i];\r\n\t\t\t\tif(el._mTween[prop].id){\r\n\t\t\t\t\tif(!window.requestAnimationFrame){clearTimeout(el._mTween[prop].id);\r\n\t\t\t\t\t}else{window.cancelAnimationFrame(el._mTween[prop].id);}\r\n\t\t\t\t\tel._mTween[prop].id=null;\r\n\t\t\t\t\tel._mTween[prop].stop=1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* deletes a property (avoiding the exception thrown by IE) */\r\n\t\t_delete=function(c,m){\r\n\t\t\ttry{delete c[m];}catch(e){c[m]=null;}\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* detects left mouse button */\r\n\t\t_mouseBtnLeft=function(e){\r\n\t\t\treturn !(e.which && e.which!==1);\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* detects if pointer type event is touch */\r\n\t\t_pointerTouch=function(e){\r\n\t\t\tvar t=e.originalEvent.pointerType;\r\n\t\t\treturn !(t && t!==\"touch\" && t!==2);\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* checks if value is numeric */\r\n\t\t_isNumeric=function(val){\r\n\t\t\treturn !isNaN(parseFloat(val)) && isFinite(val);\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* returns element position according to content */\r\n\t\t_childPos=function(el){\r\n\t\t\tvar p=el.parents(\".mCSB_container\");\r\n\t\t\treturn [el.offset().top-p.offset().top,el.offset().left-p.offset().left];\r\n\t\t},\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\t\r\n\t\t/* checks if browser tab is hidden/inactive via Page Visibility API */\r\n\t\t_isTabHidden=function(){\r\n\t\t\tvar prop=_getHiddenProp();\r\n\t\t\tif(!prop) return false;\r\n\t\t\treturn document[prop];\r\n\t\t\tfunction _getHiddenProp(){\r\n\t\t\t\tvar pfx=[\"webkit\",\"moz\",\"ms\",\"o\"];\r\n\t\t\t\tif(\"hidden\" in document) return \"hidden\"; //natively supported\r\n\t\t\t\tfor(var i=0; i<pfx.length; i++){ //prefixed\r\n\t\t\t\t    if((pfx[i]+\"Hidden\") in document) \r\n\t\t\t\t        return pfx[i]+\"Hidden\";\r\n\t\t\t\t}\r\n\t\t\t\treturn null; //not supported\r\n\t\t\t}\r\n\t\t};\r\n\t\t/* -------------------- */\r\n\t\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/* \r\n\t----------------------------------------\r\n\tPLUGIN SETUP \r\n\t----------------------------------------\r\n\t*/\r\n\t\r\n\t/* plugin constructor functions */\r\n\t$.fn[pluginNS]=function(method){ /* usage: $(selector).mCustomScrollbar(); */\r\n\t\tif(methods[method]){\r\n\t\t\treturn methods[method].apply(this,Array.prototype.slice.call(arguments,1));\r\n\t\t}else if(typeof method===\"object\" || !method){\r\n\t\t\treturn methods.init.apply(this,arguments);\r\n\t\t}else{\r\n\t\t\t$.error(\"Method \"+method+\" does not exist\");\r\n\t\t}\r\n\t};\r\n\t$[pluginNS]=function(method){ /* usage: $.mCustomScrollbar(); */\r\n\t\tif(methods[method]){\r\n\t\t\treturn methods[method].apply(this,Array.prototype.slice.call(arguments,1));\r\n\t\t}else if(typeof method===\"object\" || !method){\r\n\t\t\treturn methods.init.apply(this,arguments);\r\n\t\t}else{\r\n\t\t\t$.error(\"Method \"+method+\" does not exist\");\r\n\t\t}\r\n\t};\r\n\t\r\n\t/* \r\n\tallow setting plugin default options. \r\n\tusage: $.mCustomScrollbar.defaults.scrollInertia=500; \r\n\tto apply any changed default options on default selectors (below), use inside document ready fn \r\n\te.g.: $(document).ready(function(){ $.mCustomScrollbar.defaults.scrollInertia=500; });\r\n\t*/\r\n\t$[pluginNS].defaults=defaults;\r\n\t\r\n\t/* \r\n\tadd window object (window.mCustomScrollbar) \r\n\tusage: if(window.mCustomScrollbar){console.log(\"custom scrollbar plugin loaded\");}\r\n\t*/\r\n\twindow[pluginNS]=true;\r\n\t\r\n\t$(window).bind(\"load\",function(){\r\n\t\t\r\n\t\t$(defaultSelector)[pluginNS](); /* add scrollbars automatically on default selector */\r\n\t\t\r\n\t\t/* extend jQuery expressions */\r\n\t\t$.extend($.expr[\":\"],{\r\n\t\t\t/* checks if element is within scrollable viewport */\r\n\t\t\tmcsInView:$.expr[\":\"].mcsInView || function(el){\r\n\t\t\t\tvar $el=$(el),content=$el.parents(\".mCSB_container\"),wrapper,cPos;\r\n\t\t\t\tif(!content.length){return;}\r\n\t\t\t\twrapper=content.parent();\r\n\t\t\t\tcPos=[content[0].offsetTop,content[0].offsetLeft];\r\n\t\t\t\treturn \tcPos[0]+_childPos($el)[0]>=0 && cPos[0]+_childPos($el)[0]<wrapper.height()-$el.outerHeight(false) && \r\n\t\t\t\t\t\tcPos[1]+_childPos($el)[1]>=0 && cPos[1]+_childPos($el)[1]<wrapper.width()-$el.outerWidth(false);\r\n\t\t\t},\r\n\t\t\t/* checks if element or part of element is in view of scrollable viewport */\r\n\t\t\tmcsInSight:$.expr[\":\"].mcsInSight || function(el,i,m){\r\n\t\t\t\tvar $el=$(el),elD,content=$el.parents(\".mCSB_container\"),wrapperView,pos,wrapperViewPct,\r\n\t\t\t\t\tpctVals=m[3]===\"exact\" ? [[1,0],[1,0]] : [[0.9,0.1],[0.6,0.4]];\r\n\t\t\t\tif(!content.length){return;}\r\n\t\t\t\telD=[$el.outerHeight(false),$el.outerWidth(false)];\r\n\t\t\t\tpos=[content[0].offsetTop+_childPos($el)[0],content[0].offsetLeft+_childPos($el)[1]];\r\n\t\t\t\twrapperView=[content.parent()[0].offsetHeight,content.parent()[0].offsetWidth];\r\n\t\t\t\twrapperViewPct=[elD[0]<wrapperView[0] ? pctVals[0] : pctVals[1],elD[1]<wrapperView[1] ? pctVals[0] : pctVals[1]];\r\n\t\t\t\treturn \tpos[0]-(wrapperView[0]*wrapperViewPct[0][0])<0 && pos[0]+elD[0]-(wrapperView[0]*wrapperViewPct[0][1])>=0 && \r\n\t\t\t\t\t\tpos[1]-(wrapperView[1]*wrapperViewPct[1][0])<0 && pos[1]+elD[1]-(wrapperView[1]*wrapperViewPct[1][1])>=0;\r\n\t\t\t},\r\n\t\t\t/* checks if element is overflowed having visible scrollbar(s) */\r\n\t\t\tmcsOverflow:$.expr[\":\"].mcsOverflow || function(el){\r\n\t\t\t\tvar d=$(el).data(pluginPfx);\r\n\t\t\t\tif(!d){return;}\r\n\t\t\t\treturn d.overflowed[0] || d.overflowed[1];\r\n\t\t\t}\r\n\t\t});\r\n\t\r\n\t});\r\n\r\n}))}));"]},"metadata":{},"sourceType":"script"}